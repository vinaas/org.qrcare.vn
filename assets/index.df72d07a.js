import{a as J,g as oe,c as ye,u as M,f as S,r as l,o as p,b as y,w as n,d as i,e as L,v as q,h as s,t as d,i as A,j as c,k as w,F as R,l as B,n as K,m as ce,p as ke,q as Ie,s as de,x as ue,y as ne,z as pe,A as we,B as Ce,C as Te,D as Ae,E as Ee,G as Ue,H as De,I as _e,J as he,K as xe,L as Re,M as $e,N as Pe}from"./vendor.a35cc120.js";const Se=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}};Se();const Y={BASE_URL:"https://api.qrcare.net/api/",IS_M_QRCARE:!0,IS_ORG_QRCARE:!0,DEV_ENV(){return!1},DEMO_CARD(){return!1}};let te={async loadUserAndOrganization(e,t){let a={headers:{Authorization:t},params:{filter:{include:{relation:"organization",scope:{fields:["name","address","hotline","fullname","logoUrl","status","email","website"]}}}}},u=await J.get(Y.BASE_URL+"ApplicationUsers/"+e,a);return u&&u.data?(localStorage.setItem("user",JSON.stringify(u.data)),u.data):{}},async loginByUrl(e){let t=await J.get(e);return t&&t.data?(localStorage.setItem("user",JSON.stringify(t.data)),t.data):{}},async loginById(e,t){return e>0&&t?(localStorage.setItem("userId",e),localStorage.setItem("access_token",t),await this.loadUserAndOrganization(e,t)):{}},async loginByAccount(e){try{let a=(await J.post(Y.BASE_URL+"ApplicationUsers/login",e)).data;if(a.id&&a.userId)return localStorage.setItem("userId",a.userId),localStorage.setItem("access_token",a.id),await this.loadUserAndOrganization(a.userId,a.id)}catch(t){return console.log("loginByAccount()",t),{}}},async logout(){localStorage.removeItem("access_token"),localStorage.removeItem("userId"),localStorage.removeItem("user")},register(e){return J.post(Y.BASE_URL+"ApplicationUsers",{username:e.username,email:e.email,password:e.password})},async postUserDeviceToken(e,t){const a=oe();console.log("getDevice()",a);let u={where:{userId:t,deviceToken:e}},o=await J.get(Y.BASE_URL+"/UserDeviceTokens/count",{params:u});if(o&&o.data&&o.data.count){console.log("NOT RUN postUserDeviceToken()");return}let r={platform:"Mobile Web"},m=new Date,v={deviceToken:e,userId:t,created:m,deviceInfo:r};try{let h=await J.post(Y.BASE_URL+"/UserDeviceTokens",v);console.log("postUserDeviceToken()",h)}catch(h){console.log(h)}}};const le=JSON.parse(localStorage.getItem("user")),Q=ye({state:{isLoading:!0,user:le,isAuthen:!!(le&&le.id>0),isDemoCard:!1},getters:{loading({state:e}){return e.isLoading},isLogged({state:e}){return e.isAuthen},getUser({state:e}){return e.user},getOrganization({state:e}){return e.user&&e.user.organization&&e.user.organization.id?e.user.organization:{}},getOrgId({state:e}){return e.user&&e.user.organizationId?e.user.organizationId:0},isBoss({state:e}){return e.user.roleCode=="BOSS"},isSale({state:e}){return e.user.roleCode=="SALE"},isWorker({state:e}){return e.user.roleCode=="WORKER"}},actions:{setLoading({state:e},t){e.isLoading=t},getUser({state:e,dispatch:t}){t("setLoading",!0);let a=localStorage.getItem("userId"),u=localStorage.getItem("access_token");if(a>0&&u){let o=Y.BASE_URL+`ApplicationUsers/${a}?access_token=${u}`;console.log(a,u,o),fetch(o).then(r=>r.json()).then(r=>{e.user=r,console.log("getUser()",r),t("setLoading",!1)})}},getSupplierUser({state:e,dispatch:t}){t("setLoading",!0);let a=localStorage.getItem("userId"),u=localStorage.getItem("access_token");a>0&&u&&AuthenAPI.loadUserAndOrganization(a,u).then(o=>{e.user=o,e.org=o.organization||{},t("setLoading",!1)}).catch(o=>{console.log("Error_getSupplierUser()",o)})},logout({state:e}){e.user={},localStorage.removeItem("user"),localStorage.removeItem("access_token"),localStorage.removeItem("userId"),e.isAuthen=!1},async login({state:e},t){await te.loginByAccount(t).then(a=>{console.log("store-login()",a),localStorage.setItem("user",JSON.stringify(a)),e.user=a,e.isAuthen=!0})},loginById({state:e},t,a){te.loginById(t,a).then(u=>{console.log("store-loginById()",u),localStorage.setItem("user",JSON.stringify(u)),e.user=u,e.isAuthen=!0})},updateDemoCard({state:e},t){e.isDemoCard=t}}});var D=(e,t)=>{for(const[a,u]of t)e[a]=u;return e};const Oe={props:{packageId:Number},setup(){return{orgId:M("getOrgId")}},emits:["updated"],data(){return{isLoading:!1,item:{},imageUrl:""}},watch:{packageId:"getPackage"},computed:{listImages(){return this.item.imageUrls||[]},pageTitle(){return this.packageId>0?`Chi ti\u1EBFt b\u1ED9 A4 v\u1EDBi Id: ${this.packageId}`:"T\u1EA1o m\u1EDBi s\u1EA3n ph\u1EA9m"}},methods:{getPackage(){let e={title:"Gi\u1EA3i ph\xE1p QRCare",cardType:"CARD_TYPE.EXIST_DEVICE",type:"MANY",count:103,organizationId:111,productId:0,generatedParty:"PARTY.SUPPLIER.SELLER",phase:"NEW_PRODUCT",organizationStaffId:0,pdfUrl:"",status:"GENERATED",metadata:{},created:new Date,modified:new Date};if(this.packageId>0){console.log("getPackage():"+this.packageId);let t=this;this.$supplier.getPackage(this.packageId).then(a=>{this.isLoading=!0,t.isLoading=!1,t.item=a})}else this.item=e},uploadImage(){this.imageUrl&&this.item.imageUrls.push(this.imageUrl)},async activePackage(){if(this.item.status=="ACTIVE"){S.dialog.alert("\u0110\xE3 \u0111\u01B0\u1EE3c k\xEDch ho\u1EA1t");return}let e={status:"ACTIVE",modified:new Date().toISOString()};this.$supplier.updatePackage(this.packageId,e).then(t=>{S.dialog.alert("K\xEDch ho\u1EA1t th\xE0nh c\xF4ng")}).catch(t=>{S.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},async processUpdate(){const e=this;this.$supplier.updatePackage(this.packageId,this.item).then(t=>{S.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{S.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getPackage()}},Le=c("Close"),qe={class:"card"},Ne={class:"card-content"},Qe=s("i",{class:"f7-icons"},"xmark_circle",-1),Be=c("Close"),Ve={class:"f7-icons"},ze=c("Active"),Me=s("i",{class:"f7-icons"},"cloud_upload",-1),Ye=c("Save");function Fe(e,t,a,u,o,r){const m=l("f7-link"),v=l("f7-nav-right"),h=l("f7-navbar"),g=l("f7-preloader"),_=l("f7-list-input"),k=l("f7-button"),f=l("f7-col"),C=l("f7-row"),T=l("f7-list"),U=l("f7-page");return p(),y(U,null,{default:n(()=>[i(h,{title:r.pageTitle},{default:n(()=>[i(v,null,{default:n(()=>[i(m,{"popup-close":""},{default:n(()=>[Le]),_:1})]),_:1})]),_:1},8,["title"]),L(i(g,null,null,512),[[q,o.isLoading]]),L(s("div",qe,[s("div",Ne,[i(T,null,{default:n(()=>[i(_,{type:"text",placeholder:"nh\u1EADp",label:"T\xEAn s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:o.item.title,"onUpdate:value":t[0]||(t[0]=I=>o.item.title=I)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Nh\xE0 s\u1EA3n xu\u1EA5t",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:o.item.cardType,"onUpdate:value":t[1]||(t[1]=I=>o.item.cardType=I)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Lo\u1EA1i package",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:o.item.type,"onUpdate:value":t[2]||(t[2]=I=>o.item.type=I)},null,8,["value"]),i(_,{type:"number",placeholder:"nh\u1EADp",label:"T\u1ED5ng s\u1ED1 Th\u1EBB",outline:"","floating-label":"","clear-button":"",value:o.item.count,"onUpdate:value":t[3]||(t[3]=I=>o.item.count=I)},null,8,["value"]),i(_,{disabled:"",type:"text",placeholder:"nh\u1EADp",label:"Link s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:o.item.pdfUrl,"onUpdate:value":t[4]||(t[4]=I=>o.item.pdfUrl=I)},null,8,["value"]),i(_,{disabled:"",type:"text",placeholder:"",label:"tr\u1EA1ng th\xE1i",outline:"","floating-label":"",required:"",value:o.item.status,"onUpdate:value":t[5]||(t[5]=I=>o.item.status=I)},null,8,["value"]),s("p",null,"organizationId "+d(o.item.organizationId),1),s("p",null,"productId "+d(o.item.productId),1),s("p",null,"Ng\xE0y t\u1EA1o: "+d(e.$utils.formatDate(o.item.created)),1),s("p",null,"Modified: "+d(e.$utils.formatDate(o.item.modified)),1),i(C,null,{default:n(()=>[i(f,{width:"20"},{default:n(()=>[i(k,{round:"",large:"",color:"gray",onClick:t[6]||(t[6]=I=>r.close())},{default:n(()=>[Qe,Be]),_:1})]),_:1}),i(f,{width:"30"},{default:n(()=>[o.item.status!=="ACTIVE"?(p(),y(k,{key:0,fill:"",round:"",large:"",color:"red",onClick:t[7]||(t[7]=I=>r.activePackage())},{default:n(()=>[s("i",Ve,d(e.$utils.getButtonIcon("ACTIVE")),1),ze]),_:1})):A("",!0)]),_:1}),i(f,{width:"40"},{default:n(()=>[i(k,{fill:"",round:"",large:"",onClick:t[8]||(t[8]=I=>r.processUpdate())},{default:n(()=>[Me,Ye]),_:1})]),_:1})]),_:1})]),_:1})])],512),[[q,!o.isLoading]])]),_:1})}var Ke=D(Oe,[["render",Fe]]);const je={components:{Package:Ke},props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,packages:[],item:{},itemId:0,iItemLoading:!1,qrid:[],popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getOrganizationPackages"},methods:{selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getOrganizationPackages(){if(this.orgId){let e=Y.BASE_URL+`Organizations/${this.orgId}/generatedPackages`,t=this;this.isLoading=!0,fetch(e).then(a=>a.json()).then(a=>{t.packages=a,console.log("fetch()",a),t.isLoading=!1})}}},mounted(){this.getOrganizationPackages()}},He={class:"card"},Ge={class:"card-header"},We={class:"card-content card-content-padding scrollable"},Je={class:"list media-list"},Xe=["onClick"],Ze={class:"item-media"},et=["src"],tt={class:"item-inner"},it={class:"item-title-row"},st={class:"item-after"},ot={class:"item-subtitle"},nt={class:"item-text"},lt=s("br",null,null,-1);function at(e,t,a,u,o,r){const m=l("f7-preloader"),v=l("package"),h=l("f7-popup");return p(),w(R,null,[s("div",He,[s("div",Ge,[c(d(o.packages.length)+" B\u1ED9 A4 c\u1EE7a "+d(a.orgId)+" ",1),L(i(m,null,null,512),[[q,o.isLoading]])]),s("div",We,[s("div",Je,[s("ul",null,[(p(!0),w(R,null,B(o.packages,g=>(p(),w("li",{key:g.id},[s("a",{onClick:_=>r.selected(g),class:"item-link item-content chevron-center"},[s("div",Ze,[s("img",{src:e.$utils.getBackgroundImage(g.cardType),width:"80"},null,8,et)]),s("div",tt,[s("div",it,[s("div",{class:K(e.$utils.getStatusColor(g.status))},d(g.id),3),s("div",st,d(g.count),1)]),s("div",ot,d(g.cardType),1),s("div",nt,[c(d(e.$utils.formatDateTime(g.modified)),1),lt])])],8,Xe)]))),128))])])])]),i(h,{class:"edit-package",opened:o.popupOpened,"onPopup:closed":t[0]||(t[0]=g=>o.popupOpened=!1)},{default:n(()=>[i(v,{packageId:o.itemId},null,8,["packageId"])]),_:1},8,["opened"])],64)}var rt=D(je,[["render",at]]);const ct={props:{orgId:Number},emits:["updated"],data(){return{isLoading:!1,popupOpened:!1,item:{},content:""}},watch:{orgId:"getOrganization"},computed:{pageTitle(){return this.orgId>0?`Chi ti\u1EBFt Doanh nghi\u1EC7p Id: ${this.orgId}`:"T\u1EA1o m\u1EDBi Doanh nghi\u1EC7p"}},methods:{getOrganization(){if(this.orgId){console.log("getOrganization():"+this.orgId);let e=this;this.isLoading=!0,this.$supplier.getInfo(this.orgId).then(t=>{e.isLoading=!1,e.item=t,e.content=t.content})}else{let e={name:"",type:"COMPANY",parties:["PARTY.SUPPLIER.SELLER","PARTY.SUPPLIER.SERVICE"],categories:["B\xE1n h\xE0ng \u0111i\u1EC7n m\xE1y, \u0111i\u1EC7n l\u1EA1nh","D\u1ECBch v\u1EE5 v\u1EC7 sinh, b\u1EA3o tr\xEC thi\u1EBFt b\u1ECB c\u0169","D\u1ECBch v\u1EE5 thu mua, thanh l\xFD thi\u1EBFt b\u1ECB c\u0169"],fullname:"",address:"",logoUrl:"",website:"",content:"",imageUrls:[],taxCode:"",hotline:"",email:"",facebook:"",youtube:"",gpsLocation:{lat:0,lng:0},directorId:0,QRCARE_Verified:0,QRCare_Rating:0,parentId:0,rootId:0,status:"CREATED"};this.item=e}},clickInActive(){const e=this;this.$supplier.inActiveSupplier(this.orgId).then(t=>{S.dialog.alert("Kho\xE1 c\xF4ng ty th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{S.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},async clickEdit(){const e=this;this.$supplier.updateSupplier(this.orgId,this.item).then(t=>{S.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{S.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},async clickActive(){const e=this;this.$supplier.activeSupplier(this.orgId).then(t=>{S.dialog.alert("K\xEDch ho\u1EA1t th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{S.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getOrganization()}},dt={class:"card"},ut={class:"card-content"},pt={key:0,class:"item-content"},_t={class:"item-media"},ht=["src"],gt=s("div",{class:"item-inner"},[s("div",{class:"item-title-row"},[s("div",{class:"item-title"},"logo hi\u1EC3n th\u1ECB")])],-1),mt=s("i",{class:"f7-icons"},"xmark_circle",-1),ft=c("Close"),vt={class:"f7-icons"},bt=c("Active"),yt={class:"f7-icons"},kt=c("InActive"),It={class:"f7-icons"},wt=c("Save");function Ct(e,t,a,u,o,r){const m=l("f7-navbar"),v=l("f7-preloader"),h=l("f7-list-input"),g=l("f7-text-editor"),_=l("f7-list"),k=l("f7-button"),f=l("f7-col"),C=l("f7-row"),T=l("f7-block"),U=l("f7-page");return p(),y(U,null,{default:n(()=>[i(m,{title:r.pageTitle},null,8,["title"]),L(i(v,null,null,512),[[q,o.isLoading]]),s("div",null,[s("div",dt,[s("div",ut,[i(_,null,{default:n(()=>[i(h,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn c\xF4ng ty (ng\u1EAFn g\u1ECDn)","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:o.item.name,"onUpdate:value":t[0]||(t[0]=I=>o.item.name=I)},null,8,["value"]),i(h,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn c\xF4ng ty (\u0111\u1EA7y \u0111\u1EE7)","floating-label":"",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:o.item.fullname,"onUpdate:value":t[1]||(t[1]=I=>o.item.fullname=I)},null,8,["value"]),i(h,{outline:"",label:"\u0110\u1ECBa ch\u1EC9 c\xF4ng ty","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"150","clear-button":"",value:o.item.address,"onUpdate:value":t[2]||(t[2]=I=>o.item.address=I)},null,8,["value"]),i(h,{outline:"",label:"Website gi\u1EDBi thi\u1EC7u","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:o.item.website,"onUpdate:value":t[3]||(t[3]=I=>o.item.website=I)},null,8,["value"]),i(h,{outline:"",label:"Logo c\xF4ng ty","floating-label":"",type:"text",placeholder:"link logo","clear-button":"",value:o.item.logoUrl,"onUpdate:value":t[4]||(t[4]=I=>o.item.logoUrl=I)},null,8,["value"]),o.item.logoUrl?(p(),w("li",pt,[s("div",_t,[s("img",{src:o.item.logoUrl,width:"120"},null,8,ht)]),gt])):A("",!0),i(h,{outline:"",label:"Email li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp","clear-button":"",value:o.item.email,"onUpdate:value":t[5]||(t[5]=I=>o.item.email=I)},null,8,["value"]),i(h,{outline:"",label:"Hotline h\u1ED7 tr\u1EE3","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:o.item.hotline,"onUpdate:value":t[6]||(t[6]=I=>o.item.hotline=I)},null,8,["value"]),i(h,{type:"text",outline:"","floating-label":"",label:"M\xE3 s\u1ED1 thu\u1EBF",placeholder:"nh\u1EADp",maxlength:"30","clear-button":"",value:o.item.taxCode,"onUpdate:value":t[7]||(t[7]=I=>o.item.taxCode=I)},null,8,["value"]),i(g,{placeholder:"Enter text...",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:o.item.content,"onTexteditor:change":t[8]||(t[8]=I=>o.item.content=I)},null,8,["value"])]),_:1}),i(T,null,{default:n(()=>[i(C,null,{default:n(()=>[i(f,{width:"25"},{default:n(()=>[i(k,{round:"",large:"",color:"gray",onClick:t[9]||(t[9]=I=>r.close())},{default:n(()=>[mt,ft]),_:1})]),_:1}),i(f,{width:"30"},{default:n(()=>[o.item.status!=="ACTIVE"?(p(),y(k,{key:0,fill:"",round:"",large:"",color:"red",onClick:t[10]||(t[10]=I=>r.clickActive())},{default:n(()=>[s("i",vt,d(e.$utils.getButtonIcon("ACTIVE")),1),bt]),_:1})):(p(),y(k,{key:1,fill:"",round:"",large:"",color:"red",onClick:t[11]||(t[11]=I=>r.clickInActive())},{default:n(()=>[s("i",yt,d(e.$utils.getButtonIcon("ACTIVE")),1),kt]),_:1}))]),_:1}),i(f,{width:"40"},{default:n(()=>[i(k,{fill:"",round:"",large:"",onClick:t[12]||(t[12]=I=>r.clickEdit())},{default:n(()=>[s("i",It,d(e.$utils.getButtonIcon("SAVE")),1),wt]),_:1})]),_:1})]),_:1})]),_:1})])])])]),_:1})}var ae=D(ct,[["render",Ct]]);const Tt={components:{Organization:ae},emits:["selected"],setup(){return{orgId:M("getOrgId")}},data(){return{isLoading:!1,list:[],itemId:0,item:{},popupOpened:!1,filters:{status:"ALL",limit:50,skip:0},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getOrganization"},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getOrganization(){if(this.orgId==111){let e=Y.BASE_URL+"Organizations",t={limit:40,where:{id:{gt:1e3}}},a=this;this.isLoading=!0,ce.json(e,{filter:t}).then(u=>{a.list=u.data,a.isLoading=!1})}}},mounted(){this.getOrganization()}},At={class:"card"},Et={class:"card-header"},Ut=c(" C\xE1c Doanh nghi\u1EC7p \u0111ang s\u1EED d\u1EE5ng QRCare "),Dt=c("ADD"),xt={class:"card-content card-content-padding scrollable"},Rt={class:"list media-list"},$t=["onClick"],Pt={class:"item-media"},St=["src"],Ot={class:"item-inner"},Lt={class:"item-title-row"},qt={class:"item-after"},Nt={class:"item-subtitle"},Qt={class:"item-text"};function Bt(e,t,a,u,o,r){const m=l("f7-preloader"),v=l("f7-button"),h=l("organization"),g=l("f7-popup");return p(),w(R,null,[s("div",At,[s("div",Et,[Ut,L(i(m,null,null,512),[[q,o.isLoading]]),i(v,{onClick:t[0]||(t[0]=_=>r.create())},{default:n(()=>[Dt]),_:1})]),s("div",xt,[s("div",Rt,[s("ul",null,[(p(!0),w(R,null,B(o.list,_=>(p(),w("li",{key:_.id},[s("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[s("div",Pt,[s("img",{src:_.logoUrl,width:"40"},null,8,St)]),s("div",Ot,[s("div",Lt,[s("div",{class:K(e.$utils.getStatusColor(_.status))},d(_.name),3),s("div",qt,d(_.id),1)]),s("div",Nt,d(_.address),1),s("div",Qt,d(_.status)+" "+d(e.$utils.formatDate(_.modified)),1)])],8,$t)]))),128))])])])]),i(g,{class:"organization-popup",opened:o.popupOpened,"onPopup:closed":t[1]||(t[1]=_=>o.popupOpened=!1)},{default:n(()=>[i(h,{orgId:o.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"])],64)}var Vt=D(Tt,[["render",Bt]]);const zt={components:{Organization:ae},emits:["selected"],setup(){return{orgId:M("getOrgId")}},data(){return{isLoading:!1,list:[],itemId:0,item:{},popupOpened:!1,filters:{status:"ALL",limit:50,skip:0},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getOrganization"},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getOrganization(){if(this.orgId==111){let e=Y.BASE_URL+"Organizations",t={fields:["id","name","logoUrl","website","fullname","status","address"],where:{rootId:111,status:"ACTIVE"}},a=this;this.isLoading=!0,ce.json(e,{filter:t}).then(u=>{a.list=u.data,a.isLoading=!1})}}},mounted(){this.getOrganization()}},Mt={class:"card"},Yt={class:"card-header"},Ft=c(" C\xE1c \u0110\u1EA1i l\xFD Ph\xE2n ph\u1ED1i gi\u1EA3i ph\xE1p QRCare "),Kt=c("ADD"),jt={class:"card-content card-content-padding scrollable"},Ht={class:"list media-list"},Gt=["onClick"],Wt={class:"item-media"},Jt=["src"],Xt={class:"item-inner"},Zt={class:"item-title-row"},ei={class:"item-title"},ti={class:"item-after"},ii={class:"item-subtitle"},si={class:"item-text"},oi=s("br",null,null,-1);function ni(e,t,a,u,o,r){const m=l("f7-preloader"),v=l("f7-button"),h=l("organization"),g=l("f7-popup");return p(),w(R,null,[s("div",Mt,[s("div",Yt,[Ft,L(i(m,null,null,512),[[q,o.isLoading]]),i(v,{onClick:t[0]||(t[0]=_=>r.create())},{default:n(()=>[Kt]),_:1})]),s("div",jt,[s("div",Ht,[s("ul",null,[(p(!0),w(R,null,B(o.list,_=>(p(),w("li",{key:_.id},[s("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[s("div",Wt,[s("img",{src:_.logoUrl,width:"40"},null,8,Jt)]),s("div",Xt,[s("div",Zt,[s("div",ei,d(_.name),1),s("div",ti,d(e.$utils.formatDate(_.created)),1)]),s("div",ii,d(_.status)+" "+d(_.id),1),s("div",si,[c(d(_.address),1),oi])])],8,Gt)]))),128))])])])]),i(g,{class:"organization-popup",opened:o.popupOpened,"onPopup:closed":t[1]||(t[1]=_=>o.popupOpened=!1)},{default:n(()=>[i(h,{orgId:o.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"])],64)}var li=D(zt,[["render",ni]]);const ai={components:{},props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,item:{},itemId:0,iItemLoading:!1,qrid:[],popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getActiveCards"},methods:{selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getActiveCards(){if(this.orgId){let e=this;this.isLoading=!0,this.$supplier.getQRID(this.orgId).then(t=>{e.isLoading=!1,e.qrid=t})}}},mounted(){this.getActiveCards()}},ri={class:"card"},ci={class:"card-header"},di={class:"card-content card-content-padding scrollable"},ui={class:"list media-list"},pi=["onClick"],_i={class:"item-media"},hi=["src"],gi={class:"item-inner"},mi={class:"item-title-row"},fi={class:"item-after"},vi={class:"item-subtitle"},bi={class:"item-text"},yi=s("br",null,null,-1);function ki(e,t,a,u,o,r){const m=l("f7-preloader"),v=l("f7-popup");return p(),w(R,null,[s("div",ri,[s("div",ci,[c(" Th\u1EBB k\xEDch ho\u1EA1t c\u1EE7a "+d(a.orgId)+" ",1),L(i(m,null,null,512),[[q,o.isLoading]])]),s("div",di,[s("div",ui,[s("ul",null,[(p(!0),w(R,null,B(o.qrid,h=>(p(),w("li",{key:h.id},[s("a",{onClick:g=>r.selected(h),class:"item-link item-content chevron-center"},[s("div",_i,[s("img",{src:e.$utils.getBackgroundImage(h.cardType),width:"80"},null,8,hi)]),s("div",gi,[s("div",mi,[s("div",{class:K(e.$utils.getStatusColor(h.status))},d(h.id),3),s("div",fi,d(h.count),1)]),s("div",vi,d(h.cardType),1),s("div",bi,[c(d(e.$utils.formatDateTime(h.modified)),1),yi])])],8,pi)]))),128))])])])]),i(v,{class:"edit-package",opened:o.popupOpened,"onPopup:closed":t[0]||(t[0]=h=>o.popupOpened=!1)},null,8,["opened"])],64)}var Ii=D(ai,[["render",ki]]);const wi={components:{Organization:ae,Cards:Ii},props:{orgId:Number},data(){return{isLoading:!1,item:{},itemId:0,popupOpened:!1,showCardsOpened:!1,packageId:"10001001000",selectPack:{},pack:{total:0,active:0},cards:{total:0,active:0},sumProduct:0,sumQRID:0}},watch:{orgId:"getOrganization"},methods:{edit(){this.itemId=this.orgId,this.popupOpened=!0},async addPackage(){const e=parseInt(this.packageId);let t=await this.$supplier.getPackage(e),a=this;S.dialog.confirm(`${t.id}-${t.status} ${t.cardType} 
 OrdId:${t.organizationId}`,`Th\xEAm A4 cho Id: ${this.orgId}`,()=>{console.log("click yes"),a.$supplier.changePackageToOrg(e,a.orgId).then(u=>{S.dialog.alert(`Add ${e} to ${a.orgId}`)})},()=>{S.dialog.alert("Do Nothing")})},async getPackageInfo(){let e=await this.$supplier.getPackage(this.packageId);console.log(e)},showCards(){this.itemId=this.orgId,this.showCardsOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},async getOrganization(){if(this.orgId){console.log("summary, getOrg()");let e=this;this.isLoading=!0,this.$supplier.getInfo(this.orgId).then(t=>{e.isLoading=!1,e.item=t}),this.pack.total=await this.$supplier.countPackages(this.orgId,{}),this.pack.active=await this.$supplier.countPackages(this.orgId,{status:"ACTIVE"}),this.cards.active=await this.$supplier.countSupportQRIDs(this.orgId,{status:"QRID_STATUS.ACTIVE"}),this.cards.total=await this.$supplier.countSupportQRIDs(this.orgId,{})}}},mounted(){this.getOrganization()}},Ci={class:"card"},Ti={class:"card-header"},Ai=c("Edit"),Ei={class:"card-content card-content-padding"},Ui={class:"list media-list"},Di={class:"item-link item-content chevron-center"},xi={class:"item-media"},Ri=["src"],$i={class:"item-inner"},Pi={class:"item-title-row"},Si={class:"item-title"},Oi={class:"item-after"},Li={class:"item-text"},qi=s("br",null,null,-1),Ni={class:"list"},Qi={class:"item-content"},Bi={class:"item-content"},Vi={class:"block block-strong"},zi={class:"row"},Mi={class:"col"},Yi={class:"col"},Fi={class:"row list"},Ki={class:"col-60"},ji={class:"col-30"},Hi=c(" Th\xEAm A4 ");function Gi(e,t,a,u,o,r){const m=l("f7-preloader"),v=l("f7-button"),h=l("f7-list-input"),g=l("f7-item"),_=l("organization"),k=l("f7-popup"),f=l("cards");return p(),w(R,null,[s("div",Ci,[s("div",Ti,[c(" Th\xF4ng tin c\xF4ng ty "+d(a.orgId),1),L(i(m,null,null,512),[[q,o.isLoading]]),i(v,{onClick:t[0]||(t[0]=C=>r.edit())},{default:n(()=>[Ai]),_:1})]),s("div",Ei,[s("div",Ui,[s("ul",null,[s("li",Di,[s("div",xi,[s("img",{src:o.item.logoUrl,width:"40"},null,8,Ri)]),s("div",$i,[s("div",Pi,[s("div",Si,d(o.item.name),1),s("div",Oi,d(o.item.id),1)]),s("div",Li,[c(d(o.item.address),1),qi])])])])]),s("div",Ni,[s("ul",null,[s("li",Qi,"Tr\u1EA1ng th\xE1i: "+d(o.item.status),1),s("li",Bi,"Hotline: "+d(o.item.hotline),1)])])]),s("div",Vi,[s("div",zi,[s("div",Mi,[i(v,{outline:""},{default:n(()=>[c(" B\u1ED9 A4: ("+d(o.pack.active)+" / "+d(o.pack.total)+" ) ",1)]),_:1})]),s("div",Yi,[i(v,{outline:"",onClick:t[1]||(t[1]=C=>r.showCards())},{default:n(()=>[c(" Th\u1EBB ("+d(o.cards.active)+" / "+d(o.cards.total)+") ",1)]),_:1})])]),s("div",Fi,[s("div",Ki,[i(h,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"ID b\u1ED9 A4 (11 s\u1ED1)","floating-label":"",maxlength:"11",value:o.packageId,"onUpdate:value":t[2]||(t[2]=C=>o.packageId=C)},null,8,["value"])]),s("div",ji,[i(g,null,{default:n(()=>[i(v,{fill:"",onClick:t[3]||(t[3]=C=>r.addPackage())},{default:n(()=>[Hi]),_:1})]),_:1})])])])]),i(k,{class:"update-supplier",opened:o.popupOpened,"onPopup:closed":t[4]||(t[4]=C=>o.popupOpened=!1)},{default:n(()=>[i(_,{orgId:o.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"]),i(k,{class:"show-cards",opened:o.showCardsOpened,"onPopup:closed":t[5]||(t[5]=C=>o.showCardsOpened=!1)},{default:n(()=>[i(f,{orgId:o.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"])],64)}var Wi=D(wi,[["render",Gi]]);const Ji={props:{supplierId:Number,userId:Number},setup(){return{orgId:M("getOrgId")}},emits:["updated"],data(){return{isLoading:!1,item:{},imageUrl:""}},watch:{userId:"getSupplierEmployee"},computed:{listImages(){return this.item.imageUrls||[]},pageTitle(){return this.userId>0?`Chi ti\u1EBFt nh\xE2n vi\xEAn v\u1EDBi Id: ${this.userId}`:"T\u1EA1o m\u1EDBi nh\xE2n vi\xEAn"}},methods:{getSupplierEmployee(){console.log("getSupplierEmployee():"+this.userId,this.supplierId);let e={fullName:"",roleId:2,roleCode:"WORKER",organizationId:888,teamId:0,personId:0,status:"GENERATED",created:new Date,createdBy:1,modified:new Date,username:""};if(this.userId>0&&this.supplierId>0){let t=this;this.$supplier.getSupplierEmployee(this.userId,this.supplierId).then(a=>{this.isLoading=!0,t.isLoading=!1,t.item=a})}else this.item=e},async processUpdate(){},close(){this.$emit("updated","CLOSE")}},mounted(){this.getSupplierEmployee()}},Xi=c("Close"),Zi={class:"card"},es={class:"card-content"},ts=s("i",{class:"f7-icons"},"xmark_circle",-1),is=c("Cancel"),ss=s("i",{class:"f7-icons"},"cloud_upload",-1),os=c("Save");function ns(e,t,a,u,o,r){const m=l("f7-link"),v=l("f7-nav-right"),h=l("f7-navbar"),g=l("f7-preloader"),_=l("f7-list-input"),k=l("f7-list"),f=l("f7-button"),C=l("f7-col"),T=l("f7-row"),U=l("f7-block"),I=l("f7-page");return p(),y(I,null,{default:n(()=>[i(h,{title:r.pageTitle},{default:n(()=>[i(v,null,{default:n(()=>[i(m,{"popup-close":""},{default:n(()=>[Xi]),_:1})]),_:1})]),_:1},8,["title"]),L(i(g,null,null,512),[[q,o.isLoading]]),L(s("div",Zi,[s("div",es,[i(k,null,{default:n(()=>[i(_,{disabled:"",type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn \u0111\u0103ng nh\u1EADp","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:o.item.username,"onUpdate:value":t[0]||(t[0]=P=>o.item.username=P)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"H\u1ECD t\xEAn \u0111\u1EA7y \u0111\u1EE7","floating-label":"",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:o.item.fullName,"onUpdate:value":t[1]||(t[1]=P=>o.item.fullName=P)},null,8,["value"]),i(_,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i","floating-label":"",type:"number",resizable:"","clear-button":"",value:o.item.phoneNumber,"onUpdate:value":t[2]||(t[2]=P=>o.item.phoneNumber=P)},null,8,["value"]),i(_,{outline:"",label:"\u0110\u1ECBa ch\u1EC9 nh\xE0","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"150","clear-button":"",value:o.item.address,"onUpdate:value":t[3]||(t[3]=P=>o.item.address=P)},null,8,["value"]),i(_,{outline:"",label:"Email li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp","clear-button":"",value:o.item.email,"onUpdate:value":t[4]||(t[4]=P=>o.item.email=P)},null,8,["value"]),s("p",null,"Vai tro "+d(o.item.roleCode),1)]),_:1}),i(U,null,{default:n(()=>[i(T,null,{default:n(()=>[i(C,{width:"30"},{default:n(()=>[i(f,{round:"",large:"",color:"gray",onClick:t[5]||(t[5]=P=>r.close())},{default:n(()=>[ts,is]),_:1})]),_:1}),i(C,{width:"40"},{default:n(()=>[i(f,{fill:"",round:"",large:"",onClick:t[6]||(t[6]=P=>e.clickEdit())},{default:n(()=>[ss,os]),_:1})]),_:1})]),_:1})]),_:1})])],512),[[q,!o.isLoading]])]),_:1})}var ls=D(Ji,[["render",ns]]);const as={components:{Employee:ls},props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},itemId:0,supplierId:0,popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getAppUsers"},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){this.$emit("selected",e),console.log("selected()",e),e.id>0&&(this.itemId=e.id,this.supplierId=this.orgId,this.popupOpened=!0)},async getAppUsers(){this.orgId>0&&(this.isLoading=!0,console.log(this.orgId),this.list=await this.$supplier.getUsers(this.orgId),this.isLoading=!1)}},mounted(){this.getAppUsers()}},rs={class:"card"},cs={class:"card-header"},ds=c(" Danh s\xE1ch Nh\xE2n vi\xEAn "),us={class:"card-content card-content-padding scrollable"},ps={class:"list media-list"},_s=["onClick"],hs={class:"item-media"},gs=["src"],ms={class:"item-inner"},fs={class:"item-title-row"},vs={class:"item-after"},bs={class:"item-subtitle"},ys={class:"item-text"},ks=s("br",null,null,-1);function Is(e,t,a,u,o,r){const m=l("f7-preloader"),v=l("employee"),h=l("f7-popup");return p(),w(R,null,[s("div",rs,[s("div",cs,[ds,L(i(m,null,null,512),[[q,o.isLoading]])]),s("div",us,[s("div",ps,[s("ul",null,[(p(!0),w(R,null,B(o.list,g=>(p(),w("li",{key:g.id},[s("a",{onClick:_=>r.selected(g),class:"item-link item-content chevron-center"},[s("div",hs,[s("img",{src:g.logoUrl,width:"40"},null,8,gs)]),s("div",ms,[s("div",fs,[s("div",{class:K(e.$utils.getStatusColor(g.status))},d(g.fullName),3),s("div",vs,d(e.$utils.formatDate(g.created)),1)]),s("div",bs,d(g.roleCode),1),s("div",ys,[c(d(g.status)+" "+d(g.email),1),ks])])],8,_s)]))),128))])])])]),i(h,{class:"edit-employee",opened:o.popupOpened,"onPopup:closed":t[0]||(t[0]=g=>o.popupOpened=!1)},{default:n(()=>[i(v,{userId:o.itemId,supplierId:o.supplierId},null,8,["userId","supplierId"])]),_:1},8,["opened"])],64)}var ws=D(as,[["render",Is]]);const Cs={props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},total:0,popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getTasks()}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},async getTasks(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getQRTask(this.orgId).then(t=>{console.log("\bgetTasks()",e.list),e.list=t,e.isLoading=!1}),this.total=await this.$supplier.countQRTask(this.orgId)}}},mounted(){this.getTasks()}},Ts={class:"card"},As={class:"card-header"},Es={class:"card-content card-content-padding scrollable"},Us={class:"list media-list"},Ds=["onClick"],xs={class:"item-media"},Rs=["src"],$s={class:"item-inner"},Ps={class:"item-header"},Ss={class:"item-title-row"},Os=s("div",{class:"item-after"},null,-1),Ls={class:"item-subtitle"},qs={class:"item-text"},Ns=s("br",null,null,-1),Qs={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},Bs=c("Close");function Vs(e,t,a,u,o,r){const m=l("f7-preloader"),v=l("f7-link"),h=l("f7-nav-right"),g=l("f7-navbar"),_=l("f7-page"),k=l("f7-popup");return p(),w(R,null,[s("div",Ts,[s("div",As,[c(" C\xF4ng vi\u1EC7c ho\xE0n th\xE0nh: (t\u1ED5ng: "+d(o.total)+") ",1),L(i(m,null,null,512),[[q,o.isLoading]])]),s("div",Es,[s("div",Us,[s("ul",null,[(p(!0),w(R,null,B(o.list,f=>(p(),w("li",{key:f.id},[s("a",{onClick:C=>r.selected(f),class:"item-link item-content chevron-center"},[s("div",xs,[s("img",{style:{border:"1px solid #ccc"},src:f.imageUrls&&f.imageUrls[0]?f.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,Rs)]),s("div",$s,[s("div",Ps,d(e.$utils.formatDateTime(f.modified)),1),s("div",Ss,[s("div",{class:K(e.$utils.getActivityColor(f)),style:{"font-size":"16px"}},d(e.$utils.getActivityName(f)),3),Os]),s("div",Ls,d(f.qrid),1),s("div",qs,[c(d(f.title)+" ",1),Ns,c(" "+d(f.description),1)]),s("div",Qs,d(f.money>0?e.$utils.formatMoney(f.money):" "),1)])],8,Ds)]))),128))])])])]),i(k,{class:"demo-popup",opened:o.popupOpened,"onPopup:closed":t[0]||(t[0]=f=>o.popupOpened=!1)},{default:n(()=>[i(_,null,{default:n(()=>[i(g,{title:"Th\xF4ng tin chi ti\u1EBFt: "+o.item.id},{default:n(()=>[i(h,null,{default:n(()=>[i(v,{"popup-close":""},{default:n(()=>[Bs]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1},8,["opened"])],64)}var zs=D(Cs,[["render",Vs]]);const Ms={props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},total:0,popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getRequests()}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},async getRequests(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getRequest(this.orgId).then(t=>{e.list=t,e.isLoading=!1}),this.total=await this.$supplier.countRequest(this.orgId)}}},mounted(){this.getRequests()}},Ys={class:"card"},Fs={class:"card-header"},Ks={class:"card-content card-content-padding scrollable"},js={class:"list media-list"},Hs=["onClick"],Gs={class:"item-media"},Ws=["src"],Js={class:"item-inner"},Xs={class:"item-header"},Zs={class:"item-title-row"},eo=s("div",{class:"item-after"},null,-1),to={class:"item-subtitle"},io={class:"item-text"},so={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},oo=c("Close");function no(e,t,a,u,o,r){const m=l("f7-preloader"),v=l("f7-link"),h=l("f7-nav-right"),g=l("f7-navbar"),_=l("f7-page"),k=l("f7-popup");return p(),w(R,null,[s("div",Ys,[s("div",Fs,[c(" Y\xEAu c\u1EA7u m\u1EDBi nh\u1EADn (t\u1ED5ng: "+d(o.total)+") "+d(a.orgId)+" ",1),L(i(m,null,null,512),[[q,o.isLoading]])]),s("div",Ks,[s("div",js,[s("ul",null,[(p(!0),w(R,null,B(o.list,f=>(p(),w("li",{key:f.id},[s("a",{onClick:C=>r.selected(f),class:"item-link item-content chevron-center"},[s("div",Gs,[s("img",{style:{border:"1px solid #ccc"},src:f.imageUrls&&f.imageUrls[0]?f.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,Ws)]),s("div",Js,[s("div",Xs,d(e.$utils.formatDateTime(f.modified)),1),s("div",Zs,[s("div",{class:K(e.$utils.getActivityColor(f)),style:{"font-size":"16px"}},d(f.qrid),3),eo]),s("div",to,d(f.title),1),s("div",io,d(f.description),1),s("div",so,d(f.money>0?e.$utils.formatMoney(f.money):" "),1)])],8,Hs)]))),128))])])])]),i(k,{class:"demo-popup",opened:o.popupOpened,"onPopup:closed":t[0]||(t[0]=f=>o.popupOpened=!1)},{default:n(()=>[i(_,null,{default:n(()=>[i(g,{title:"Th\xF4ng tin chi ti\u1EBFt: "+o.item.id},{default:n(()=>[i(h,null,{default:n(()=>[i(v,{"popup-close":""},{default:n(()=>[oo]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1},8,["opened"])],64)}var lo=D(Ms,[["render",no]]);const ao={props:{orgId:{type:Number,default:0}},emits:["selected"],data(){return{isLoading:!1,items:[],item:{},iItemLoading:!1,qrid:[],popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},getProducts(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getProducts(this.orgId).then(t=>{e.items=t,e.isLoading=!1})}else this.items=[]}},mounted(){this.getProducts()}},ro={class:"card"},co={class:"card-header"},uo={class:"card-content card-content-padding scrollable"},po={class:"list media-list"},_o=["onClick"],ho=s("div",{class:"item-media"},[s("i",{class:"icon f7-icons text-color-yellow"},"document_text_fill")],-1),go={class:"item-inner"},mo={class:"item-title-row"},fo={class:"item-title"},vo={class:"item-subtitle"},bo={class:"item-text"},yo=s("br",null,null,-1),ko=s("br",null,null,-1),Io={class:"card"},wo={class:"card-header"};function Co(e,t,a,u,o,r){const m=l("f7-preloader"),v=l("f7-navbar"),h=l("f7-page"),g=l("f7-popup");return p(),w(R,null,[s("div",ro,[s("div",co,[c(" Danh s\xE1ch s\u1EA3n ph\u1EA9m c\u1EE7a "+d(e.ordId)+" ("+d(o.items.length)+")",1),L(i(m,null,null,512),[[q,o.isLoading]])]),s("div",uo,[s("div",po,[s("ul",null,[(p(!0),w(R,null,B(o.items,_=>(p(),w("li",{key:_.id},[s("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[ho,s("div",go,[s("div",mo,[s("div",fo,d(_.title),1)]),s("div",vo,d(_.id),1),s("div",bo,[c(d(_.status),1),yo,c(" "+d(_.created),1),ko])])],8,_o)]))),128))])])])]),i(g,{class:"demo-popup",opened:o.popupOpened,"onPopup:closed":t[0]||(t[0]=_=>o.popupOpened=!1)},{default:n(()=>[i(h,null,{default:n(()=>[i(v,{title:"Chi ti\u1EBFt c\u1EE7a "+o.item.id},null,8,["title"]),s("div",Io,[s("div",wo," Chi tiet cua id "+d(o.item.title),1)])]),_:1})]),_:1},8,["opened"])],64)}var To=D(ao,[["render",Co]]);const Ao={props:{productId:Number},setup(){return{orgId:M("getOrgId")}},emits:["updated"],data(){return{isLoading:!1,item:{},imageUrl:""}},watch:{productId:"getProduct"},computed:{listImages(){return this.item.imageUrls||[]},pageTitle(){return this.productId>0?`Chi ti\u1EBFt s\u1EA3n ph\u1EA9m v\u1EDBi Id: ${this.productId}`:"T\u1EA1o m\u1EDBi s\u1EA3n ph\u1EA9m"}},methods:{getProduct(){let e={title:"",manufacturer:"",type:"",category:[],description:"",content:"",sellerId:this.orgId,sellerUrl:"",originProductId:0,originProductUrl:"",validatedOriginProduct:"SELLER",barCode:"",imageUrls:[],warrantyDays:0,status:"ACTIVE",created:new Date,createdBy:0,modified:new Date,modifiedBy:0};if((this.orgId==111||this.orgId==888)&&(e.manufacturerId=this.orgId,e.manufacturer="QRCare"),this.productId>0){console.log("getProduct():"+this.productId);let t=this;this.$supplier.getProduct(this.productId).then(a=>{this.isLoading=!0,t.isLoading=!1,t.item=a})}else this.item=e},changeInactive(){this.$supplier.changeInactive(this.productId)},uploadImage(){this.imageUrl&&this.item.imageUrls.push(this.imageUrl)},async processUpdate(){const e=this;this.$supplier.updateProduct(this.productId,this.item).then(t=>{S.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{S.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getProduct()}},Eo=c("Close"),Uo={class:"card"},Do={class:"card-content"},xo=["src"],Ro=c(" Th\xEAm h\xECnh"),$o=s("i",{class:"f7-icons"},"xmark_circle",-1),Po=c("Cancel"),So=s("i",{class:"f7-icons"},"cloud_upload",-1),Oo=c("Save");function Lo(e,t,a,u,o,r){const m=l("f7-link"),v=l("f7-nav-right"),h=l("f7-navbar"),g=l("f7-preloader"),_=l("f7-list-input"),k=l("f7-col"),f=l("f7-input"),C=l("f7-button"),T=l("f7-row"),U=l("f7-text-editor"),I=l("f7-list"),P=l("f7-page");return p(),y(P,null,{default:n(()=>[i(h,{title:r.pageTitle},{default:n(()=>[i(v,null,{default:n(()=>[i(m,{"popup-close":""},{default:n(()=>[Eo]),_:1})]),_:1})]),_:1},8,["title"]),L(i(g,null,null,512),[[q,o.isLoading]]),L(s("div",Uo,[s("div",Do,[i(I,null,{default:n(()=>[i(_,{type:"text",placeholder:"nh\u1EADp",label:"T\xEAn s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:o.item.title,"onUpdate:value":t[0]||(t[0]=x=>o.item.title=x)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Nh\xE0 s\u1EA3n xu\u1EA5t",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:o.item.manufacturer,"onUpdate:value":t[1]||(t[1]=x=>o.item.manufacturer=x)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"M\xE3 s\u1EA3n ph\u1EA9m (duy nh\u1EA5t)",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:o.item.barCode,"onUpdate:value":t[2]||(t[2]=x=>o.item.barCode=x)},null,8,["value"]),i(T,null,{default:n(()=>[(p(!0),w(R,null,B(o.item.imageUrls,x=>(p(),y(k,{width:"50",key:x},{default:n(()=>[s("img",{width:"100",src:x},null,8,xo)]),_:2},1024))),128)),i(k,{width:"50"},{default:n(()=>[i(f,{type:"text",outline:"","floating-label":"",placeholder:"nh\u1EADp",label:"Link h\xECnh \u1EA3nh",value:o.imageUrl,"onUpdate:value":t[3]||(t[3]=x=>o.imageUrl=x)},null,8,["value"]),i(C,{onClick:t[4]||(t[4]=x=>r.uploadImage())},{default:n(()=>[Ro]),_:1})]),_:1})]),_:1}),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Link s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:o.item.sellerUrl,"onUpdate:value":t[5]||(t[5]=x=>o.item.sellerUrl=x)},null,8,["value"]),i(U,{placeholder:"Enter text...",label:"Gi\u1EDBi thi\u1EC7u s\u1EA3n ph\u1EA9m",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:o.item.description,"onUpdate:value":t[6]||(t[6]=x=>o.item.description=x)},null,8,["value"]),i(U,{placeholder:"Enter text...",label:"Gi\u1EDBi thi\u1EC7u s\u1EA3n ph\u1EA9m",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:o.item.content,"onUpdate:value":t[7]||(t[7]=x=>o.item.content=x)},null,8,["value"]),i(_,{type:"number",placeholder:"nh\u1EADp",label:"Th\u1EDDi gian b\u1EA3o h\xE0nh (s\u1ED1 ng\xE0y)",outline:"","floating-label":"","clear-button":"",value:o.item.warrantyDays,"onUpdate:value":t[8]||(t[8]=x=>o.item.warrantyDays=x)},null,8,["value"]),i(_,{disabled:"",type:"text",placeholder:"",label:"tr\u1EA1ng th\xE1i",outline:"","floating-label":"",required:"",value:o.item.status,"onUpdate:value":t[9]||(t[9]=x=>o.item.status=x)},null,8,["value"]),s("p",null,"SellerID "+d(o.item.sellerId),1),s("p",null,"ManufacturID "+d(o.item.manufacturerId),1),s("p",null,"Ng\xE0y t\u1EA1o: "+d(e.$utils.formatDate(o.item.created)),1),s("p",null,"Modified: "+d(e.$utils.formatDate(o.item.modified)),1),i(T,null,{default:n(()=>[i(k,{width:"30"},{default:n(()=>[i(C,{round:"",large:"",color:"gray",onClick:t[10]||(t[10]=x=>r.close())},{default:n(()=>[$o,Po]),_:1})]),_:1}),i(k,{width:"40"},{default:n(()=>[i(C,{fill:"",round:"",large:"",onClick:t[11]||(t[11]=x=>r.processUpdate())},{default:n(()=>[So,Oo]),_:1})]),_:1})]),_:1})]),_:1})])],512),[[q,!o.isLoading]])]),_:1})}var ge=D(Ao,[["render",Lo]]);const qo={props:{orgId:Number},emits:["selected"],components:{Product:ge},data(){return{isLoading:!1,list:[],itemId:0,popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getProducts()}},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){console.log("selected product",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getProducts(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getSellProducts(this.orgId).then(t=>{e.list=t,e.isLoading=!1})}}},mounted(){this.getProducts()}},No={class:"card"},Qo={class:"card-header"},Bo=c("ADD"),Vo={class:"card-content card-content-padding scrollable"},zo={class:"list media-list"},Mo=["onClick"],Yo={class:"item-media"},Fo=["src"],Ko={class:"item-inner"},jo={class:"item-header"},Ho={class:"item-title-row"},Go=s("div",{class:"item-after"},null,-1),Wo={class:"item-subtitle"},Jo={class:"item-text"},Xo={class:"item-footer",style:{"font-size":"14px","font-weight":"600"}};function Zo(e,t,a,u,o,r){const m=l("f7-preloader"),v=l("f7-button"),h=l("product"),g=l("f7-popup");return p(),w(R,null,[s("div",No,[s("div",Qo,[c(" S\u1EA3n ph\u1EA9m \u0111ang b\xE1n "+d(a.orgId)+" ",1),L(i(m,null,null,512),[[q,o.isLoading]]),i(v,{onClick:t[0]||(t[0]=_=>r.create())},{default:n(()=>[Bo]),_:1})]),s("div",Vo,[s("div",zo,[s("ul",null,[(p(!0),w(R,null,B(o.list,_=>(p(),w("li",{key:_.id},[s("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[s("div",Yo,[s("img",{style:{border:"1px solid #ccc"},src:_.imageUrls&&_.imageUrls[0]?_.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,Fo)]),s("div",Ko,[s("div",jo,d(_.type),1),s("div",Ho,[s("div",{class:K(e.$utils.getStatusColor(_.status)),style:{"font-size":"16px"}},d(_.title),3),Go]),s("div",Wo,d(_.status),1),s("div",Jo,d(_.description),1),s("div",Xo,d(e.$utils.formatDate(_.modified)),1)])],8,Mo)]))),128))])])])]),i(g,{class:"product-popup",opened:o.popupOpened,"onPopup:closed":t[1]||(t[1]=_=>o.popupOpened=!1)},{default:n(()=>[i(h,{productId:o.itemId,onUpdated:r.updated},null,8,["productId","onUpdated"])]),_:1},8,["opened"])],64)}var en=D(qo,[["render",Zo]]);const tn={setup(){return{item:{id:0,packageId:0,warehouseId:0,private:0,password:"string",cardType:"CARD_TYPE.EXIST_DEVICE",phase:"PRODUCT_STATUS.NEW",displayStatus:"string",title:"Nh\u1EADp t\xEAn c\u1EE7a thi\u1EBFt b\u1ECB",description:"M\xF4 t\u1EA3 ng\u1EAFn g\u1ECDn thi\u1EBFt b\u1ECB",imageUrls:[],productId:0,activatedDate:"$now",warrantyDays:0,nextReminder:"2021-11-08T21:33:23.631Z",endDate:"$now",deviceMetadata:{},locationId:0,location:"string",ownerName:"a B\u1EA3o",ownerAddress:"11 \u0111\u1EB7ng th\u1EBF Phong",ownerPhoneNumber:"string",ownerId:0,ownerOrganizationId:0,ownerMetadata:{},userName:"string",userAddress:"string",userId:0,userOrganizationId:0,userMetadata:{},sellerName:"string",sellerAddress:"string",sellerId:0,distributorId:0,supportId:0,isValidated:!0,sellerMetadata:{},status:"QRID_STATUS.GENERATED",metadata:{},created:"$now",createdBy:0,modified:"$now",modifiedBy:0}}}},sn=c("Th\xF4ng tin kh\xE1ch h\xE0ng"),on={class:"block"},nn={class:"block-header"},ln={class:"block-content"},an=c("Th\xF4ng tin Ng\u01B0\u1EDDi b\xE1n"),rn={class:"card"},cn={class:"card-header"},dn={class:"card-content card-content-padding scrollable"};function un(e,t,a,u,o,r){const m=l("f7-block-title"),v=l("f7-list-item"),h=l("f7-list");return p(),w(R,null,[i(m,null,{default:n(()=>[sn]),_:1}),s("div",on,[s("div",nn,d(u.item.ownerName),1),s("div",ln,[i(h,null,{default:n(()=>[i(v,null,{default:n(()=>[c(d(u.item.ownerAddress),1)]),_:1})]),_:1})])]),i(m,null,{default:n(()=>[an]),_:1}),s("div",rn,[s("div",cn,d(u.item.ownerName),1),s("div",dn,[i(h,null,{default:n(()=>[i(v,null,{default:n(()=>[c(d(u.item.ownerAddress),1)]),_:1})]),_:1})])])],64)}var me=D(tn,[["render",un]]);const pn={props:["title"],template:`
        <h3>{{ title }}</h3>
      `},_n={inject:["messaging"],setup(){const e=ke("messaging");console.log("Firebase object Setup",e)},components:{ComponentA:pn,Packages:rt,Organizations:Vt,Agency:li,Supplier:Wi,OrgUsers:ws,TasksCard:zs,"lastest-request":lo,ListProduct:To,Products:en,DetailProduct:ge,MemberHome:me},props:{f7route:Object,f7router:Object},data(){let e=M("isLogged"),t=M("getUser");console.log("setup() home",e.value,t.value);let a=M("getOrgId");return console.log("orgId",a),{openedLogin:!e.value,user:t,isLogged:e,username:"",password:"",orgId:a,productId:153,packageId:0,qrId:0,activityId:0,userId:0,locationId:0}},computed:{getUserName(){return this.user&&this.user.fullName?this.user.fullName:""},showListOrgs(){return this.orgId==111}},methods:{clickLogin(){let e={username:this.username,password:this.password};S.preloader.show();const t=this;Q.dispatch("login",e).then(a=>{S.preloader.hide(),t.openedLogin=!1,console.log("f7.loginScreen.close()"),S.loginScreen.close()})},selectPackage(e){console.log(e)},selectOrganization(e){e.id>0&&(this.orgId=e.id)},selectProduct(e){e.id>0&&(this.productId=e.id)},logout(){Q.dispatch("logout"),this.openedLogin=!0}},mounted(){}},hn={class:"page"},gn={class:"navbar"},mn=s("div",{class:"navbar-bg"},null,-1),fn={class:"navbar-inner"},vn={class:"title"},bn={class:"right"},yn={class:"link popover-open","data-popover":".profile-popover"},kn={class:"margin-right-half"},In=c("Ch\xE0o,"),wn={class:"popover profile-popover"},Cn={class:"popover-inner"},Tn={class:"text-align-center"},An=s("div",{class:"list no-hairlines no-hairlines-between"},[s("ul",null,[s("li",null,[s("a",{href:"#",class:"item-link item-content"},[s("div",{class:"item-media"},[s("i",{class:"icon f7-icons"},"person_circle_fill")]),s("div",{class:"item-inner"},[s("div",{class:"item-title"},"Th\xF4ng tin c\xE1 nh\xE2n")])])])])],-1),En={class:"list no-hairlines no-hairlines-between margin-bottom"},Un=s("div",{class:"item-media"},[s("i",{class:"icon f7-icons"},"exit_fill")],-1),Dn=s("div",{class:"item-inner"},[s("div",{class:"item-title"},"\u0110\u0103ng xu\u1EA5t")],-1),xn=[Un,Dn],Rn={class:"page-content"},$n={class:"dashboard-cards"},Pn={key:0,class:"row margin-horizontal margin-bottom"},Sn={class:"col-100 medium-50 margin-top"},On={class:"col-100 medium-50 margin-top"},Ln={class:"row margin-horizontal margin-bottom"},qn={class:"col-100 medium-50 margin-top"},Nn={class:"col-100 medium-50 margin-top"},Qn={class:"row margin-horizontal margin-bottom"},Bn={class:"col-100 medium-50 margin-top"},Vn={class:"col-100 medium-50 margin-top"},zn={class:"row margin-horizontal margin-bottom"},Mn={class:"col-100 medium-50 margin-top"},Yn={class:"col-100 medium-50 margin-top"},Fn=s("div",{class:"row margin-horizontal margin-bottom"},null,-1),Kn=c("\u0110\u0103ng nh\u1EADp"),jn=s("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),Hn=s("p",null,"Email: sales@qrcare.net ",-1),Gn=s("p",null,"Phone: +84 906 826 807",-1);function Wn(e,t,a,u,o,r){const m=l("organizations"),v=l("agency"),h=l("supplier"),g=l("packages"),_=l("lastest-request"),k=l("tasks-card"),f=l("products"),C=l("org-users"),T=l("f7-login-screen-title"),U=l("f7-list-input"),I=l("f7-list"),P=l("f7-button"),x=l("f7-block-footer"),N=l("f7-block"),X=l("f7-page"),Z=l("f7-login-screen");return p(),y(X,{name:"home"},{default:n(()=>[s("div",hn,[s("div",gn,[mn,s("div",fn,[s("div",vn,d(a.f7router.app.name+" v"+a.f7router.app.version),1),s("div",bn,[s("a",yn,[s("span",kn,[In,s("b",null,d(r.getUserName),1)])])])])]),s("div",wn,[s("div",Cn,[s("h3",Tn,d(r.getUserName),1),An,s("div",En,[s("ul",null,[s("li",null,[s("a",{onClick:t[0]||(t[0]=$=>r.logout()),class:"item-link item-content"},xn)])])])])]),s("div",Rn,[s("div",$n,[r.showListOrgs?(p(),w("div",Pn,[s("div",Sn,[i(m,{onSelected:r.selectOrganization},null,8,["onSelected"])]),s("div",On,[i(v,{onSelected:r.selectOrganization},null,8,["onSelected"])])])):A("",!0),s("div",Ln,[s("div",qn,[i(h,{orgId:o.orgId},null,8,["orgId"])]),s("div",Nn,[i(g,{orgId:o.orgId,onSelected:r.selectPackage},null,8,["orgId","onSelected"])])]),s("div",Qn,[s("div",Bn,[i(_,{orgId:o.orgId},null,8,["orgId"])]),s("div",Vn,[i(k,{orgId:o.orgId},null,8,["orgId"])])]),s("div",zn,[s("div",Mn,[i(f,{orgId:o.orgId},null,8,["orgId"])]),s("div",Yn,[i(C,{orgId:o.orgId},null,8,["orgId"])])]),Fn])])]),i(Z,{opened:o.openedLogin,"onUpdate:opened":t[3]||(t[3]=$=>o.openedLogin=$)},{default:n(()=>[i(X,null,{default:n(()=>[i(T,null,{default:n(()=>[c("H\u1EC7 th\u1ED1ng qu\u1EA3n tr\u1ECB "+d(a.f7router.app.name+" v"+a.f7router.app.version),1)]),_:1}),i(N,null,{default:n(()=>[i(I,null,{default:n(()=>[i(U,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:o.username,"onUpdate:value":t[1]||(t[1]=$=>o.username=$)},null,8,["value"]),i(U,{outline:"",label:"m\u1EADt kh\u1EA9u","floating-label":"",type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:o.password,"onUpdate:value":t[2]||(t[2]=$=>o.password=$)},null,8,["value"])]),_:1}),i(P,{fill:"",large:"",round:"",onClick:r.clickLogin},{default:n(()=>[Kn]),_:1},8,["onClick"]),i(I,null,{default:n(()=>[i(x,null,{default:n(()=>[jn,Hn,Gn]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var Jn=D(_n,[["render",Wn]]);const Xn={props:["countImages","maxImages"],emits:["uploaded","toggleCamera"],data(){return{isCameraOpen:!1,isPhotoTaken:!1,isShotPhoto:!1,isLoading:!1,imageUrls:[],video:"",photoTaken:"",photoTakenCtx:"",width:0,height:0,log:"",dataUrl:""}},methods:{doLoad(){this.video=document.getElementById("camera-video"),this.photoTaken=document.getElementById("photoTaken"),this.photoTakenCtx=this.photoTaken.getContext("2d");let e=this;this.video.addEventListener("play",function(){e.width=e.video.videoWidth,e.height=e.video.videoHeight},!1)},computeFrame(){const e=this.video.videoWidth,t=this.video.videoHeight,a=t/4*3,u=(e-a)/2,o=0;this.photoTaken.width=a,this.photoTaken.height=t,this.log="Video:Crop:("+this.photoTaken.width+","+this.photoTaken.height+"("+e+","+t+")",this.photoTakenCtx.drawImage(this.video,u,o,a,t,0,0,a,t)},toggleCamera(){this.isCameraOpen?(this.isCameraOpen=!1,this.$emit("toggleCamera",this.isCameraOpen),this.isPhotoTaken=!1,this.isShotPhoto=!1,this.stopCameraStream()):(this.isCameraOpen=!0,this.$emit("toggleCamera",this.isCameraOpen),this.createCameraElement())},createCameraElement(){console.log("createCameraElement()",this.isCameraOpen);try{this.isLoading=!0,S.preloader.show();var e={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(e).then(t=>{this.isLoading=!1,S.preloader.hide(),this.$refs.camera.srcObject=t,this.doLoad()}).catch(t=>{this.isLoading=!1,S.preloader.hide(),alert("May the browser didn't support or there is some errors.")})}catch(t){console.log("createCameraElement()",t)}},stopCameraStream(){console.log("stopCameraStream()",this.isCameraOpen),this.$refs.camera.srcObject.getTracks().forEach(t=>{t.stop()})},async takePhoto(){if(console.log("takePhoto",this.countImages,this.maxImages),this.countImages>=this.maxImages){S.dialog.alert("B\u1EA1n \u0111\xE3 ch\u1EE5p t\u1EDBi gi\u1EDBi h\u1EA1n l\xE0 "+this.countImages+" t\u1EA5m!");return}this.isPhotoTaken||(this.isShotPhoto=!0,setTimeout(()=>{this.isShotPhoto=!1},50)),this.computeFrame(),this.isPhotoTaken=!this.isPhotoTaken,this.dataUrl=this.photoTaken.toDataURL(),await this.uploadImage()},async uploadImage(){const e=this.photoTaken.toDataURL("image/jpeg",.9);var t=this.dataURItoBlob(e);const a=new FormData;a.append("canvasImage",t);try{let u="https://media.vinaas.com/upload/qrcare-vn";const{data:o}=await this.$axios.post(u,a,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}});if(o&&o.id){const r="https://apps.vinaas.com/file/"+o.id;this.imageUrls.push(r),this.$emit("uploaded",r)}}catch(u){console.log("err",u)}finally{}this.isPhotoTaken=!this.isPhotoTaken},dataURItoBlob(e){var t;e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],u=new Uint8Array(t.length),o=0;o<t.length;o++)u[o]=t.charCodeAt(o);return new Blob([u],{type:a})}}},Zn={class:"web-camera-container"},el=["width","height"],tl=["src","width","height"],il={id:"photoTaken"},sl=c(" Ch\u1EE5p h\xECnh"),ol=c("Close");function nl(e,t,a,u,o,r){const m=l("f7-icon"),v=l("f7-button"),h=l("f7-col"),g=l("f7-row"),_=l("f7-block");return p(),y(_,null,{default:n(()=>[s("div",Zn,[o.isCameraOpen?L((p(),w("div",{key:0,class:K(["camera-box",{flash:o.isShotPhoto}])},[s("div",{class:K(["camera-shutter",{flash:o.isShotPhoto}])},null,2),L(s("video",{id:"camera-video",ref:"camera",width:o.width/2,height:o.height/2,autoplay:"",muted:"",playsinline:""},null,8,el),[[q,!o.isPhotoTaken]]),L(s("img",{src:o.dataUrl,id:"showPhotoTaken",width:o.height/8*3,height:o.height/2},null,8,tl),[[q,o.isPhotoTaken]]),L(s("canvas",il,null,512),[[q,!1]])],2)),[[q,!o.isLoading]]):A("",!0)]),o.isCameraOpen?(p(),y(g,{key:1},{default:n(()=>[i(h,{width:"30"},{default:n(()=>[o.isCameraOpen?(p(),y(v,{key:0,raised:"",round:"",large:"",color:"gray",onClick:r.toggleCamera},{default:n(()=>[ol]),_:1},8,["onClick"])):A("",!0)]),_:1}),i(h,{width:"10"}),i(h,{width:"60"},{default:n(()=>[o.isCameraOpen?(p(),y(v,{key:0,raised:"",outline:"",round:"",large:"",onClick:r.takePhoto},{default:n(()=>[i(m,{f7:"camera"})]),_:1},8,["onClick"])):A("",!0)]),_:1})]),_:1})):(p(),y(g,{key:0},{default:n(()=>[i(h,{width:"100"},{default:n(()=>[i(v,{raised:"",outline:"",round:"",large:"",onClick:r.toggleCamera},{default:n(()=>[i(m,{f7:"camera"}),sl]),_:1},8,["onClick"])]),_:1})]),_:1}))]),_:1})}var fe=D(Xn,[["render",nl],["__scopeId","data-v-01ed4286"]]);const ll={props:["modelValue","label"],emits:["update:modelValue"],template:`
  <li class="item-content item-input item-input-outline">
    <div class="item-media">
      <i class="f7-icons">house</i>
    </div>
    <div class="item-inner">
      <div class="item-title item-label">{{label}}</div>
      <div class="item-input-wrap">
        <input type="text" name="name" :value="modelValue"
        @input="$emit('update:modelValue', $event.target.value)" />
        <span class="input-clear-button"></span>
      </div>
    </div>
  </li>  
  `},al={props:["modelValue","label"],emits:["update:modelValue"],template:`
  <li class="item-content item-input item-input-outline">
    <div class="item-media">
      <i class="f7-icons">house</i>
    </div>
    <div class="item-inner">
      <div class="item-title item-label">{{label}}</div>
      <div class="item-input-wrap">
      <textarea class="resizable" :value="modelValue"
      @input="$emit('update:modelValue', $event.target.value)" ></textarea>
      <span class="input-clear-button"></span>
      </div>
    </div>
  </li> 
  `};const rl={components:{"image-upload":fe,"title-input":ll,description:al},props:{f7route:Object,f7router:Object},setup(){const e=M("user");return Ie(()=>{Q.dispatch("getUser")}),{loading:M("loading"),user:e,loadUsers:()=>{Q.dispatch("getUser")}}},data(){return{title:"tieu de",description:"t\xEDnh n\u0103ng ch\xEDnh c\u1EE7a qrcare l\xE0 \u0111\u01A1n gi\u1EA3n",enablePopup:{imageCapture:!1},urls:[],isCameraOpen:!1}},methods:{showUrl(e){},toggleCamera(e){console.log("toggleCamera()",e),this.isCameraOpen=e},clickLogin(){this.f7router.navigate("/login/")},clickClose(){this.toggleCamera(),this.enablePopup.imageCapture=!1},clickImageCapture(){this.enablePopup.imageCapture=!0}}},O=e=>(de("data-v-1e0a81c8"),e=e(),ue(),e),cl=c(" Load Users "),dl=c("Ki\u1EC3m tra t\xEDnh n\u0103ng input"),ul={class:"list"},pl=O(()=>s("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),_l=O(()=>s("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),hl=O(()=>s("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),gl=c("Swipe To Close"),ml=c("Show Camera Popup"),fl=c("Login"),vl=c("H\u01B0\u1EDBng d\u1EABn!"),bl=O(()=>s("p",null,"QRLogin \u0111\u1EC3 \u0111\u0103ng nh\u1EADp c\xF3 h\xECnh ",-1)),yl=O(()=>s("img",{height:"200",src:"https://apps.vinaas.com/file/lVqOaFfB1"},null,-1)),kl=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Il=O(()=>s("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),wl=O(()=>s("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Cl=O(()=>s("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Tl=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Al=O(()=>s("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),El=O(()=>s("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Ul=O(()=>s("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Dl=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),xl=O(()=>s("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Rl=O(()=>s("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),$l=O(()=>s("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Pl=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Sl=O(()=>s("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Ol=O(()=>s("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Ll=O(()=>s("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),ql=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Nl=O(()=>s("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Ql=O(()=>s("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Bl=O(()=>s("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Vl=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),zl=O(()=>s("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Ml=O(()=>s("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Yl=O(()=>s("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Fl=["src"];function Kl(e,t,a,u,o,r){const m=l("f7-navbar"),v=l("f7-button"),h=l("f7-block-title"),g=l("title-input"),_=l("description"),k=l("f7-icon"),f=l("f7-list-input"),C=l("f7-list"),T=l("f7-block"),U=l("f7-card-header"),I=l("f7-card-content"),P=l("f7-card"),x=l("f7-page-content"),N=l("f7-sheet"),X=l("image-upload"),Z=l("f7-col"),$=l("f7-row"),j=l("f7-page"),W=l("f7-view"),V=l("f7-popup");return p(),y(j,{name:"about"},{default:n(()=>[i(m,{title:"About","back-link":"Back"}),i(T,null,{default:n(()=>[i(v,{fill:"",preloader:"",loading:u.loading,onClick:u.loadUsers},{default:n(()=>[cl]),_:1},8,["loading","onClick"]),i(h,null,{default:n(()=>[dl]),_:1}),s("div",ul,[s("ul",null,[s("li",null,d(o.title),1),i(g,{modelValue:o.title,"onUpdate:modelValue":t[0]||(t[0]=F=>o.title=F),label:"ti\xEAu \u0111\u1EC1"},null,8,["modelValue"]),A("",!0),i(_,{modelValue:o.description,"onUpdate:modelValue":t[2]||(t[2]=F=>o.description=F),label:"Mo ta"},null,8,["modelValue"])])]),i(C,{"no-hairlines-md":""},{default:n(()=>[i(f,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"",validate:"","clear-button":""},{default:n(()=>[i(k,{icon:"demo-list-icon",slot:"media"})]),_:1}),i(f,{outline:"",label:"M\u1EADt kh\u1EA9u","floating-label":"",type:"password",placeholder:"nh\u1EADp m\u1EADt kh\u1EA9u","clear-button":""}),i(f,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":""},{default:n(()=>[i(k,{icon:"demo-list-icon",slot:"media"})]),_:1}),i(f,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","error-message":"b\u1EA1n \u0111\xE3 nh\u1EADp qu\xE1 d\xE0i!","clear-button":""})]),_:1})]),_:1}),i(P,null,{default:n(()=>[i(U,null,{default:n(()=>[c(d(a.f7router.app.version)+" "+d(a.f7router.app.name)+" Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup",1)]),_:1}),i(I,null,{default:n(()=>[pl,_l,hl]),_:1})]),_:1}),i(v,{fill:"","sheet-open":".demo-sheet-swipe-to-close"},{default:n(()=>[gl]),_:1}),i(v,{fill:"",onClick:r.clickImageCapture},{default:n(()=>[ml]),_:1},8,["onClick"]),i(v,{fill:"",onClick:r.clickLogin},{default:n(()=>[fl]),_:1},8,["onClick"]),i(N,{class:"demo-sheet-swipe-to-close",style:{height:"auto","--f7-sheet-bg-color":"#fff"},"swipe-to-close":"",backdrop:""},{default:n(()=>[i(x,null,{default:n(()=>[i(h,{large:""},{default:n(()=>[vl]),_:1}),i(T,null,{default:n(()=>[bl,yl]),_:1})]),_:1})]),_:1}),i(V,{id:"image-capture",opened:o.enablePopup.imageCapture,"onUpdate:opened":t[3]||(t[3]=F=>o.enablePopup.imageCapture=F)},{default:n(()=>[i(W,null,{default:n(()=>[i(j,null,{default:n(()=>[i(P,null,{default:n(()=>[i(U,null,{default:n(()=>[kl]),_:1}),i(I,null,{default:n(()=>[Il,wl,Cl]),_:1})]),_:1}),i(P,null,{default:n(()=>[i(U,null,{default:n(()=>[Tl]),_:1}),i(I,null,{default:n(()=>[Al,El,Ul]),_:1})]),_:1}),i(P,null,{default:n(()=>[i(U,null,{default:n(()=>[Dl]),_:1}),i(I,null,{default:n(()=>[xl,Rl,$l]),_:1})]),_:1}),i(P,null,{default:n(()=>[i(U,null,{default:n(()=>[Pl]),_:1}),i(I,null,{default:n(()=>[Sl,Ol,Ll]),_:1})]),_:1}),i(P,null,{default:n(()=>[i(U,null,{default:n(()=>[ql]),_:1}),i(I,null,{default:n(()=>[Nl,Ql,Bl]),_:1})]),_:1}),i(P,null,{default:n(()=>[i(U,null,{default:n(()=>[Vl]),_:1}),i(I,null,{default:n(()=>[zl,Ml,Yl]),_:1})]),_:1}),i(X,{countImages:"0",maxImages:"4",isCameraOpen:o.isCameraOpen,onToggleCamera:r.toggleCamera,onUploaded:r.showUrl},null,8,["isCameraOpen","onToggleCamera","onUploaded"]),i($,null,{default:n(()=>[(p(!0),w(R,null,B(o.urls,F=>(p(),y(Z,{width:"50",key:F},{default:n(()=>[s("img",{width:"100",src:F},null,8,Fl)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var jl=D(rl,[["render",Kl],["__scopeId","data-v-1e0a81c8"]]);const Hl={},Gl=c("Form Example"),Wl=s("option",null,"Male",-1),Jl=s("option",null,"Female",-1),Xl=c("Buttons"),Zl=c("Button"),ea=c("Fill"),ta=c("Raised"),ia=c("Raised Fill"),sa=c("Round"),oa=c("Round Fill"),na=c("Outline"),la=c("Outline Round"),aa=c("Small"),ra=c("Small Round"),ca=c("Small"),da=c("Small Round"),ua=c("Large"),pa=c("Large Fill"),_a=c("Large Red"),ha=c("Large Green"),ga=c("Checkbox group"),ma=c("Radio buttons group");function fa(e,t){const a=l("f7-navbar"),u=l("f7-block-title"),o=l("f7-list-input"),r=l("f7-toggle"),m=l("f7-list-item"),v=l("f7-range"),h=l("f7-list"),g=l("f7-button"),_=l("f7-row"),k=l("f7-block"),f=l("f7-page");return p(),y(f,{name:"form"},{default:n(()=>[i(a,{title:"Form","back-link":"Back"}),i(u,null,{default:n(()=>[Gl]),_:1}),i(h,{"no-hairlines-md":""},{default:n(()=>[i(o,{label:"Name",type:"text",placeholder:"Your name"}),i(o,{label:"E-mail",type:"email",placeholder:"E-mail"}),i(o,{label:"URL",type:"url",placeholder:"URL"}),i(o,{label:"Password",type:"password",placeholder:"Password"}),i(o,{label:"Phone",type:"tel",placeholder:"Phone"}),i(o,{label:"Gender",type:"select"},{default:n(()=>[Wl,Jl]),_:1}),i(o,{label:"Birth date",type:"date",placeholder:"Birth day",defaultValue:"2014-04-30"}),i(m,{title:"Toggle"},{after:n(()=>[i(r)]),_:1}),i(o,{label:"Range",input:!1},{input:n(()=>[i(v,{value:50,min:0,max:100,step:1})]),_:1}),i(o,{type:"textarea",label:"Textarea",placeholder:"Bio"}),i(o,{type:"textarea",label:"Resizable",placeholder:"Bio",resizable:""})]),_:1}),i(u,null,{default:n(()=>[Xl]),_:1}),i(k,{strong:""},{default:n(()=>[i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col"},{default:n(()=>[Zl]),_:1}),i(g,{class:"col",fill:""},{default:n(()=>[ea]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",raised:""},{default:n(()=>[ta]),_:1}),i(g,{class:"col",raised:"",fill:""},{default:n(()=>[ia]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",round:""},{default:n(()=>[sa]),_:1}),i(g,{class:"col",round:"",fill:""},{default:n(()=>[oa]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",outline:""},{default:n(()=>[na]),_:1}),i(g,{class:"col",round:"",outline:""},{default:n(()=>[la]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",small:"",outline:""},{default:n(()=>[aa]),_:1}),i(g,{class:"col",small:"",round:"",outline:""},{default:n(()=>[ra]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",small:"",fill:""},{default:n(()=>[ca]),_:1}),i(g,{class:"col",small:"",round:"",fill:""},{default:n(()=>[da]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",large:"",raised:""},{default:n(()=>[ua]),_:1}),i(g,{class:"col",large:"",fill:"",raised:""},{default:n(()=>[pa]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",large:"",fill:"",raised:"",color:"red"},{default:n(()=>[_a]),_:1}),i(g,{class:"col",large:"",fill:"",raised:"",color:"green"},{default:n(()=>[ha]),_:1})]),_:1})]),_:1}),i(u,null,{default:n(()=>[ga]),_:1}),i(h,null,{default:n(()=>[i(m,{checkbox:"",name:"my-checkbox",value:"Books",title:"Books"}),i(m,{checkbox:"",name:"my-checkbox",value:"Movies",title:"Movies"}),i(m,{checkbox:"",name:"my-checkbox",value:"Food",title:"Food"})]),_:1}),i(u,null,{default:n(()=>[ma]),_:1}),i(h,null,{default:n(()=>[i(m,{radio:"",name:"radio",value:"Books",title:"Books"}),i(m,{radio:"",name:"radio",value:"Movies",title:"Movies"}),i(m,{radio:"",name:"radio",value:"Food",title:"Food"})]),_:1})]),_:1})}var va=D(Hl,[["render",fa]]);const ba={},ya=s("p",null,"Sorry",-1),ka=s("p",null,"Requested content not found.",-1);function Ia(e,t,a,u,o,r){const m=l("f7-navbar"),v=l("f7-block"),h=l("f7-page");return p(),y(h,null,{default:n(()=>[i(m,{title:"Not found","back-link":"Back"}),i(v,{strong:""},{default:n(()=>[ya,ka]),_:1})]),_:1})}var wa=D(ba,[["render",Ia]]);const Ca={components:{ImageUpload:fe},props:{f7route:Object,f7router:Object},setup(){const e=M("isLogged"),t=Q.state.user;return{isLogged:e,userInfo:t}},data(){return{activityImages:0,maxActivityImages:2,deviceImages:0,maxDeviceImages:4,isCameraOpen:!1,isCameraOpen2:!1,enablePopup:{editDevice:!1,editUser:!1,activeUsing:!1,sendRequest:!1,addNote:!1,submitTask:!1,confirmTask:!1,activity:!1},listSupplier:[],qrid:{},history:[],supporter:{},supplier:{},activity:{},view_activity:{},ACT_POPUP:{nar_bar_title:"G\u1EEDi y\xEAu c\u1EA7u"},isSellProduct:!0}},computed:{isEdit(){return this.isLogged},isActive(){return this.qrid.status?this.qrid.status=="QRID_STATUS.ACTIVE":!0},hasData(){return this.qrid.title&&this.qrid.ownerName},listHistory(){return this.history}},methods:{formatDate(e){return this.$utils.formatDate(e)},formatDateTime(e){return this.$utils.formatDateTime(e)},formatMoney(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(e)},clickLogin(){this.f7router.navigate("/login/")},clickLogout(){Q.dispatch("logout")},clickEditDevice(){if(this.deviceImages=0,this.qrid.imageUrls.length>0){const e=this.maxDeviceImages-this.qrid.imageUrls.length;console.log("diff",e),e>0?this.deviceImages=this.qrid.imageUrls.length:this.deviceImages=this.maxDeviceImages}console.log("clickEditDevice()",this.deviceImages,this.qrid.imageUrls,this.qrid.imageUrls.length),this.enablePopup.editDevice=!0},getActivityName(e){let t="";return e.type==="ACTIVITY.QR_REQUEST"&&(t+="Y\xEAu c\u1EA7u",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRTASK"&&(t+="C\xF4ng vi\u1EC7c",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),e.type==="ACTIVITY.QRNOTE"&&(t+="Ghi ch\xFA",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRDelivery"&&(t+="B\xE0n giao",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t+="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t+="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),t},getActivityColor(e){if(e.type==="ACTIVITY.QR_REQUEST")return"item-title text-color-orange";if(e.type==="ACTIVITY.QRTASK"){if(e.status==="CONFIRMED")return"item-title text-color-green";if(e.status==="CREATED")return"item-title text-color-blue"}return e.type==="ACTIVITY.QRNOTE"?"item-title text-color-blue":"item-title text-color-black"},toggleCamera(e){console.log("toggleCamera()",e),this.isCameraOpen=e},toggleCamera2(e){console.log("toggleCamera2()",e),this.isCameraOpen2=e},async addImageDevices(e){this.qrid.imageUrls||(this.qrid.imageUrls=[]),this.qrid.imageUrls.push(e),this.deviceImages++},async addImageActivity(e){this.activity.imageUrls||(this.activity.imageUrls=[]),this.activity.imageUrls.push(e),this.activityImages++},cancelEditDevice(){this.stopCameraImageUpload(),this.enablePopup.editDevice=!1},stopCameraImageUpload(){this.isCameraOpen&&this.$refs.deviceImages.toggleCamera(),this.isCameraOpen2&&this.$refs.activityImages.toggleCamera()},async processEditDevice(){this.isActive||(this.qrid.status="QRID_STATUS.EDITED",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id,this.isSellProduct?(this.qrid.sellerId=this.supporter.id,this.qrid.sellerName=this.supporter.name,this.qrid.sellerAddress=this.supporter.address):this.qrid.sellerId==this.supporter.id&&(this.qrid.sellerId=0,this.qrid.sellerName="",this.qrid.sellerAddress=""),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("editDevice()",this.qrid)),this.stopCameraImageUpload(),this.enablePopup.editDevice=!1},async editUser(){this.isActive||(this.qrid.status="QRID_STATUS.EDITED",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("editUser()",this.qrid),this.enablePopup.editUser=!1},clickActive(){this.enablePopup.activeUsing=!0},async activeUsing(){this.isActive||(this.qrid.status="QRID_STATUS.ACTIVE",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id,this.qrid.activatedDate=new Date),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("activeUsing()",this.qrid),this.enablePopup.activeUsing=!1},clickSendRequest(e){e.type="ACTIVITY.QR_REQUEST",this.activity=e,this.ACT_POPUP={nar_bar_title:"Y\xEAu c\u1EA7u m\u1EDBi nh\u1EADn",content:"N\u1ED9i dung y\xEAu c\u1EA7u",sender:"Kh\xE1ch h\xE0ng g\u1EEDi",receiver:"B\xEAn ti\u1EBFp nh\u1EADn",action:"G\u1EEDi y\xEAu c\u1EA7u",action_footer:"Sau khi nh\u1EADn y\xEAu c\u1EA7u, ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},clickAddNote(e){e.type="ACTIVITY.QRNOTE",e.supplierOrganizationId=0,this.activity=e,this.ACT_POPUP={nar_bar_title:"N\u1ED9i dung ghi ch\xFA",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi ghi ch\xFA",receiver:"",action:"L\u01B0u Ghi ch\xFA",action_footer:"Ghi ch\xFA n\xE0y ch\u1EC9 \u0111\u01B0\u1EE3c th\u1EA5y khi qu\xE9t Th\u1EBB"},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},async clickViewActivity(e){if(this.view_activity=e,this.view_activity.supplierOrganizationId||(this.view_activity.supplierOrganizationId=111),this.view_activity.supplierOrganizationId==this.supporter.id)this.supplier=this.supporter;else{var t=await this.$axios.get("/Organizations/"+this.view_activity.supplierOrganizationId);t&&t.data&&(this.supplier=t.data)}this.view_activity.type=="ACTIVITY.QRTASK"&&(this.view_activity.status=="CREATED"&&(this.ACT_POPUP={nar_bar_title:"Ch\u1EDD x\xE1c nh\u1EADn",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"Sau khi x\xE1c nh\u1EADn, c\xF4ng vi\u1EC7c \u0111\xE3 k\u1EBFt th\xFAc."}),this.view_activity.status=="CONFIRMED"&&(this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c \u0111\u01B0\u1EE3c x\xE1c nh\u1EADn",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"C\xF4ng vi\u1EC7c \u0111\xE3 k\u1EBFt th\xFAc, c\u1EA3m \u01A1n qu\xFD kh\xE1ch \u0111\xE3 l\u1EF1a ch\u1ECDn!"}),this.view_activity.status=="REJECTED"&&(this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c b\u1ECB t\u1EEB ch\u1ED1i",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"T\u1EEB ch\u1ED1i",action_footer:""})),this.view_activity.type=="ACTIVITY.QR_REQUEST"&&(this.ACT_POPUP={nar_bar_title:"Y\xEAu c\u1EA7u \u0111\xE3 g\u1EEDi",content:"N\u1ED9i dung y\xEAu c\u1EA7u",sender:"Kh\xE1ch h\xE0ng g\u1EEDi",receiver:"B\xEAn ti\u1EBFp nh\u1EADn",action_footer:"Ch\xFAng t\xF4i \u0111\xE3 ti\u1EBFp nh\u1EADn, s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."}),this.view_activity.type=="ACTIVITY.QRNOTE"&&(this.ACT_POPUP={nar_bar_title:"Ghi ch\xFA \u0111\xE3 l\u01B0u",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi ghi ch\xFA",receiver:"",action_footer:"Ch\xFAng t\xF4i \u0111\xE3 ti\u1EBFp nh\u1EADn, s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."}),console.log("clickViewActivity()",this.view_activity),this.enablePopup.view_activity=!0},async confirmQRTask(){let e={id:this.view_activity.id,userComment:this.view_activity.userComment,status:"CONFIRMED",modified:new Date};await this.patchActivity(e)},async rejectQRTask(){let e={id:this.view_activity.id,userComment:this.view_activity.userComment,status:"REJECTED",modified:new Date};await this.patchActivity(e)},clickNewActivity(e){const t=this.supporter;let a={qrid:this.qrid.id,title:"",description:"",imageUrls:[],customerName:this.qrid.ownerName,customerPhoneNumber:this.qrid.ownerPhoneNumber,customerAddress:this.qrid.ownerAddress,supplierOrganizationId:t.id,status:"CREATED",created:new Date};this.supplier=t,console.log("clickNewActivity()",a,this.supplier),e=="SEND_REQUEST"&&this.clickSendRequest(a),e=="ADD_NOTE"&&this.clickAddNote(a),e=="SUBMIT_TASK"&&this.clickSubmitTask(a)},clickSubmitTask(e){e.type="ACTIVITY.QRTASK",e.supplierStaffId=this.userInfo.id,this.activity=e,this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c \u0111\xE3 th\u1EF1c hi\u1EC7n",content:"Chi ti\u1EBFt c\xF4ng vi\u1EC7c",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"",action:"G\u1EEDi k\u1EBFt qu\u1EA3",action_footer:"Sau khi nh\u1EADn y\xEAu c\u1EA7u, ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},async closeNewActivity(){this.stopCameraImageUpload(),this.enablePopup.activity=!1},async postActivity(){let e=await this.$axios.post("/QRActivities",this.activity);console.log("rs",e),this.history.unshift(e.data),this.stopCameraImageUpload(),this.enablePopup.activity=!1},async patchActivity(e){let t=await this.$axios.patch("/QRActivities/"+e.id,e);if(console.log("rs",t.data),t.data){for(var a in this.history)if(this.history[a].id==t.data.id){this.history[a]=t.data;break}}this.enablePopup.view_activity=!1},changeDesc(e,t){for(var a in projects)if(projects[a].value==e){projects[a].desc=t;break}},async getDeviceData(){try{var e=this.f7route.params.id,t=this.f7route.params.privateCode;this.$axios.defaults.baseURL=Y.BASE_URL;var a=await this.$axios.get("QRIDs/getLifecycle",{params:{qrid:e,privateCode:t}}),u=a.data;console.log(u),u&&u.id&&(this.qrid=u,this.supporter=this.qrid.supporter,this.history=this.qrid.history)}catch(o){console.log("error",o)}}},async created(){await Promise.all([this.getDeviceData()])}},Ta=c("\u0110\u0103ng nh\u1EADp"),Aa=c("\u0110\u0103ng xu\u1EA5t"),Ea=c("\u0110\u01A1n v\u1ECB ph\xE1t h\xE0nh Th\u1EBB"),Ua={key:0},Da=c("\u0110\xE3 \u0111\u0103ng nh\u1EADp b\u1EDFi"),xa=c("V\xF2ng \u0111\u1EDDi thi\u1EBFt b\u1ECB"),Ra={key:0},$a=c(" Th\xF4ng tin thi\u1EBFt b\u1ECB "),Pa=c("Edit"),Sa={class:"list media-list no-hairlines-between"},Oa={class:"item-content"},La={class:"item-inner"},qa={class:"item-title"},Na={class:"item-content"},Qa={class:"item-inner"},Ba=["innerHTML"],Va=["src"],za={key:0},Ma={class:"item-content"},Ya={class:"item-inner"},Fa={class:"item-title"},Ka={class:"item-checkbox item-content"},ja={class:"item-inner"},Ha=s("div",{class:"item-title-row"},[s("div",{class:"item-title"},"S\u1EA3n ph\u1EA9m c\u1EE7a")],-1),Ga={class:"item-subtitle"},Wa={class:"item-text"},Ja=s("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),Xa=c(" Kh\xE1ch h\xE0ng s\u1EED d\u1EE5ng "),Za=c("Edit"),er={class:"list media-list no-hairlines-between"},tr={class:"item-content"},ir=s("div",{class:"item-media"},[s("i",{class:"f7-icons"},"person_fill")],-1),sr={class:"item-inner"},or={class:"item-title"},nr={key:0},lr={class:"item-content"},ar=s("div",{class:"item-media"},[s("i",{class:"f7-icons"},"device_phone_portrait")],-1),rr={class:"item-inner"},cr={class:"item-subtitle"},dr={class:"item-content"},ur=s("div",{class:"item-media"},[s("i",{class:"f7-icons"},"house")],-1),pr={class:"item-inner"},_r={class:"item-subtitle"},hr=s("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),gr=c("L\u1ECBch s\u1EED ho\u1EA1t \u0111\u1ED9ng"),mr={class:"list media-list medium-inset"},fr=["onClick"],vr={class:"item-media"},br=["src"],yr={class:"item-inner"},kr={class:"item-header"},Ir={class:"item-title-row"},wr=s("div",{class:"item-after"},null,-1),Cr={class:"item-subtitle"},Tr={class:"item-text"},Ar={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},Er=c("Th\u1EBB \u0111\u01B0\u1EE3c ph\xE1t h\xE0nh b\u1EDFi "),Ur=["src"],Dr=s("i",{class:"f7-icons"},"xmark_circle",-1),xr=c("Cancel"),Rr=s("i",{class:"f7-icons"},"cloud_upload",-1),$r=c("L\u01B0u"),Pr=c("Ng\u01B0\u1EDDi s\u1EDF h\u1EEFu (mua) thi\u1EBFt b\u1ECB"),Sr=s("i",{class:"f7-icons"},"xmark_circle",-1),Or=c("Cancel"),Lr=c("C\u1EADp nh\u1EADt"),qr=c("X\xE1c nh\u1EADn th\xF4ng tin"),Nr=c("sau khi k\xEDch ho\u1EA1t, kh\xF4ng th\u1EC3 thay \u0111\u1ED5i th\xF4ng tin c\u1EE7a Th\u1EBB. B\u1EA1n c\xF3 d\xE1m ch\u1EAFc"),Qr=s("i",{class:"f7-icons"},"xmark_circle",-1),Br=c("Hu\u1EF7"),Vr=s("i",{class:"f7-icons"},"checkmark_circle",-1),zr=c(" X\xE1c nh\u1EADn"),Mr=["src"],Yr=s("i",{class:"f7-icons"},"xmark_circle",-1),Fr=c("Hu\u1EF7"),Kr=s("i",{class:"f7-icons"},"checkmark_circle",-1),jr=["src"],Hr=c("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),Gr=c("ch\u01B0a c\xF3"),Wr=c("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),Jr=c("T\u1EEB ch\u1ED1i"),Xr=s("i",{class:"f7-icons"},"checkmark_circle",-1),Zr=c("X\xE1c nh\u1EADn"),ec=s("i",{class:"f7-icons"},"xmark_circle",-1),tc=c(" \u0110\xF3ng");function ic(e,t,a,u,o,r){const m=l("f7-navbar"),v=l("f7-link"),h=l("f7-list"),g=l("f7-block"),_=l("f7-block-title"),k=l("f7-card-header"),f=l("f7-card-content"),C=l("f7-card"),T=l("f7-page"),U=l("f7-view"),I=l("f7-panel"),P=l("f7-nav-right"),x=l("f7-nav-title"),N=l("f7-button"),X=l("f7-swiper-slide"),Z=l("f7-swiper"),$=l("f7-list-item"),j=l("f7-icon"),W=l("f7-fab"),V=l("f7-list-input"),F=l("image-upload"),z=l("f7-col"),H=l("f7-row"),ee=l("f7-popup"),be=l("f7-card-footer"),re=l("f7-block-footer");return p(),y(T,null,{default:n(()=>[i(I,{left:"",cover:"","theme-dark":""},{default:n(()=>[i(U,null,{default:n(()=>[i(T,null,{default:n(()=>[i(m,{title:a.f7router.app.name+" v"+a.f7router.app.version},null,8,["title"]),i(g,null,{default:n(()=>[i(h,null,{default:n(()=>[r.isEdit?A("",!0):(p(),y(v,{key:0,onClick:t[0]||(t[0]=b=>r.clickLogin()),"data-view":".view-main",class:"item-content item-link panel-close"},{default:n(()=>[Ta]),_:1})),r.isEdit?(p(),y(v,{key:1,onClick:t[1]||(t[1]=b=>r.clickLogout()),"data-view":".view-main",class:"item-content item-link panel-close"},{default:n(()=>[Aa]),_:1})):A("",!0)]),_:1})]),_:1}),i(_,null,{default:n(()=>[Ea]),_:1}),i(C,null,{default:n(()=>[i(k,null,{default:n(()=>[c(d(o.supporter.name),1)]),_:1}),i(f,null,{default:n(()=>[s("p",null,d(o.supporter.address),1),s("p",null,"Ng\xE0y ph\xE1t h\xE0nh "+d(r.formatDate(o.qrid.created)),1),r.isActive?(p(),w("p",Ua," Ng\xE0y k\xEDch ho\u1EA1t "+d(r.formatDate(o.qrid.activatedDate)),1)):A("",!0)]),_:1})]),_:1}),u.userInfo.id?(p(),y(C,{key:0},{default:n(()=>[i(k,null,{default:n(()=>[Da]),_:1}),i(f,null,{default:n(()=>[c(d(u.userInfo.username)+", vai tr\xF2: "+d(u.userInfo.roleCode)+", id: "+d(u.userInfo.id),1)]),_:1})]),_:1})):A("",!0)]),_:1})]),_:1})]),_:1}),i(m,{sliding:!1},{default:n(()=>[i(P,null,{default:n(()=>[i(v,{"icon-ios":"f7:menu","icon-aurora":"f7:menu","icon-md":"material:menu","panel-open":"left"})]),_:1}),i(x,{sliding:""},{default:n(()=>[xa]),_:1})]),_:1}),i(C,{"bg-color":r.isActive?"blue":"red"},{default:n(()=>[i(k,null,{default:n(()=>[c("ID: "+d(a.f7route.params.id),1),r.isActive?A("",!0):(p(),w("span",Ra,"ch\u01B0a k\xEDch ho\u1EA1t"))]),_:1})]),_:1},8,["bg-color"]),i(C,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[$a,!r.isActive&&r.isEdit?(p(),y(N,{key:0,onClick:r.clickEditDevice},{default:n(()=>[Pa]),_:1},8,["onClick"])):A("",!0)]),_:1}),o.qrid.title?(p(),y(f,{key:0},{default:n(()=>[s("div",Sa,[s("ul",null,[s("li",null,[s("div",Oa,[s("div",La,[s("div",qa,d(o.qrid.title),1)])])]),s("li",null,[s("div",Na,[s("div",Qa,[s("div",{class:"item-text",innerHTML:o.qrid.description},null,8,Ba)])])]),s("li",null,[i(Z,{speed:500,slidesPerView:2,spaceBetween:10},{default:n(()=>[(p(!0),w(R,null,B(o.qrid.imageUrls,b=>(p(),y(X,{key:b},{default:n(()=>[s("img",{class:"small",src:b},null,8,Va)]),_:2},1024))),128))]),_:1})]),r.isActive?(p(),w("li",za,[s("div",Ma,[s("div",Ya,[s("div",Fa," Ng\xE0y k\xEDch ho\u1EA1t: "+d(r.formatDate(o.qrid.activatedDate)),1)])])])):A("",!0),s("li",null,[s("label",Ka,[s("div",ja,[Ha,s("div",Ga,d(o.qrid.sellerName),1),s("div",Wa,d(o.qrid.sellerAddress),1)])])])])])]),_:1})):(p(),y(f,{key:1},{default:n(()=>[Ja]),_:1}))]),_:1}),i(C,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[Xa,!r.isActive&&r.isEdit?(p(),y(N,{key:0,"popup-open":"#edit-user"},{default:n(()=>[Za]),_:1})):A("",!0)]),_:1}),o.qrid.ownerName?(p(),y(f,{key:0},{default:n(()=>[s("div",er,[s("ul",null,[s("li",null,[s("div",tr,[ir,s("div",sr,[s("div",or,d(o.qrid.ownerName),1)])])]),o.qrid.ownerPhoneNumber?(p(),w("li",nr,[s("div",lr,[ar,s("div",rr,[s("div",cr,d(o.qrid.ownerPhoneNumber),1)])])])):A("",!0),s("li",null,[s("div",dr,[ur,s("div",pr,[s("div",_r,d(o.qrid.ownerAddress),1)])])])])])]),_:1})):(p(),y(f,{key:1},{default:n(()=>[hr]),_:1}))]),_:1}),r.isActive?(p(),y(_,{key:0},{default:n(()=>[gr]),_:1})):A("",!0),s("div",mr,[s("ul",null,[(p(!0),w(R,null,B(o.history,b=>(p(),w("li",{key:b.id},[s("a",{onClick:Vd=>r.clickViewActivity(b),class:"item-link item-content chevron-center"},[s("div",vr,[s("img",{style:{border:"1px solid #ccc"},src:b.imageUrls&&b.imageUrls[0]?b.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,br)]),s("div",yr,[s("div",kr,d(r.formatDateTime(b.modified)),1),s("div",Ir,[s("div",{class:K(r.getActivityColor(b)),style:{"font-size":"16px"}},d(r.getActivityName(b)),3),wr]),s("div",Cr,d(b.title),1),s("div",Tr,d(b.description),1),s("div",Ar,d(b.money>0?r.formatMoney(b.money):" "),1)])],8,fr)]))),128))])]),r.isActive?A("",!0):(p(),y(C,{key:1},{default:n(()=>[i(k,null,{default:n(()=>[Er]),_:1}),i(f,null,{default:n(()=>[i(h,null,{default:n(()=>[i($,null,{default:n(()=>[c(d(o.supporter.name),1)]),_:1})]),_:1})]),_:1})]),_:1})),!r.isActive&&!r.isEdit?(p(),y(W,{key:2,position:"center-bottom",text:"\u0110\u0103ng nh\u1EADp",color:"red",onClick:t[2]||(t[2]=b=>r.clickLogin())},{default:n(()=>[i(j,{ios:"f7:lock_open",aurora:"f7:lock_open",md:"material:lock_open"})]),_:1})):A("",!0),!r.isActive&&r.isEdit&&r.hasData?(p(),y(W,{key:3,position:"center-bottom",text:"K\xEDch ho\u1EA1t",color:"red",onClick:t[3]||(t[3]=b=>r.clickActive())},{default:n(()=>[i(j,{ios:"f7:house",aurora:"f7:house",md:"material:house"})]),_:1})):A("",!0),r.isActive&&r.isEdit?(p(),y(W,{key:4,position:"center-bottom",text:"C\xF4ng vi\u1EC7c",color:"blue",onClick:t[4]||(t[4]=b=>r.clickNewActivity("SUBMIT_TASK"))},{default:n(()=>[i(j,{f7:"bell_fill"})]),_:1})):A("",!0),r.isActive&&!r.isEdit?(p(),y(W,{key:5,position:"left-bottom",text:"Ghi ch\xFA",color:"green",onClick:t[5]||(t[5]=b=>r.clickNewActivity("ADD_NOTE"))},{default:n(()=>[i(j,{f7:"pencil_ellipsis_rectangle"})]),_:1})):A("",!0),r.isActive&&!r.isEdit?(p(),y(W,{key:6,position:"right-bottom",text:"Y\xEAu c\u1EA7u",color:"blue",onClick:t[6]||(t[6]=b=>r.clickNewActivity("SEND_REQUEST"))},{default:n(()=>[i(j,{f7:"paperplane_fill"})]),_:1})):A("",!0),i(ee,{id:"edit-device",opened:o.enablePopup.editDevice,"onUpdate:opened":t[10]||(t[10]=b=>o.enablePopup.editDevice=b)},{default:n(()=>[i(U,null,{default:n(()=>[i(T,null,{default:n(()=>[i(m,{title:"C\u1EADp nh\u1EADt thi\u1EBFt b\u1ECB"}),i(g,null,{default:n(()=>[i(h,null,{default:n(()=>[i(V,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"T\xEAn thi\u1EBFt b\u1ECB","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:o.qrid.title,"onUpdate:value":t[7]||(t[7]=b=>o.qrid.title=b)},null,8,["value"])]),_:1})]),_:1}),i(g,null,{default:n(()=>[i(F,{ref:"deviceImages",countImages:o.deviceImages,maxImages:o.maxDeviceImages,onToggleCamera:r.toggleCamera,onUploaded:r.addImageDevices},null,8,["countImages","maxImages","onToggleCamera","onUploaded"]),i(H,{"no-gap":""},{default:n(()=>[(p(!0),w(R,null,B(o.qrid.imageUrls,b=>(p(),y(z,{width:"50",key:b},{default:n(()=>[s("img",{width:"100",src:b},null,8,Ur)]),_:2},1024))),128))]),_:1}),i(h,null,{default:n(()=>[i(V,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:o.qrid.description,"onUpdate:value":t[8]||(t[8]=b=>o.qrid.description=b)},null,8,["value"])]),_:1}),i(h,{"media-list":""},{default:n(()=>[i($,{checkbox:"",checked:"","onUpdate:checked":t[9]||(t[9]=b=>o.isSellProduct=b),title:"S\u1EA3n ph\u1EA9m c\u1EE7a",after:"",subtitle:o.supporter.name,text:o.supporter.address},null,8,["checked","subtitle","text"])]),_:1})]),_:1}),i(H,null,{default:n(()=>[i(z,{width:"40"},{default:n(()=>[i(N,{round:"",large:"",color:"gray",onClick:r.cancelEditDevice},{default:n(()=>[Dr,xr]),_:1},8,["onClick"])]),_:1}),i(z,{width:"60"},{default:n(()=>[i(N,{fill:"",round:"",large:"",onClick:r.processEditDevice},{default:n(()=>[Rr,$r]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(ee,{id:"edit-user",opened:o.enablePopup.editUser,"onUpdate:opened":t[14]||(t[14]=b=>o.enablePopup.editUser=b)},{default:n(()=>[i(U,null,{default:n(()=>[i(T,null,{default:n(()=>[i(m,{title:"Th\xF4ng tin ng\u01B0\u1EDDi s\u1EED d\u1EE5ng"}),i(g,null,{default:n(()=>[i(_,null,{default:n(()=>[Pr]),_:1}),i(h,{"no-hairlines-md":""},{default:n(()=>[i(V,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.qrid.ownerName,"onUpdate:value":t[11]||(t[11]=b=>o.qrid.ownerName=b)},null,8,["value"]),i(V,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:o.qrid.ownerPhoneNumber,"onUpdate:value":t[12]||(t[12]=b=>o.qrid.ownerPhoneNumber=b)},null,8,["value"]),i(V,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:o.qrid.ownerAddress,"onUpdate:value":t[13]||(t[13]=b=>o.qrid.ownerAddress=b)},null,8,["value"])]),_:1})]),_:1}),i(H,null,{default:n(()=>[i(z,{width:"40"},{default:n(()=>[i(N,{round:"",large:"",color:"gray","popup-close":""},{default:n(()=>[Sr,Or]),_:1})]),_:1}),i(z,{width:"60"},{default:n(()=>[i(N,{fill:"",round:"",large:"",onClick:r.editUser},{default:n(()=>[Lr]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(ee,{id:"active-using",opened:o.enablePopup.activeUsing,"onUpdate:opened":t[15]||(t[15]=b=>o.enablePopup.activeUsing=b)},{default:n(()=>[i(U,null,{default:n(()=>[i(T,null,{default:n(()=>[i(m,{title:"C\u1EA3nh b\xE1o"}),i(C,{strong:""},{default:n(()=>[i(k,null,{default:n(()=>[qr]),_:1}),i(f,null,{default:n(()=>[Nr]),_:1}),i(be,null,{default:n(()=>[i(z,null,{default:n(()=>[i(N,{"popup-close":""},{default:n(()=>[Qr,Br]),_:1})]),_:1}),i(z,null,{default:n(()=>[i(N,{fill:"",onClick:r.activeUsing},{default:n(()=>[Vr,zr]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(ee,{id:"new-activity",opened:o.enablePopup.activity,"onUpdate:opened":t[22]||(t[22]=b=>o.enablePopup.activity=b)},{default:n(()=>[i(U,null,{default:n(()=>[i(T,null,{default:n(()=>[i(m,{title:o.ACT_POPUP.nar_bar_title},null,8,["title"]),i(C,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[c(d(o.ACT_POPUP.content),1)]),_:1}),i(f,null,{default:n(()=>[i(h,null,{default:n(()=>[i(V,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"Ti\xEAu \u0111\u1EC1","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:o.activity.title,"onUpdate:value":t[16]||(t[16]=b=>o.activity.title=b)},null,8,["value"]),i(V,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:o.activity.description,"onUpdate:value":t[17]||(t[17]=b=>o.activity.description=b)},null,8,["value"]),o.activity.type=="ACTIVITY.QRTASK"?(p(),y(V,{key:0,outline:"",type:"number",label:"Ti\u1EC1n \u0111\xE3 thu","floating-label":"",placeholder:"","clear-button":"",value:o.activity.money,"onUpdate:value":t[18]||(t[18]=b=>o.activity.money=b)},null,8,["value"])):A("",!0),o.activity.type=="ACTIVITY.QRTASK"?(p(),y($,{key:1},{default:n(()=>[c("V\xE0o l\xFAc : "+d(r.formatDateTime(o.activity.created)),1)]),_:1})):A("",!0)]),_:1})]),_:1})]),_:1}),i(g,null,{default:n(()=>[i(F,{ref:"activityImages",countImages:o.activityImages,maxImages:o.maxActivityImages,onToggleCamera:r.toggleCamera2,onUploaded:r.addImageActivity},null,8,["countImages","maxImages","onToggleCamera","onUploaded"]),i(H,{"no-gap":""},{default:n(()=>[(p(!0),w(R,null,B(o.activity.imageUrls,b=>(p(),y(z,{width:"50",key:b},{default:n(()=>[s("img",{width:"100",src:b},null,8,Mr)]),_:2},1024))),128))]),_:1})]),_:1}),i(C,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[c(d(o.ACT_POPUP.sender),1)]),_:1}),i(f,null,{default:n(()=>[i(h,{"no-hairlines-md":""},{default:n(()=>[i(V,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:o.activity.customerName,"onUpdate:value":t[19]||(t[19]=b=>o.activity.customerName=b)},null,8,["value"]),o.activity.type=="ACTIVITY.QR_REQUEST"?(p(),y(V,{key:0,outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EC3 li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:o.activity.customerPhoneNumber,"onUpdate:value":t[20]||(t[20]=b=>o.activity.customerPhoneNumber=b)},null,8,["value"])):A("",!0),i(V,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:o.activity.customerAddress,"onUpdate:value":t[21]||(t[21]=b=>o.activity.customerAddress=b)},null,8,["value"])]),_:1})]),_:1})]),_:1}),o.activity.type=="ACTIVITY.QR_REQUEST"?(p(),y(C,{key:0},{default:n(()=>[i(k,{"bg-color":"blue"},{default:n(()=>[c(d(o.ACT_POPUP.receiver),1)]),_:1}),i(f,null,{default:n(()=>[i(k,null,{default:n(()=>[c(d(o.supplier.name),1)]),_:1}),i(f,null,{default:n(()=>[c(d(o.supplier.address),1)]),_:1})]),_:1})]),_:1})):A("",!0),i(g,null,{default:n(()=>[i(H,null,{default:n(()=>[i(z,{width:"30"},{default:n(()=>[i(N,{raised:"",round:"",large:"",color:"gray",onClick:r.closeNewActivity},{default:n(()=>[Yr,Fr]),_:1},8,["onClick"])]),_:1}),i(z,{width:"60"},{default:n(()=>[i(N,{raised:"",round:"",fill:"",large:"",onClick:r.postActivity},{default:n(()=>[Kr,c(d(o.ACT_POPUP.action),1)]),_:1},8,["onClick"])]),_:1})]),_:1}),i(re,null,{default:n(()=>[c(d(o.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(ee,{id:"view-activity",opened:o.enablePopup.view_activity,"onUpdate:opened":t[26]||(t[26]=b=>o.enablePopup.view_activity=b)},{default:n(()=>[i(U,null,{default:n(()=>[i(T,null,{default:n(()=>[i(m,{title:o.ACT_POPUP.nar_bar_title},null,8,["title"]),i(C,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[c(d(o.ACT_POPUP.content),1)]),_:1}),i(f,null,{default:n(()=>[i(h,{"no-hairlines-md":""},{default:n(()=>[i($,null,{default:n(()=>[c(d(o.view_activity.title),1)]),_:1}),i($,null,{default:n(()=>[c(d(o.view_activity.description),1)]),_:1}),o.view_activity.type=="ACTIVITY.QRTASK"?(p(),y($,{key:0},{default:n(()=>[c("\u0110\xE3 thu: "+d(r.formatMoney(o.view_activity.money)),1)]),_:1})):A("",!0),o.view_activity.type=="ACTIVITY.QRTASK"?(p(),y($,{key:1},{default:n(()=>[c("Th\u1EF1c hi\u1EC7n l\xFAc: "+d(r.formatDateTime(o.view_activity.created)),1)]),_:1})):(p(),y($,{key:2},{default:n(()=>[c("G\u1EEDi l\xFAc: "+d(r.formatDateTime(o.view_activity.created)),1)]),_:1})),i(g,null,{default:n(()=>[i(H,{"no-gap":""},{default:n(()=>[(p(!0),w(R,null,B(o.view_activity.imageUrls,b=>(p(),y(z,{width:"50",key:b},{default:n(()=>[s("img",{width:"100",src:b},null,8,jr)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i(C,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[c(d(o.ACT_POPUP.sender),1)]),_:1}),i(f,null,{default:n(()=>[i(h,{"no-hairlines-md":""},{default:n(()=>[i($,null,{default:n(()=>[c(d(o.view_activity.customerName),1)]),_:1}),i($,null,{default:n(()=>[c(d(o.view_activity.customerPhoneNumber),1)]),_:1}),i($,null,{default:n(()=>[c(d(o.view_activity.customerAddress),1)]),_:1}),o.view_activity.type=="ACTIVITY.QRTASK"&&o.view_activity.status=="CONFIRMED"?(p(),y($,{key:0},{default:n(()=>[c("X\xE1c nh\u1EADn l\xFAc "+d(r.formatDateTime(o.view_activity.modified)),1)]),_:1})):A("",!0),o.view_activity.type=="ACTIVITY.QRTASK"&&o.view_activity.status=="REJECTED"?(p(),y($,{key:1},{default:n(()=>[c("T\u1EEB ch\u1ED1i l\xFAc "+d(r.formatDateTime(o.view_activity.modified)),1)]),_:1})):A("",!0)]),_:1})]),_:1})]),_:1}),o.view_activity.type=="ACTIVITY.QRTASK"&&(o.view_activity.status=="CONFIRMED"||o.view_activity.status=="REJECTED")?(p(),y(C,{key:0},{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[Hr]),_:1}),i(f,null,{default:n(()=>[o.view_activity.userComment?(p(),y(h,{key:0},{default:n(()=>[i($,null,{default:n(()=>[c(d(o.view_activity.userComment),1)]),_:1})]),_:1})):(p(),y(h,{key:1},{default:n(()=>[i($,null,{default:n(()=>[Gr]),_:1})]),_:1}))]),_:1})]),_:1})):A("",!0),o.view_activity.type=="ACTIVITY.QR_REQUEST"||o.view_activity.type=="ACTIVITY.QRTASK"?(p(),y(C,{key:1},{default:n(()=>[i(k,{"bg-color":"blue"},{default:n(()=>[c(d(o.ACT_POPUP.receiver)+" ",1),i(j,{f7:o.supplier.status=="ACTIVE"?"star_circle":"star_slash"},null,8,["f7"])]),_:1}),i(f,null,{default:n(()=>[i(h,null,{default:n(()=>[i($,null,{default:n(()=>[c(d(o.supplier.name),1)]),_:1}),i($,null,{default:n(()=>[c(d(o.supplier.address),1)]),_:1})]),_:1})]),_:1})]),_:1})):A("",!0),o.view_activity.type=="ACTIVITY.QRTASK"&&o.view_activity.status=="CREATED"?(p(),y(C,{key:2},{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[Wr]),_:1}),i(f,null,{default:n(()=>[i(h,null,{default:n(()=>[i(V,{type:"textarea",outline:"",label:"Nh\u1EADn x\xE9t","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","error-message":"b\u1EA1n \u0111\xE3 nh\u1EADp qu\xE1 d\xE0i!","clear-button":"",value:o.view_activity.userComment,"onUpdate:value":t[23]||(t[23]=b=>o.view_activity.userComment=b)},null,8,["value"])]),_:1})]),_:1})]),_:1})):A("",!0),i(g,null,{default:n(()=>[o.view_activity.type=="ACTIVITY.QRTASK"&&o.view_activity.status=="CREATED"?(p(),y(H,{key:0},{default:n(()=>[i(z,{width:"40"},{default:n(()=>[i(N,{raised:"",round:"",large:"",color:"gray",onClick:t[24]||(t[24]=b=>r.rejectQRTask())},{default:n(()=>[Jr]),_:1})]),_:1}),i(z,{width:"60"},{default:n(()=>[i(N,{fill:"",large:"",onClick:t[25]||(t[25]=b=>r.confirmQRTask())},{default:n(()=>[Xr,Zr]),_:1})]),_:1})]),_:1})):(p(),y(H,{key:1},{default:n(()=>[i(z,{width:"100"},{default:n(()=>[i(N,{fill:"",round:"",large:"","popup-close":""},{default:n(()=>[ec,tc]),_:1})]),_:1})]),_:1})),i(re,null,{default:n(()=>[c(d(o.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var sc=D(Ca,[["render",ic]]);const oc={props:{f7route:Object,f7router:Object}};function nc(e,t,a,u,o,r){const m=l("f7-navbar"),v=l("f7-block"),h=l("f7-page");return p(),y(h,null,{default:n(()=>[i(m,{title:"V\xF2ng \u0111\u1EDDi thi\u1EBFt b\u1ECB","back-link":"Back"}),i(v,null,{default:n(()=>[s("h2",null,d(a.f7route.params.id),1)]),_:1})]),_:1})}var lc=D(oc,[["render",nc]]);const ac={},rc={color:"green"};function cc(e,t,a,u,o,r){const m=l("f7-navbar"),v=l("f7-block"),h=l("f7-page");return p(),y(h,null,{default:n(()=>[i(m,{title:"Th\xF4ng tin Ch\xEDnh h\xE3ng","back-link":"Back"}),i(v,null,{default:n(()=>[s("h2",rc,d(e.f7route.params.id),1)]),_:1})]),_:1})}var dc=D(ac,[["render",cc]]);const uc={data(){return{user:{fullName:"H\u1ECD t\xEAn c\u1EE7a: B888.1a",roleId:2,roleCode:"BOSS",organizationId:888,teamId:0,personId:0,status:"ACTIVE",metadata:null,created:"2021-04-20T04:22:20.533Z",createdBy:1,modified:null,modifiedBy:null,realm:null,username:"B888.1",email:"B888.1@qrcare.net",emailVerified:!1,id:171},org:{name:"C\xF4ng ty TNHH ph\u1EA7n m\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam",type:"COMPANY",parties:["PARTY.SUPPLIER.SELLER","PARTY.SUPPLIER.SERVICE"],categories:null,fullname:"C\xF4ng ty TNHH ph\u1EA7n m\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam",address:"305 H\u1ED3ng L\u1EA1c, Ph\u01B0\u1EDDng 10, Qu\u1EADn T\xE2n B\xECnh, TP H\u1ED3 Ch\xED Minh",logoUrl:"http://apps.vinaas.com/file/Isu2ck3Pe",website:"http://vinaas.com/",content:"CCCC",imageUrls:null,taxCode:"null",hotline:"0906826807",email:"contact@vinaas.com",facebook:"null",youtube:"null",gpsLocation:{lng:0,lat:0},directorId:0,QRCARE_Verified:0,QRCare_Rating:0,parentId:0,rootId:0,pdfUrl:"https://backend.qrcare.net/api/Containers/pdf/download/888-qraccount-2021-04-20-04-22-42-548Z.pdf",status:"ACTIVE",metadata:{},created:"2021-04-20T04:22:19.920Z",createdBy:null,modified:"2021-04-20T04:22:19.920Z",modifiedBy:null,id:888}}}},pc={class:"page-content no-padding-top",style:{"padding-bottom":"80px"}},_c={class:"bg-color-blue"},hc={class:"block no-margin no-padding"},gc={class:"list media-list no-hairlines no-margin"},mc={style:{background:"transparent"}},fc=["href"],vc={class:"item-media"},bc={class:"style-role"},yc={class:"item-inner align-self-center"},kc=s("div",{class:"item-title-row"},[s("div",{class:"item-title text-color-white text-uppercase fs-14"},"Ch\xE0o m\u1EEBng t\u1EDBi QRCare"),s("div",{class:"item-after"})],-1),Ic={class:"item-subtitle fs-16 text-color-white"},wc={class:"item-text text-color-white"},Cc={class:"item-text fs-14 text-color-white"},Tc={class:"block-info-org"},Ac={class:"block no-margin"},Ec={class:"inner-info-org bg-color-white"},Uc={class:"logo"},Dc=["src"],xc={class:"fs-20",style:{"font-weight":"700"}},Rc={class:"fs-14",style:{color:"#999"}},$c={class:"fs-14",style:{color:"#999"}},Pc={key:0,style:{"margin-top":"15px"}},Sc=["href"],Oc={key:0,class:"block no-margin-bottom",style:{"margin-top":"15px"}},Lc={class:"row"},qc={class:"col-50"},Nc=s("div",{class:"statistic bg-color-white text-color-black w-100"},[s("div",{class:"fs-12 display-flex justify-content-space-between",style:{"padding-bottom":"15px"}},[c(" C\xF4ng vi\u1EC7c "),s("span",{class:"badge color-orange fs-10"}," 20")]),s("div",{class:"row"},[s("div",{class:"col-50"}," Tu\u1EA7n "),s("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")]),s("hr",{style:{"border-top":"1px dotted #ccc","border-bottom":"0"}}),s("div",{class:"row"},[s("div",{class:"col-50"}," Th\xE1ng "),s("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")])],-1),Qc={class:"col-50"},Bc=s("div",{class:"statistic bg-color-white text-color-black w-100"},[s("div",{class:"fs-12 display-flex justify-content-space-between",style:{"padding-bottom":"15px"}},[c(" Y\xEAu c\u1EA7u ph\xE1t sinh "),s("span",{class:"badge color-orange fs-10"},"10")]),s("div",{class:"row"},[s("div",{class:"col-50"}," Tu\u1EA7n "),s("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")]),s("hr",{style:{"border-top":"1px dotted #ccc","border-bottom":"0"}}),s("div",{class:"row"},[s("div",{class:"col-50"}," Th\xE1ng "),s("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")])],-1),Vc={class:"col-50"},zc=s("div",{class:"statistic bg-color-white text-color-black w-100"},[s("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng th\u1EBB ph\xE1t h\xE0nh "),s("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," 0 ")],-1),Mc={class:"col-50"},Yc=s("div",{class:"statistic bg-color-white text-color-black w-100"},[s("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng s\u1ED1 s\u1EA3n ph\u1EA9m "),s("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," 0 ")],-1),Fc={class:"col-100"},Kc=s("div",{class:"statistic bg-color-white text-color-black w-100"},[s("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng s\u1ED1 nh\xE2n vi\xEAn "),s("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," users.length ")],-1);function jc(e,t,a,u,o,r){const m=l("f7-icon"),v=l("f7-fab"),h=l("f7-link"),g=l("f7-page");return p(),y(g,{"page-content":!1},{default:n(()=>[i(v,{position:"center-bottom",text:" Qu\xE9t",color:"green"},{default:n(()=>[i(m,{f7:"qrcode_viewfinder"})]),_:1}),s("div",pc,[s("div",_c,[s("div",hc,[s("div",gc,[s("ul",mc,[s("li",null,[s("a",{href:"/my-account/"+o.user.id,class:"item-link item-content chevron-center",style:{"padding-top":"20px","padding-bottom":"50px"}},[s("div",vc,[s("div",bc,d(o.user.roleCode),1)]),s("div",yc,[kc,s("div",Ic,d(o.user.fullName),1),s("div",wc,"Username: "+d(o.user.username),1),s("div",Cc,"Email "+d(o.user.email),1)])],8,fc)])])])])]),s("div",Tc,[s("div",Ac,[s("div",Ec,[s("div",Uc,[s("img",{src:o.org.logoUrl,width:"100",alt:""},null,8,Dc)]),s("div",xc,d(o.org.fullname),1),s("div",Rc," \u0110\u1ECBa ch\u1EC9: "+d(o.org.address),1),s("div",$c," Hotline: "+d(o.org.hotline),1),o.user.roleCode=="BOSS"?(p(),w("div",Pc,[s("a",{href:"/edit-supplier/"+o.org.id,class:"col button button-fill button-large fs-14"},"C\u1EADp nh\u1EADt th\xF4ng tin",8,Sc)])):A("",!0)])])]),o.user.roleCode=="BOSS"?(p(),w("div",Oc,[s("div",Lc,[s("div",qc,[i(h,{href:"/list-work-history",class:"w-100"},{default:n(()=>[Nc]),_:1})]),s("div",Qc,[i(h,{href:"/list-request",class:"w-100"},{default:n(()=>[Bc]),_:1})]),s("div",Vc,[i(h,{href:"",class:"w-100"},{default:n(()=>[zc]),_:1})]),s("div",Mc,[i(h,{class:"w-100"},{default:n(()=>[Yc]),_:1})]),s("div",Fc,[i(h,{href:"/list-staff",class:"w-100"},{default:n(()=>[Kc]),_:1})])])])):A("",!0)])]),_:1})}var Hc=D(uc,[["render",jc]]);const Gc=ne({name:"QrLogin",emits:["detect","warning"],components:{QrStream:pe.exports.QrStream,QrCapture:pe.exports.QrCapture},data(){return{qrUrl:"",warning:!1}},methods:{async onDecode(e){console.log("onDecode",e),e.includes("backend.qrcare.net/api/ApplicationUsers/")||e.includes("m.qrcare.vn/u/")?(this.qrUrl=e,this.$emit("detect",e)):e&&this.$emit("warning",e)}}}),Wc=e=>(de("data-v-4dd3d254"),e=e(),ue(),e),Jc={class:"reader"},Xc={class:"center stream"},Zc=Wc(()=>s("div",{style:{color:"red"},class:"frame"},null,-1)),ed={key:0,"text-color":"red"};function td(e,t,a,u,o,r){const m=l("qr-stream");return p(),w("div",Jc,[s("div",null,[s("div",Xc,[i(m,{onDecode:e.onDecode,class:"mb"},{default:n(()=>[Zc]),_:1},8,["onDecode"])])]),e.warning?(p(),w("h3",ed,"M\xE3 QRCode kh\xF4ng \u0111\xFAng.")):A("",!0)])}var ve=D(Gc,[["render",td],["__scopeId","data-v-4dd3d254"]]);const id=ne({props:{f7route:Object,f7router:Object},components:{QrScanOne:ve},data(){const e=oe();e.desktop?console.log("It is desktop"):console.log("It is mobile");let t="",a="";return M("isDemoCard")&&(t="888.10",a="QRcare888.10"),{qrUrl:"",device:e,username:t,password:a}},methods:{detectURl(e){console.log(e),this.qrUrl=e,this.clickLogin()},showWarning(e){S.dialog.alert("qrcode kh\xF4ng h\u1EE3p l\u1EC7!<br>",e)},async clickLogin(){if(this.qrUrl){let e=this.qrUrl;if(this.qrUrl.includes("backend.qrcare.net"))e=this.qrUrl.replace("backend.qrcare.net","api.qrcare.net");else if(this.qrUrl.includes("m.qrcare.vn/u")){let t=this.qrUrl.replace("/u/","/ApplicationUsers/");t=t.replace("/t/","?access_token="),e=t}await this.loginByUrl(e)}else await this.loginByAccount()},async loginByUrl(e){let t=await this.$axios.get(e);t&&t.data&&(console.log(t.data),Q.dispatch("login",t.data),this.f7router.back())},async loginByAccount(){var e={username:this.username,password:this.password};let a=(await this.$axios.post(Y.BASE_URL+"ApplicationUsers/login",e)).data;if(a.id&&a.userId){console.log("loginAction",a);let u=Y.BASE_URL+"ApplicationUsers/"+a.userId+"?access_token="+a.id;await this.loginByUrl(u)}}}}),sd=c("Qu\xE9t Th\u1EBB QRLogin \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng \u0111\u0103ng nh\u1EADp "),od=c("Ho\u1EB7c cung c\u1EA5p th\xF4ng tin"),nd=c("\u0110\u0103ng nh\u1EADp"),ld=s("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),ad=s("p",null,"Email: sales@qrcare.net ",-1),rd=s("p",null,"Phone: +84 906 826 807",-1);function cd(e,t,a,u,o,r){const m=l("qr-scan-one"),v=l("f7-block-footer"),h=l("f7-block"),g=l("f7-block-title"),_=l("f7-list-input"),k=l("f7-list"),f=l("f7-button"),C=l("f7-page");return p(),y(C,{name:"Login Desktop"},{default:n(()=>[e.device.desktop?A("",!0):(p(),y(h,{key:0},{default:n(()=>[i(m,{onDetect:e.detectURl,onWarning:e.showWarning},null,8,["onDetect","onWarning"]),i(v,{style:{"margin-top":"20px"}},{default:n(()=>[sd]),_:1})]),_:1})),i(h,null,{default:n(()=>[i(g,null,{default:n(()=>[od]),_:1}),i(k,{form:""},{default:n(()=>[i(_,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:e.username,"onUpdate:value":t[0]||(t[0]=T=>e.username=T)},null,8,["value"]),i(_,{type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:e.password,"onUpdate:value":t[1]||(t[1]=T=>e.password=T)},null,8,["value"])]),_:1}),i(f,{fill:"",large:"",round:"",onClick:e.clickLogin},{default:n(()=>[nd]),_:1},8,["onClick"]),i(k,null,{default:n(()=>[i(v,null,{default:n(()=>[ld,ad,rd]),_:1})]),_:1})]),_:1})]),_:1})}var dd=D(id,[["render",cd]]);const ud=ne({props:{f7route:Object,f7router:Object},components:{QrScanOne:ve},data(){const e=oe();e.desktop?console.log("It is desktop"):console.log("It is mobile");let t="",a="";return t="888.10",a="QRcare888.10",{qrUrl:"",device:e,username:t,password:a}},methods:{detectURl(e){console.log(e),this.qrUrl=e,this.clickLogin()},showWarning(e){S.dialog.alert("qrcode kh\xF4ng h\u1EE3p l\u1EC7!")},async clickLogin(){if(console.log("clickLogin()",this.qrUrl),this.qrUrl){let e=this.qrUrl;this.qrUrl.includes("backend.qrcare.net")&&(e=this.qrUrl.replace("backend.qrcare.net","api.qrcare.net")),await this.loginByUrl(e)}else await this.loginByAccount()},async loginByUrl(e){let t=await this.$axios.get(e);t&&t.data&&(console.log(t.data),Q.dispatch("login",t.data),this.f7router.back())},async loginByAccount(){var e={username:this.username,password:this.password};await this.$authen.loginByAccount(e)&&(console.log("to home()"),this.f7router.navigate("/"))}}}),pd=c("Qu\xE9t Th\u1EBB QRLogin \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng \u0111\u0103ng nh\u1EADp "),_d=c("Ho\u1EB7c cung c\u1EA5p th\xF4ng tin"),hd=c("\u0110\u0103ng nh\u1EADp"),gd=s("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),md=s("p",null,"Email: sales@qrcare.net ",-1),fd=s("p",null,"Phone: +84 906 826 807",-1);function vd(e,t,a,u,o,r){const m=l("qr-scan-one"),v=l("f7-block-footer"),h=l("f7-block"),g=l("f7-block-title"),_=l("f7-list-input"),k=l("f7-list"),f=l("f7-button"),C=l("f7-page");return p(),y(C,{name:"Login Desktop"},{default:n(()=>[e.device.desktop?A("",!0):(p(),y(h,{key:0},{default:n(()=>[i(m,{onDetect:e.detectURl,onWarning:e.showWarning},null,8,["onDetect","onWarning"]),i(v,{style:{"margin-top":"20px"}},{default:n(()=>[pd]),_:1})]),_:1})),i(h,null,{default:n(()=>[i(g,null,{default:n(()=>[_d]),_:1}),i(k,null,{default:n(()=>[i(_,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:e.username,"onUpdate:value":t[0]||(t[0]=T=>e.username=T)},null,8,["value"]),i(_,{outline:"",label:"m\u1EADt kh\u1EA9u","floating-label":"",type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:e.password,"onUpdate:value":t[1]||(t[1]=T=>e.password=T)},null,8,["value"])]),_:1}),i(f,{fill:"",large:"",round:"",onClick:e.clickLogin},{default:n(()=>[hd]),_:1},8,["onClick"]),i(k,null,{default:n(()=>[i(v,null,{default:n(()=>[gd,md,fd]),_:1})]),_:1})]),_:1})]),_:1})}var bd=D(ud,[["render",vd]]);const yd={props:{f7route:Object,f7router:Object},setup(){return{isAuthen:Q.state.isLogged,login:()=>{Q.dispatch("login")},logout:()=>{Q.dispatch("logout")}}},methods:{changeStatus(){this.isAuthen?this.logout():this.login()}},mounted(){const e=localStorage.getItem("fcm-token");console.log("home()",e)},async created(){}},kd=c("QRCare VN"),Id=s("p",null,"\u0110\xE2y l\xE0 Trang ch\u01B0a \u0111\u0103ng nh\u1EADp c\u1EE7a \u1EE9ng d\u1EE5ng QRCare",-1),wd=c("\u0110\u0103ng nh\u1EADp"),Cd=c("Demo Ch\u1EE5p h\xECnh "),Td=c("Danh s\xE1ch Th\u1EBB Thi\u1EBFt b\u1ECB"),Ad=c("Danh s\xE1ch Th\u1EBB T\xE0i s\u1EA3n "),Ed=c("Danh s\xE1ch Th\u1EBB s\u1EA3n ph\u1EA9m"),Ud=c("Danh s\xE1ch Th\u1EBB tr\xEAn Th\xF9ng s\u1EA3n ph\u1EA9m");function Dd(e,t,a,u,o,r){const m=l("f7-link"),v=l("f7-nav-left"),h=l("f7-nav-title"),g=l("f7-navbar"),_=l("f7-block"),k=l("f7-block-title"),f=l("f7-button"),C=l("f7-row"),T=l("f7-list-item"),U=l("f7-list"),I=l("f7-page");return p(),y(I,{name:"home"},{default:n(()=>[i(g,{sliding:!1},{default:n(()=>[i(v,null,{default:n(()=>[i(m,{"icon-ios":"f7:menu","icon-aurora":"f7:menu","icon-md":"material:menu","panel-open":"left"})]),_:1}),i(h,{sliding:""},{default:n(()=>[kd]),_:1})]),_:1}),i(_,{strong:""},{default:n(()=>[Id]),_:1}),i(k,null,{default:n(()=>[wd]),_:1}),i(_,{strong:""},{default:n(()=>[i(C,null,{default:n(()=>[i(f,{fill:"",raised:"",href:"/about/"},{default:n(()=>[Cd]),_:1})]),_:1})]),_:1}),i(k,null,{default:n(()=>[Td]),_:1}),i(U,null,{default:n(()=>[i(T,{link:"/d/100010010200011/p/39036827",title:"GENERATED"}),i(T,{link:"/d/100010010200006/p/29237987",title:"GENERATED"}),i(T,{link:"/d/100010010200007/p/43199603",title:"GENERATED"}),i(T,{link:"/d/100010010200008/p/32790292",title:"GENERATED"}),i(T,{link:"/d/100010010200184/p/62537836",title:"ACTIVE"}),i(T,{link:"/d/100010010200001/p/27975695",title:"ACTIVE"}),i(T,{link:"/d/100010010200040/p/26483375",title:"ACTIVE"}),i(T,{link:"/d/100010010200054/p/26358531",title:"ACTIVE"})]),_:1}),i(k,null,{default:n(()=>[Ad]),_:1}),i(U,null,{default:n(()=>[i(T,{link:"/a/100010010200184/p/62537836",title:"ACTIVE"})]),_:1}),i(k,null,{default:n(()=>[Ed]),_:1}),i(U,null,{default:n(()=>[i(T,{link:"/p/100010010200184/p/62537836",title:"ACTIVE"}),i(T,{link:"/p/100010010200184/p/62537836",title:"ACTIVE"})]),_:1}),i(k,null,{default:n(()=>[Ud]),_:1}),i(U,null,{default:n(()=>[i(T,{link:"/pb/100010010200184/p/62537836",title:"ACTIVE"}),i(T,{link:"/pb/100010010200184/p/62537836",title:"ACTIVE"})]),_:1})]),_:1})}var xd=D(yd,[["render",Dd]]);const Rd={};function $d(e,t){return null}var Pd=D(Rd,[["render",$d]]),Sd=[{path:"/",component:Jn},{path:"/m/:id/p/:privateCode",component:me},{path:"/u/:id/t/:access_token",component:Pd},{path:"/d/:id/p/:privateCode",component:sc},{path:"/p/:id/p/:privateCode",component:lc},{path:"/pb/:id/p/:privateCode",component:dc},{path:"/a/:id/p/:privateCode",component:Hc},{path:"/about/",component:jl},{path:"/qr-login/",component:dd},{path:"/login/",component:bd},{path:"/test/",component:xd},{path:"/form/",component:va,beforeEnter({app:e,resolve:t,reject:a,router:u}){localStorage.getItem("userId"),localStorage.get("access_token"),console.log("beforeEnter()"),a(),u.navigate("/login/")}},{path:"(.*)",component:wa}],Od={apiKey:"AIzaSyCpP1I0ELs9-4hwYzbprww_AmWXWZXSxBA",authDomain:"qrcare-aab37.firebaseapp.com",projectId:"qrcare-aab37",storageBucket:"qrcare-aab37.appspot.com",messagingSenderId:"778751086282",appId:"1:778751086282:web:2ab7ddf07bf029a14a2e33",measurementId:"G-D1ZE9SQ2TH"};const Ld=we(Od),ie=Ce(Ld);Te(ie,{vapidKey:"BGxx-fjPINkBky_OPMHnaEt5I-Nw6T4b-tyQC9BBoXXGF3a0Romv0Y4PP2oB9heOK4pCh6EgNEXYj9yWWEAba6I"}).then(e=>{if(e){localStorage.setItem("fcm-token",e);const t=localStorage.getItem("userId");t>0?te.postUserDeviceToken(e,t).then(a=>{console.log("post getToken()",e)}):console.log("nothing getToken()",e)}else console.log("No registration token available. Request permission to generate one.")}).catch(e=>{console.log("An error occurred while retrieving token. ",e)});Ae(ie,e=>{console.log("baotnq Message received. ",e),window.alert(e.data)});const qd={setup(){return Ee("messaging",ie),{f7params:{name:"QRCare.vn",theme:"auto",version:"1.1.5",view:{browserHistory:!0},store:Q,routes:Sd,serviceWorker:{path:"/service-worker.js"}}}},data(){return{}},methods:{},mounted(){let e=M("isLogged");console.log("isLogged",e),e||console.log("go to mounted")}};function Nd(e,t,a,u,o,r){const m=l("f7-view"),v=l("f7-app");return p(),y(v,Ue(De(u.f7params)),{default:n(()=>[i(m,{main:"",class:"safe-areas",url:"/"})]),_:1},16)}var Qd=D(qd,[["render",Nd]]),E=J.create({baseURL:Y.BASE_URL,headers:{"content-type":"application/json"}});let se={getFilename(e){if(e){var t=e.toString().match(/.*\/(.+?)\./);if(t&&t.length>1)return t[1]}return""},blobCreationFromURL(e){const t=e.split(","),a=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),u=t[0].split(":")[1].split(";")[0],o=new Uint8Array(a.length);for(let r=0;r<a.length;r++)o[r]=a.charCodeAt(r);return new Blob([o],{type:u})},getActivityName(e){let t="";return e.type==="ACTIVITY.QR_REQUEST"&&(t+="Y\xEAu c\u1EA7u",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRTASK"&&(t+="C\xF4ng vi\u1EC7c",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),e.type==="ACTIVITY.QRNOTE"&&(t+="Ghi ch\xFA",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRDelivery"&&(t+="B\xE0n giao",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t+="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t+="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),t},getButtonIcon(e="SAVE"){return e=="ACTIVE"?"lock_open":e=="SAVE"?"cloud_upload":""},getBackgroundImage(e){return"https://apps.vinaas.com/file/OmEkiJOFm"},getStatusColor(e){return e=="ACTIVE"?"item-title text-color-blue":"item-title"},getActivityColor(e){if(e.type==="ACTIVITY.QR_REQUEST")return"item-title text-color-orange";if(e.type==="ACTIVITY.QRTASK"){if(e.status==="CONFIRMED")return"item-title text-color-green";if(e.status==="CREATED")return"item-title text-color-blue"}return e.type==="ACTIVITY.QRNOTE"?"item-title text-color-blue":"item-title text-color-black"},getFilter(e=null){return e||{skip:0,limit:10}},formatDate(e){if(e)return _e(new Date(e),"dd-MM-yyyy")},formatDateTime(e){return e?_e(new Date(e),"dd-MM-yyyy hh:mm"):""},formatMoney(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(e)}},Bd={async getQRID(e){if(e>0)return(await E.get(`Organizations/${e}/supportQRIDs`,{params:{filter:{where:{status:"QRID_STATUS.ACTIVE"}}}})).data||[]},async getSellProducts(e,t={}){if(e>0)return(await E.get(`Organizations/${e}/sellProducts`,{params:{filter:{limit:20}}})).data||[]},async getProduct(e){if(e>0)return(await E.get(`Products/${e}`)).data||{}},async updateProduct(e,t){return e>0?(t.modified=new Date,(await E.patch(`Products/${e}`,t)).data||{}):(t.created=new Date,t.createdBy=Q.state.user.id,t.status="CREATED",(await E.post("Products",t)).data||{})},async getQRTask(e,t=0,a={}){if(e>0){let u={};u.type={inq:["ACTIVITY.QRTASK","ACTIVITY.QRDELIVERY"]},t>0&&(u.supplierStaffId=t);let o={order:"id desc",where:u};return o=he(o,a),await this.getQRActivities(e,o)}},async getRequest(e,t={}){if(e>0){let a={};a.type={inq:["ACTIVITY.QR_FEEDBACK","ACTIVITY.QR_REQUEST","ACTIVITY.SUPPLIER_REQUEST","QRCARE_REQUEST"]};let u={order:"id desc",where:a};return u=he(u,t),await this.getQRActivities(e,u)}},async getQRActivities(e,t){return(await E.get("/Organizations/"+e+"/supplierActivities",{params:{filter:t}})).data},async countQRTask(e,t=0,a={}){let u={};return u.type={inq:["ACTIVITY.QRTASK","ACTIVITY.QRDELIVERY"]},t>0&&(u.supplierStaffId=t),await this.countQRActivities(e,u)},async countRequest(e,t={}){let a={};return a.type={inq:["ACTIVITY.QR_FEEDBACK","ACTIVITY.QR_REQUEST","ACTIVITY.SUPPLIER_REQUEST","QRCARE_REQUEST"]},await this.countQRActivities(e,a)},async countQRActivities(e,t){return(await E.get("/Organizations/"+e+"/supplierActivities/count",{params:{where:t}})).data.count},async countPackages(e,t){return(await E.get("/Organizations/"+e+"/generatedPackages/count",{params:{where:t}})).data.count||0},async countSupportQRIDs(e,t){return(await E.get("/Organizations/"+e+"/supportQRIDs/count",{params:{where:t}})).data.count||0},async validateQRUrl(e){let t=["https://qrcare.net/#!/lifecycle/100010010000000/private/24135380","https://qrcare.net/#!/authentic/100010010000000/private/241353","https://qrcare.net/#!/lifecycle/100010010000002/private/20549215","https://qrcare.net/#!/authentic/100010010000002/private/205492","https://qrcare.net/#!/lifecycle/100010010000001/private/24197092","https://qrcare.net/#!/authentic/100010010000001/private/24197092","https://qrcare.net/#!/lifecycle/100010010020000/private/33249616","https://qrcare.net/#!/lifecycle/100010010020002/private/19647305","https://qrcare.net/#!/lifecycle/100010010020001/private/87957579","https://qrcare.net/#!/lifecycle/100010010020003/private/36250781"];try{let a=parseInt(e);a<t.length&&(e=t[a]);const u=await E.post("/QRPackages/validateQRUrl",{qrUrl:e});return console.log("validate",u),u.data}catch(a){return}},async getInfo(e,t={}){if(e>0){const a=await E.get("Organizations/"+e);return a.data&&a.data.id?a.data:{}}},async updateSupplier(e,t){let a={name:t.name,fullname:t.fullname,address:t.address,logoUrl:t.logoUrl,website:t.website,taxCode:t.taxCode,hotline:t.hotline,modified:new Date,content:t.content};return await E.patch("Organizations/"+e,a)},async activeSupplier(e){if(e>0){const t=await E.patch("Organizations/"+e,{status:"ACTIVE",modified:new Date});return t.data&&t.data.id?t.data:{}}},async inActiveSupplier(e){if(e>0){const t=await E.patch("Organizations/"+e,{status:"INACTIVE",modified:new Date});return t.data&&t.data.id?t.data:{}}},async changePackageToOrg(e,t){return(await E.post("/QRPackages/changeOrganization",{packageId:e,orgId:t})).data},async getSupplierEmployee(e,t){if(e&&t)return(await E.get(`/Organizations/${t}/users/${e}`)).data},async getUsers(e,t={}){if(e>0)return(await E.get("/Organizations/"+e+"/users",{params:{filter:se.getFilter(t)}})).data},async getUser(e){if(orgId>0)return(await E.get("/Organizations/"+orgId+"/users",{params:{filter:se.getFilter(filter)}})).data},async getPackage(e){if(e>0)return(await E.get("/QRPackages/"+e)).data},async getPackages(e,t={}){if(e>0)return(await E.get("/Organizations/"+e+"/generatedPackages",{params:{filter:se.getFilter(t)}})).data},async updatePackage(e,t){if(e>0)return(await E.patch("/QRPackages/"+e,t)).data},async getPackageQRIDs(e,t={}){if(e>0)return await E.get(`/QRPackages/${e}/qridList`,t)},async getProductForSearch(e){let t="",a={fields:{id:!0,title:!0,imageUrls:!0,description:!0,experyDays:!0},limit:10};return e&&e.length>2&&(t="%"+e+"%",a={fields:{id:!0,title:!0,imageUrls:!0,description:!0},where:{title:{ilike:t}},limit:10}),await this.getSellProducts(a)},async getStaffForSearch(e,t){let a="",u={fields:{id:!0,fullName:!0},where:{}};return t&&(a="%"+t+"%",u.where.fullName={ilike:a}),await this.getUsers(e,u)},async getLifeCycle(e,t=null){return(await E.get("/QRIDs/"+e,{params:{filter:{include:["history"]}}})).data},async getQRID_CustomerInfo(e){return(await E.get("/QRIDs/"+e,{params:{filter:{fields:{id:!0,cardType:!0,status:!0,ownerName:!0,ownerPhoneNumber:!0,ownerAddress:!0}}}})).data},async updateDevice(e){return e.status=e.status?e.status:"QRID_STATUS.CREATED",e.modified=new Date().toISOString(),e.id>0?await E.patch("/QRIDs/"+e.id,e):!1},async updateOwner(e){return e.id>0?await E.patch("/QRIDs/"+e.id,e):!1},async activeUsing(e){return e.status="QRID_STATUS.ACTIVE",e.activatedDate=new Date().toISOString(),e.id>0?await E.patch("/QRIDs/"+e.id,e):null},async addActivateTask(e){return e.type="ACTIVITY.QRDELIVERY",await this.createQRActivity(e)},async addTask(e){return e.type="ACTIVITY.QRTASK",await this.createQRActivity(e)},async createQRActivity(e){return e.status="CREATED",e.created=new Date().toISOString(),e.supplierOrganizationId=Q.state.org.id||0,e.supplierStaffId=Q.state.user.id||0,e.createdBy=Q.state.user.id,await E.post("/QRActivities",e)},async updateQRActivity(e){return await E.patch("/QRActivities/"+e.id,e)},async createQRDelivery(e){},async removeUserDeviceToken(e){let a=(await E.get("/UserDeviceTokens/",{params:{filter:{where:{userId:e}}}})).data;a&&a.length&&a.forEach(u=>{E.delete("/UserDeviceTokens/"+u.id)})},async getFireBaseToken(e){try{const t=localStorage.getItem("fcm-token");console.log("home()",t),this.postUserDeviceToken(token,e),await FCM.subscribeToTopic("latest_news")}catch(t){console.log(t)}},async sendPushNoti(e,t,a){await E.get("/UserDeviceTokens/sendPushNotificationToUserId",{params:{userid:e,title:t,body:a}})}};xe.use(Re);const G=$e(Qd);G.config.globalProperties.$axios=E;G.config.globalProperties.$store=Q;G.config.globalProperties.$utils=se;G.config.globalProperties.$authen=te;G.config.globalProperties.$supplier=Bd;G.config.globalProperties.$messaging=ie;Pe(G);G.mount("#app");
