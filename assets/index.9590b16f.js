import{a as J,g as ne,c as be,u as M,f as Q,r as l,o as p,b as y,w as n,d as i,e as O,v as L,h as o,t as d,i as c,j as C,F as P,k as z,l as E,m as ye,n as ee,p as ke,q as Ie,s as re,x as ce,y as se,z as de,A as we,B as Ce,C as Te,D as Ee,E as Ue,G as Ae,H as xe,I as ue,J as pe,K as De,L as Re,M as Pe,N as Se}from"./vendor.408b1eb5.js";const $e=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}};$e();const Y={BASE_URL:"https://api.qrcare.net/api/",IS_M_QRCARE:!0,IS_ORG_QRCARE:!0,DEV_ENV(){return!1},DEMO_CARD(){return!1}};let te={async loadUserAndOrganization(e,t){let a={headers:{Authorization:t},params:{filter:{include:{relation:"organization",scope:{fields:["name","address","hotline","fullname","logoUrl","status","email","website"]}}}}},u=await J.get(Y.BASE_URL+"ApplicationUsers/"+e,a);return u&&u.data?(localStorage.setItem("user",JSON.stringify(u.data)),u.data):{}},async loginByUrl(e){let t=await J.get(e);return t&&t.data?(localStorage.setItem("user",JSON.stringify(t.data)),t.data):{}},async loginById(e,t){return e>0&&t?(localStorage.setItem("userId",e),localStorage.setItem("access_token",t),await this.loadUserAndOrganization(e,t)):{}},async loginByAccount(e){try{let a=(await J.post(Y.BASE_URL+"ApplicationUsers/login",e)).data;if(a.id&&a.userId)return localStorage.setItem("userId",a.userId),localStorage.setItem("access_token",a.id),await this.loadUserAndOrganization(a.userId,a.id)}catch(t){return console.log("loginByAccount()",t),{}}},async logout(){localStorage.removeItem("access_token"),localStorage.removeItem("userId"),localStorage.removeItem("user")},register(e){return J.post(Y.BASE_URL+"ApplicationUsers",{username:e.username,email:e.email,password:e.password})},async postUserDeviceToken(e,t){const a=ne();console.log("getDevice()",a);let u={where:{userId:t,deviceToken:e}},s=await J.get(Y.BASE_URL+"/UserDeviceTokens/count",{params:u});if(s&&s.data&&s.data.count){console.log("NOT RUN postUserDeviceToken()");return}let r={platform:"Mobile Web"},m=new Date,b={deviceToken:e,userId:t,created:m,deviceInfo:r};try{let h=await J.post(Y.BASE_URL+"/UserDeviceTokens",b);console.log("postUserDeviceToken()",h)}catch(h){console.log(h)}}};const le=JSON.parse(localStorage.getItem("user")),N=be({state:{isLoading:!0,user:le,isAuthen:!!(le&&le.id>0),isDemoCard:!1},getters:{loading({state:e}){return e.isLoading},isLogged({state:e}){return e.isAuthen},getUser({state:e}){return e.user},getOrganization({state:e}){return e.user&&e.user.organization&&e.user.organization.id?e.user.organization:{}},getOrgId({state:e}){return e.user&&e.user.organizationId?e.user.organizationId:0},isBoss({state:e}){return e.user.roleCode=="BOSS"},isSale({state:e}){return e.user.roleCode=="SALE"},isWorker({state:e}){return e.user.roleCode=="WORKER"}},actions:{setLoading({state:e},t){e.isLoading=t},getUser({state:e,dispatch:t}){t("setLoading",!0);let a=localStorage.getItem("userId"),u=localStorage.getItem("access_token");if(a>0&&u){let s=Y.BASE_URL+`ApplicationUsers/${a}?access_token=${u}`;console.log(a,u,s),fetch(s).then(r=>r.json()).then(r=>{e.user=r,console.log("getUser()",r),t("setLoading",!1)})}},getSupplierUser({state:e,dispatch:t}){t("setLoading",!0);let a=localStorage.getItem("userId"),u=localStorage.getItem("access_token");a>0&&u&&AuthenAPI.loadUserAndOrganization(a,u).then(s=>{e.user=s,e.org=s.organization||{},t("setLoading",!1)}).catch(s=>{console.log("Error_getSupplierUser()",s)})},logout({state:e}){e.user={},localStorage.removeItem("user"),localStorage.removeItem("access_token"),localStorage.removeItem("userId"),e.isAuthen=!1},async login({state:e},t){await te.loginByAccount(t).then(a=>{console.log("store-login()",a),localStorage.setItem("user",JSON.stringify(a)),e.user=a,e.isAuthen=!0})},loginById({state:e},t,a){te.loginById(t,a).then(u=>{console.log("store-loginById()",u),localStorage.setItem("user",JSON.stringify(u)),e.user=u,e.isAuthen=!0})},updateDemoCard({state:e},t){e.isDemoCard=t}}});var D=(e,t)=>{for(const[a,u]of t)e[a]=u;return e};const Oe={props:{packageId:Number},setup(){return{orgId:M("getOrgId")}},emits:["updated"],data(){return{isLoading:!1,item:{},imageUrl:""}},watch:{packageId:"getPackage"},computed:{listImages(){return this.item.imageUrls||[]},pageTitle(){return this.packageId>0?`Chi ti\u1EBFt s\u1EA3n ph\u1EA9m v\u1EDBi Id: ${this.packageId}`:"T\u1EA1o m\u1EDBi s\u1EA3n ph\u1EA9m"}},methods:{getPackage(){let e={title:"Gi\u1EA3i ph\xE1p QRCare",cardType:"CARD_TYPE.EXIST_DEVICE",type:"MANY",count:103,organizationId:111,productId:0,generatedParty:"PARTY.SUPPLIER.SELLER",phase:"NEW_PRODUCT",organizationStaffId:0,pdfUrl:"",status:"GENERATED",metadata:{},created:new Date,modified:new Date};if(this.packageId>0){console.log("getPackage():"+this.packageId);let t=this;this.$supplier.getPackage(this.packageId).then(a=>{this.isLoading=!0,t.isLoading=!1,t.item=a})}else this.item=e},uploadImage(){this.imageUrl&&this.item.imageUrls.push(this.imageUrl)},async processUpdate(){const e=this;this.$supplier.updatePackage(this.packageId,this.item).then(t=>{Q.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{Q.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getPackage()}},Le=c("Close"),qe={class:"card"},Ne={class:"card-content"},Qe=o("i",{class:"f7-icons"},"xmark_circle",-1),Be=c("Cancel"),Ve=o("i",{class:"f7-icons"},"cloud_upload",-1),ze=c("Save");function Me(e,t,a,u,s,r){const m=l("f7-link"),b=l("f7-nav-right"),h=l("f7-navbar"),g=l("f7-preloader"),_=l("f7-list-input"),k=l("f7-button"),f=l("f7-col"),T=l("f7-row"),w=l("f7-list"),U=l("f7-page");return p(),y(U,null,{default:n(()=>[i(h,{title:r.pageTitle},{default:n(()=>[i(b,null,{default:n(()=>[i(m,{"popup-close":""},{default:n(()=>[Le]),_:1})]),_:1})]),_:1},8,["title"]),O(i(g,null,null,512),[[L,s.isLoading]]),O(o("div",qe,[o("div",Ne,[i(w,null,{default:n(()=>[i(_,{type:"text",placeholder:"nh\u1EADp",label:"T\xEAn s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:s.item.title,"onUpdate:value":t[0]||(t[0]=I=>s.item.title=I)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Nh\xE0 s\u1EA3n xu\u1EA5t",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:s.item.cardType,"onUpdate:value":t[1]||(t[1]=I=>s.item.cardType=I)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Lo\u1EA1i package",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:s.item.type,"onUpdate:value":t[2]||(t[2]=I=>s.item.type=I)},null,8,["value"]),i(_,{type:"number",placeholder:"nh\u1EADp",label:"T\u1ED5ng s\u1ED1 Th\u1EBB",outline:"","floating-label":"","clear-button":"",value:s.item.count,"onUpdate:value":t[3]||(t[3]=I=>s.item.count=I)},null,8,["value"]),i(_,{disabled:"",type:"text",placeholder:"nh\u1EADp",label:"Link s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:s.item.pdfUrl,"onUpdate:value":t[4]||(t[4]=I=>s.item.pdfUrl=I)},null,8,["value"]),i(_,{disabled:"",type:"text",placeholder:"",label:"tr\u1EA1ng th\xE1i",outline:"","floating-label":"",required:"",value:s.item.status,"onUpdate:value":t[5]||(t[5]=I=>s.item.status=I)},null,8,["value"]),o("p",null,"organizationId "+d(s.item.organizationId),1),o("p",null,"productId "+d(s.item.productId),1),o("p",null,"Ng\xE0y t\u1EA1o: "+d(e.$utils.formatDate(s.item.created)),1),o("p",null,"Modified: "+d(e.$utils.formatDate(s.item.modified)),1),i(T,null,{default:n(()=>[i(f,{width:"30"},{default:n(()=>[i(k,{round:"",large:"",color:"gray",onClick:t[6]||(t[6]=I=>r.close())},{default:n(()=>[Qe,Be]),_:1})]),_:1}),i(f,{width:"40"},{default:n(()=>[i(k,{fill:"",round:"",large:"",onClick:t[7]||(t[7]=I=>r.processUpdate())},{default:n(()=>[Ve,ze]),_:1})]),_:1})]),_:1})]),_:1})])],512),[[L,!s.isLoading]])]),_:1})}var Ye=D(Oe,[["render",Me]]);const Fe={components:{Package:Ye},props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,packages:[],item:{},itemId:0,iItemLoading:!1,qrid:[],popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getOrganizationPackages"},methods:{selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getOrganizationPackages(){if(this.orgId){let e=Y.BASE_URL+`Organizations/${this.orgId}/generatedPackages`,t=this;this.isLoading=!0,fetch(e).then(a=>a.json()).then(a=>{t.packages=a,console.log("fetch()",a),t.isLoading=!1})}}},mounted(){this.getOrganizationPackages()}},Ke={class:"card"},je={class:"card-header"},He={class:"card-content card-content-padding scrollable"},Ge={class:"list media-list"},We=["onClick"],Je=o("div",{class:"item-media"},[o("i",{class:"icon f7-icons text-color-yellow"},"document_text_fill")],-1),Xe={class:"item-inner"},Ze={class:"item-title-row"},et={class:"item-title"},tt={class:"item-after"},it={class:"item-subtitle"},ot={class:"item-text"},nt=o("br",null,null,-1);function st(e,t,a,u,s,r){const m=l("f7-preloader"),b=l("package"),h=l("f7-popup");return p(),C(P,null,[o("div",Ke,[o("div",je,[c(d(s.packages.length)+" B\u1ED9 A4 c\u1EE7a "+d(a.orgId)+" ",1),O(i(m,null,null,512),[[L,s.isLoading]])]),o("div",He,[o("div",Ge,[o("ul",null,[(p(!0),C(P,null,z(s.packages,g=>(p(),C("li",{key:g.id},[o("a",{onClick:_=>r.selected(g),class:"item-link item-content chevron-center"},[Je,o("div",Xe,[o("div",Ze,[o("div",et,d(g.id),1),o("div",tt,d(g.count),1)]),o("div",it,d(g.cardType)+" : "+d(g.status),1),o("div",ot,[c(d(g.created),1),nt])])],8,We)]))),128))])])])]),i(h,{class:"edit-package",opened:s.popupOpened,"onPopup:closed":t[0]||(t[0]=g=>s.popupOpened=!1)},{default:n(()=>[i(b,{packageId:s.itemId},null,8,["packageId"])]),_:1},8,["opened"])],64)}var lt=D(Fe,[["render",st]]);const at={props:{orgId:Number},emits:["updated"],data(){return{isLoading:!1,popupOpened:!1,item:{},content:""}},watch:{orgId:"getOrganization"},computed:{pageTitle(){return this.orgId>0?`Chi ti\u1EBFt Doanh nghi\u1EC7p c\xF3 Id: ${this.orgId}`:"T\u1EA1o m\u1EDBi Doanh nghi\u1EC7p"}},methods:{getOrganization(){if(this.orgId){console.log("getOrganization():"+this.orgId);let e=this;this.isLoading=!0,this.$supplier.getInfo(this.orgId).then(t=>{e.isLoading=!1,e.item=t,e.content=t.content})}else{let e={name:"",type:"COMPANY",parties:["PARTY.SUPPLIER.SELLER","PARTY.SUPPLIER.SERVICE"],categories:["B\xE1n h\xE0ng \u0111i\u1EC7n m\xE1y, \u0111i\u1EC7n l\u1EA1nh","D\u1ECBch v\u1EE5 v\u1EC7 sinh, b\u1EA3o tr\xEC thi\u1EBFt b\u1ECB c\u0169","D\u1ECBch v\u1EE5 thu mua, thanh l\xFD thi\u1EBFt b\u1ECB c\u0169"],fullname:"",address:"",logoUrl:"",website:"",content:"",imageUrls:[],taxCode:"",hotline:"",email:"",facebook:"",youtube:"",gpsLocation:{lat:0,lng:0},directorId:0,QRCARE_Verified:0,QRCare_Rating:0,parentId:0,rootId:0,status:"CREATED"};this.item=e}},changeInactive(){this.$supplier.changeInactive(this.orgId)},async clickEdit(){const e=this;this.$supplier.updateSupplier(this.orgId,this.item).then(t=>{Q.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{Q.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getOrganization()}},rt={class:"card"},ct={class:"card-content"},dt={key:0,class:"item-content"},ut={class:"item-media"},pt=["src"],_t=o("div",{class:"item-inner"},[o("div",{class:"item-title-row"},[o("div",{class:"item-title"},"logo hi\u1EC3n th\u1ECB")])],-1),ht=o("i",{class:"f7-icons"},"xmark_circle",-1),gt=c("Cancel"),mt=o("i",{class:"f7-icons"},"cloud_upload",-1),ft=c("Save");function vt(e,t,a,u,s,r){const m=l("f7-navbar"),b=l("f7-preloader"),h=l("f7-list-input"),g=l("f7-text-editor"),_=l("f7-list"),k=l("f7-button"),f=l("f7-col"),T=l("f7-row"),w=l("f7-block"),U=l("f7-page");return p(),y(U,null,{default:n(()=>[i(m,{title:r.pageTitle},null,8,["title"]),O(i(b,null,null,512),[[L,s.isLoading]]),o("div",null,[o("div",rt,[o("div",ct,[i(_,null,{default:n(()=>[i(h,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn c\xF4ng ty (ng\u1EAFn g\u1ECDn)","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:s.item.name,"onUpdate:value":t[0]||(t[0]=I=>s.item.name=I)},null,8,["value"]),i(h,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn c\xF4ng ty (\u0111\u1EA7y \u0111\u1EE7)","floating-label":"",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:s.item.fullname,"onUpdate:value":t[1]||(t[1]=I=>s.item.fullname=I)},null,8,["value"]),i(h,{outline:"",label:"\u0110\u1ECBa ch\u1EC9 c\xF4ng ty","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"150","clear-button":"",value:s.item.address,"onUpdate:value":t[2]||(t[2]=I=>s.item.address=I)},null,8,["value"]),i(h,{outline:"",label:"Website gi\u1EDBi thi\u1EC7u","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:s.item.website,"onUpdate:value":t[3]||(t[3]=I=>s.item.website=I)},null,8,["value"]),i(h,{outline:"",label:"Logo c\xF4ng ty","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:s.item.logoUrl,"onUpdate:value":t[4]||(t[4]=I=>s.item.logoUrl=I)},null,8,["value"]),s.item.logoUrl?(p(),C("li",dt,[o("div",ut,[o("img",{src:s.item.logoUrl,width:"120"},null,8,pt)]),_t])):E("",!0),i(h,{outline:"",label:"Email li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp","clear-button":"",value:s.item.email,"onUpdate:value":t[5]||(t[5]=I=>s.item.email=I)},null,8,["value"]),i(h,{outline:"",label:"Hotline h\u1ED7 tr\u1EE3","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:s.item.hotline,"onUpdate:value":t[6]||(t[6]=I=>s.item.hotline=I)},null,8,["value"]),i(h,{type:"text",outline:"","floating-label":"",label:"M\xE3 s\u1ED1 thu\u1EBF",placeholder:"nh\u1EADp",maxlength:"30","clear-button":"",value:s.item.taxCode,"onUpdate:value":t[7]||(t[7]=I=>s.item.taxCode=I)},null,8,["value"]),i(g,{placeholder:"Enter text...",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:s.item.content,"onTexteditor:change":t[8]||(t[8]=I=>s.item.content=I)},null,8,["value"])]),_:1}),i(w,null,{default:n(()=>[i(T,null,{default:n(()=>[i(f,{width:"30"},{default:n(()=>[i(k,{round:"",large:"",color:"gray",onClick:t[9]||(t[9]=I=>r.close())},{default:n(()=>[ht,gt]),_:1})]),_:1}),i(f,{width:"40"},{default:n(()=>[i(k,{fill:"",round:"",large:"",onClick:t[10]||(t[10]=I=>r.clickEdit())},{default:n(()=>[mt,ft]),_:1})]),_:1})]),_:1})]),_:1})])])])]),_:1})}var _e=D(at,[["render",vt]]);const bt={components:{Organization:_e},emits:["selected"],setup(){return{orgId:M("getOrgId")}},data(){return{isLoading:!1,list:[],itemId:0,item:{},popupOpened:!1,filters:{status:"ALL",limit:50,skip:0},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getOrganization"},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getOrganization(){if(this.orgId==111){let e=Y.BASE_URL+"Organizations",t={limit:40,where:{id:{gt:1e3}}},a=this;this.isLoading=!0,ye.json(e,{filter:t}).then(u=>{a.list=u.data,a.isLoading=!1})}}},mounted(){this.getOrganization()}},yt={class:"card"},kt={class:"card-header"},It=c(" Danh s\xE1ch c\xF4ng ty "),wt=c("ADD"),Ct={class:"card-content card-content-padding scrollable"},Tt={class:"list media-list"},Et=["onClick"],Ut={class:"item-media"},At=["src"],xt={class:"item-inner"},Dt={class:"item-title-row"},Rt={class:"item-title"},Pt={class:"item-after"},St={class:"item-subtitle"},$t={class:"item-text"},Ot=o("br",null,null,-1);function Lt(e,t,a,u,s,r){const m=l("f7-preloader"),b=l("f7-button"),h=l("organization"),g=l("f7-popup");return p(),C(P,null,[o("div",yt,[o("div",kt,[It,O(i(m,null,null,512),[[L,s.isLoading]]),i(b,{onClick:t[0]||(t[0]=_=>r.create())},{default:n(()=>[wt]),_:1})]),o("div",Ct,[o("div",Tt,[o("ul",null,[(p(!0),C(P,null,z(s.list,_=>(p(),C("li",{key:_.id},[o("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[o("div",Ut,[o("img",{src:_.logoUrl,width:"40"},null,8,At)]),o("div",xt,[o("div",Dt,[o("div",Rt,d(_.name),1),o("div",Pt,d(e.$utils.formatDate(_.created)),1)]),o("div",St,d(_.status)+" "+d(_.id),1),o("div",$t,[c(d(_.address),1),Ot])])],8,Et)]))),128))])])])]),i(g,{class:"organization-popup",opened:s.popupOpened,"onPopup:closed":t[1]||(t[1]=_=>s.popupOpened=!1)},{default:n(()=>[i(h,{orgId:s.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"])],64)}var qt=D(bt,[["render",Lt]]);const Nt={components:{Organization:_e},props:{orgId:Number},data(){return{isLoading:!1,item:{},itemId:0,popupOpened:!1}},watch:{orgId:"getOrganization"},methods:{edit(){this.itemId=this.orgId,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},getOrganization(){if(this.orgId){console.log("summary, getOrg()");let e=this;this.isLoading=!0,this.$supplier.getInfo(this.orgId).then(t=>{e.isLoading=!1,e.item=t})}}},mounted(){this.getOrganization()}},Qt={class:"card"},Bt={class:"card-header"},Vt=c("Edit"),zt={class:"card-content card-content-padding scrollable"},Mt={class:"list media-list"},Yt={class:"item-link item-content chevron-center"},Ft={class:"item-media"},Kt=["src"],jt={class:"item-inner"},Ht={class:"item-title-row"},Gt={class:"item-title"},Wt={class:"item-after"},Jt={class:"item-subtitle"},Xt={class:"item-text"},Zt=o("br",null,null,-1);function ei(e,t,a,u,s,r){const m=l("f7-preloader"),b=l("f7-button"),h=l("organization"),g=l("f7-popup");return p(),C(P,null,[o("div",Qt,[o("div",Bt,[c(" Th\xF4ng tin c\xF4ng ty "+d(a.orgId),1),O(i(m,null,null,512),[[L,s.isLoading]]),i(b,{onClick:t[0]||(t[0]=_=>r.edit())},{default:n(()=>[Vt]),_:1})]),o("div",zt,[o("div",Mt,[o("ul",null,[o("li",Yt,[o("div",Ft,[o("img",{src:s.item.logoUrl,width:"40"},null,8,Kt)]),o("div",jt,[o("div",Ht,[o("div",Gt,d(s.item.name),1),o("div",Wt,d(e.$utils.formatDate(s.item.created)),1)]),o("div",Jt,d(s.item.status)+" "+d(s.item.id),1),o("div",Xt,[c(d(s.item.address),1),Zt])])])])])])]),i(g,{class:"update-supplier",opened:s.popupOpened,"onPopup:closed":t[1]||(t[1]=_=>s.popupOpened=!1)},{default:n(()=>[i(h,{orgId:s.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"])],64)}var ti=D(Nt,[["render",ei]]);const ii={props:{supplierId:Number,userId:Number},setup(){return{orgId:M("getOrgId")}},emits:["updated"],data(){return{isLoading:!1,item:{},imageUrl:""}},watch:{userId:"getSupplierEmployee"},computed:{listImages(){return this.item.imageUrls||[]},pageTitle(){return this.userId>0?`Chi ti\u1EBFt nh\xE2n vi\xEAn v\u1EDBi Id: ${this.userId}`:"T\u1EA1o m\u1EDBi nh\xE2n vi\xEAn"}},methods:{getSupplierEmployee(){console.log("getSupplierEmployee():"+this.userId,this.supplierId);let e={fullName:"",roleId:2,roleCode:"WORKER",organizationId:888,teamId:0,personId:0,status:"GENERATED",created:new Date,createdBy:1,modified:new Date,username:""};if(this.userId>0&&this.supplierId>0){let t=this;this.$supplier.getSupplierEmployee(this.userId,this.supplierId).then(a=>{this.isLoading=!0,t.isLoading=!1,t.item=a})}else this.item=e},async processUpdate(){},close(){this.$emit("updated","CLOSE")}},mounted(){this.getSupplierEmployee()}},oi=c("Close"),ni={class:"card"},si={class:"card-content"},li=o("i",{class:"f7-icons"},"xmark_circle",-1),ai=c("Cancel"),ri=o("i",{class:"f7-icons"},"cloud_upload",-1),ci=c("Save");function di(e,t,a,u,s,r){const m=l("f7-link"),b=l("f7-nav-right"),h=l("f7-navbar"),g=l("f7-preloader"),_=l("f7-list-input"),k=l("f7-list"),f=l("f7-button"),T=l("f7-col"),w=l("f7-row"),U=l("f7-block"),I=l("f7-page");return p(),y(I,null,{default:n(()=>[i(h,{title:r.pageTitle},{default:n(()=>[i(b,null,{default:n(()=>[i(m,{"popup-close":""},{default:n(()=>[oi]),_:1})]),_:1})]),_:1},8,["title"]),O(i(g,null,null,512),[[L,s.isLoading]]),O(o("div",ni,[o("div",si,[i(k,null,{default:n(()=>[i(_,{disabled:"",type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn \u0111\u0103ng nh\u1EADp","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:s.item.username,"onUpdate:value":t[0]||(t[0]=R=>s.item.username=R)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"H\u1ECD t\xEAn \u0111\u1EA7y \u0111\u1EE7","floating-label":"",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:s.item.fullName,"onUpdate:value":t[1]||(t[1]=R=>s.item.fullName=R)},null,8,["value"]),i(_,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i","floating-label":"",type:"number",resizable:"","clear-button":"",value:s.item.phoneNumber,"onUpdate:value":t[2]||(t[2]=R=>s.item.phoneNumber=R)},null,8,["value"]),i(_,{outline:"",label:"\u0110\u1ECBa ch\u1EC9 nh\xE0","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"150","clear-button":"",value:s.item.address,"onUpdate:value":t[3]||(t[3]=R=>s.item.address=R)},null,8,["value"]),i(_,{outline:"",label:"Email li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp","clear-button":"",value:s.item.email,"onUpdate:value":t[4]||(t[4]=R=>s.item.email=R)},null,8,["value"]),o("p",null,"Vai tro "+d(s.item.roleCode),1)]),_:1}),i(U,null,{default:n(()=>[i(w,null,{default:n(()=>[i(T,{width:"30"},{default:n(()=>[i(f,{round:"",large:"",color:"gray",onClick:t[5]||(t[5]=R=>r.close())},{default:n(()=>[li,ai]),_:1})]),_:1}),i(T,{width:"40"},{default:n(()=>[i(f,{fill:"",round:"",large:"",onClick:t[6]||(t[6]=R=>e.clickEdit())},{default:n(()=>[ri,ci]),_:1})]),_:1})]),_:1})]),_:1})])],512),[[L,!s.isLoading]])]),_:1})}var ui=D(ii,[["render",di]]);const pi={components:{Employee:ui},props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},itemId:0,supplierId:0,popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getAppUsers"},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){this.$emit("selected",e),console.log("selected()",e),e.id>0&&(this.itemId=e.id,this.supplierId=this.orgId,this.popupOpened=!0)},async getAppUsers(){this.orgId>0&&(this.isLoading=!0,console.log(this.orgId),this.list=await this.$supplier.getUsers(this.orgId),this.isLoading=!1)}},mounted(){this.getAppUsers()}},_i={class:"card"},hi={class:"card-header"},gi=c(" Danh s\xE1ch Nh\xE2n vi\xEAn "),mi={class:"card-content card-content-padding scrollable"},fi={class:"list media-list"},vi=["onClick"],bi={class:"item-media"},yi=["src"],ki={class:"item-inner"},Ii={class:"item-title-row"},wi={class:"item-title"},Ci={class:"item-after"},Ti={class:"item-subtitle"},Ei={class:"item-text"},Ui=o("br",null,null,-1);function Ai(e,t,a,u,s,r){const m=l("f7-preloader"),b=l("employee"),h=l("f7-popup");return p(),C(P,null,[o("div",_i,[o("div",hi,[gi,O(i(m,null,null,512),[[L,s.isLoading]])]),o("div",mi,[o("div",fi,[o("ul",null,[(p(!0),C(P,null,z(s.list,g=>(p(),C("li",{key:g.id},[o("a",{onClick:_=>r.selected(g),class:"item-link item-content chevron-center"},[o("div",bi,[o("img",{src:g.logoUrl,width:"40"},null,8,yi)]),o("div",ki,[o("div",Ii,[o("div",wi,d(g.fullName),1),o("div",Ci,d(e.$utils.formatDate(g.created)),1)]),o("div",Ti,d(g.roleCode),1),o("div",Ei,[c(d(g.status)+" "+d(g.email),1),Ui])])],8,vi)]))),128))])])])]),i(h,{class:"edit-employee",opened:s.popupOpened,"onPopup:closed":t[0]||(t[0]=g=>s.popupOpened=!1)},{default:n(()=>[i(b,{userId:s.itemId,supplierId:s.supplierId},null,8,["userId","supplierId"])]),_:1},8,["opened"])],64)}var xi=D(pi,[["render",Ai]]);const Di={props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getTasks()}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},async getTasks(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getQRTask(this.orgId).then(t=>{console.log("\bgetTasks()",e.list),e.list=t,e.isLoading=!1})}}},mounted(){this.getTasks()}},Ri={class:"card"},Pi={class:"card-header"},Si={class:"card-content card-content-padding scrollable"},$i={class:"list media-list"},Oi=["onClick"],Li={class:"item-media"},qi=["src"],Ni={class:"item-inner"},Qi={class:"item-header"},Bi={class:"item-title-row"},Vi=o("div",{class:"item-after"},null,-1),zi={class:"item-subtitle"},Mi={class:"item-text"},Yi={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},Fi=c("Close");function Ki(e,t,a,u,s,r){const m=l("f7-preloader"),b=l("f7-link"),h=l("f7-nav-right"),g=l("f7-navbar"),_=l("f7-page"),k=l("f7-popup");return p(),C(P,null,[o("div",Ri,[o("div",Pi,[c(" C\xF4ng vi\u1EC7c ho\xE0n th\xE0nh: "+d(a.orgId)+" ",1),O(i(m,null,null,512),[[L,s.isLoading]])]),o("div",Si,[o("div",$i,[o("ul",null,[(p(!0),C(P,null,z(s.list,f=>(p(),C("li",{key:f.id},[o("a",{onClick:T=>r.selected(f),class:"item-link item-content chevron-center"},[o("div",Li,[o("img",{style:{border:"1px solid #ccc"},src:f.imageUrls&&f.imageUrls[0]?f.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,qi)]),o("div",Ni,[o("div",Qi,d(e.$utils.formatDateTime(f.modified)),1),o("div",Bi,[o("div",{class:ee(e.$utils.getActivityColor(f)),style:{"font-size":"16px"}},d(e.$utils.getActivityName(f)),3),Vi]),o("div",zi,d(f.title),1),o("div",Mi,d(f.description),1),o("div",Yi,d(f.money>0?e.$utils.formatMoney(f.money):" "),1)])],8,Oi)]))),128))])])])]),i(k,{class:"demo-popup",opened:s.popupOpened,"onPopup:closed":t[0]||(t[0]=f=>s.popupOpened=!1)},{default:n(()=>[i(_,null,{default:n(()=>[i(g,{title:"Th\xF4ng tin chi ti\u1EBFt: "+s.item.id},{default:n(()=>[i(h,null,{default:n(()=>[i(b,{"popup-close":""},{default:n(()=>[Fi]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1},8,["opened"])],64)}var ji=D(Di,[["render",Ki]]);const Hi={props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getRequests()}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},getRequests(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getRequest(this.orgId).then(t=>{e.list=t,e.isLoading=!1})}}},mounted(){this.getRequests()}},Gi={class:"card"},Wi={class:"card-header"},Ji={class:"card-content card-content-padding scrollable"},Xi={class:"list media-list"},Zi=["onClick"],eo={class:"item-media"},to=["src"],io={class:"item-inner"},oo={class:"item-header"},no={class:"item-title-row"},so=o("div",{class:"item-after"},null,-1),lo={class:"item-subtitle"},ao={class:"item-text"},ro={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},co=c("Close");function uo(e,t,a,u,s,r){const m=l("f7-preloader"),b=l("f7-link"),h=l("f7-nav-right"),g=l("f7-navbar"),_=l("f7-page"),k=l("f7-popup");return p(),C(P,null,[o("div",Gi,[o("div",Wi,[c(" Y\xEAu c\u1EA7u m\u1EDBi nh\u1EADn "+d(a.orgId)+" ",1),O(i(m,null,null,512),[[L,s.isLoading]])]),o("div",Ji,[o("div",Xi,[o("ul",null,[(p(!0),C(P,null,z(s.list,f=>(p(),C("li",{key:f.id},[o("a",{onClick:T=>r.selected(f),class:"item-link item-content chevron-center"},[o("div",eo,[o("img",{style:{border:"1px solid #ccc"},src:f.imageUrls&&f.imageUrls[0]?f.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,to)]),o("div",io,[o("div",oo,d(e.$utils.formatDateTime(f.modified)),1),o("div",no,[o("div",{class:ee(e.$utils.getActivityColor(f)),style:{"font-size":"16px"}},d(e.$utils.getActivityName(f)),3),so]),o("div",lo,d(f.title),1),o("div",ao,d(f.description),1),o("div",ro,d(f.money>0?e.$utils.formatMoney(f.money):" "),1)])],8,Zi)]))),128))])])])]),i(k,{class:"demo-popup",opened:s.popupOpened,"onPopup:closed":t[0]||(t[0]=f=>s.popupOpened=!1)},{default:n(()=>[i(_,null,{default:n(()=>[i(g,{title:"Th\xF4ng tin chi ti\u1EBFt: "+s.item.id},{default:n(()=>[i(h,null,{default:n(()=>[i(b,{"popup-close":""},{default:n(()=>[co]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1},8,["opened"])],64)}var po=D(Hi,[["render",uo]]);const _o={props:{orgId:{type:Number,default:0}},emits:["selected"],data(){return{isLoading:!1,items:[],item:{},iItemLoading:!1,qrid:[],popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},getProducts(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getProducts(this.orgId).then(t=>{e.items=t,e.isLoading=!1})}else this.items=[]}},mounted(){this.getProducts()}},ho={class:"card"},go={class:"card-header"},mo={class:"card-content card-content-padding scrollable"},fo={class:"list media-list"},vo=["onClick"],bo=o("div",{class:"item-media"},[o("i",{class:"icon f7-icons text-color-yellow"},"document_text_fill")],-1),yo={class:"item-inner"},ko={class:"item-title-row"},Io={class:"item-title"},wo={class:"item-subtitle"},Co={class:"item-text"},To=o("br",null,null,-1),Eo=o("br",null,null,-1),Uo={class:"card"},Ao={class:"card-header"};function xo(e,t,a,u,s,r){const m=l("f7-preloader"),b=l("f7-navbar"),h=l("f7-page"),g=l("f7-popup");return p(),C(P,null,[o("div",ho,[o("div",go,[c(" Danh s\xE1ch s\u1EA3n ph\u1EA9m c\u1EE7a "+d(e.ordId)+" ("+d(s.items.length)+")",1),O(i(m,null,null,512),[[L,s.isLoading]])]),o("div",mo,[o("div",fo,[o("ul",null,[(p(!0),C(P,null,z(s.items,_=>(p(),C("li",{key:_.id},[o("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[bo,o("div",yo,[o("div",ko,[o("div",Io,d(_.title),1)]),o("div",wo,d(_.id),1),o("div",Co,[c(d(_.status),1),To,c(" "+d(_.created),1),Eo])])],8,vo)]))),128))])])])]),i(g,{class:"demo-popup",opened:s.popupOpened,"onPopup:closed":t[0]||(t[0]=_=>s.popupOpened=!1)},{default:n(()=>[i(h,null,{default:n(()=>[i(b,{title:"Chi ti\u1EBFt c\u1EE7a "+s.item.id},null,8,["title"]),o("div",Uo,[o("div",Ao," Chi tiet cua id "+d(s.item.title),1)])]),_:1})]),_:1},8,["opened"])],64)}var Do=D(_o,[["render",xo]]);const Ro={props:{productId:Number},setup(){return{orgId:M("getOrgId")}},emits:["updated"],data(){return{isLoading:!1,item:{},imageUrl:""}},watch:{productId:"getProduct"},computed:{listImages(){return this.item.imageUrls||[]},pageTitle(){return this.productId>0?`Chi ti\u1EBFt s\u1EA3n ph\u1EA9m v\u1EDBi Id: ${this.productId}`:"T\u1EA1o m\u1EDBi s\u1EA3n ph\u1EA9m"}},methods:{getProduct(){let e={title:"",manufacturer:"",type:"",category:[],description:"",content:"",sellerId:this.orgId,sellerUrl:"",originProductId:0,originProductUrl:"",validatedOriginProduct:"SELLER",barCode:"",imageUrls:[],warrantyDays:0,status:"ACTIVE",created:new Date,createdBy:0,modified:new Date,modifiedBy:0};if((this.orgId==111||this.orgId==888)&&(e.manufacturerId=this.orgId,e.manufacturer="QRCare"),this.productId>0){console.log("getProduct():"+this.productId);let t=this;this.$supplier.getProduct(this.productId).then(a=>{this.isLoading=!0,t.isLoading=!1,t.item=a})}else this.item=e},changeInactive(){this.$supplier.changeInactive(this.productId)},uploadImage(){this.imageUrl&&this.item.imageUrls.push(this.imageUrl)},async processUpdate(){const e=this;this.$supplier.updateProduct(this.productId,this.item).then(t=>{Q.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{Q.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getProduct()}},Po=c("Close"),So={class:"card"},$o={class:"card-content"},Oo=["src"],Lo=c(" Th\xEAm h\xECnh"),qo=o("i",{class:"f7-icons"},"xmark_circle",-1),No=c("Cancel"),Qo=o("i",{class:"f7-icons"},"cloud_upload",-1),Bo=c("Save");function Vo(e,t,a,u,s,r){const m=l("f7-link"),b=l("f7-nav-right"),h=l("f7-navbar"),g=l("f7-preloader"),_=l("f7-list-input"),k=l("f7-col"),f=l("f7-input"),T=l("f7-button"),w=l("f7-row"),U=l("f7-text-editor"),I=l("f7-list"),R=l("f7-page");return p(),y(R,null,{default:n(()=>[i(h,{title:r.pageTitle},{default:n(()=>[i(b,null,{default:n(()=>[i(m,{"popup-close":""},{default:n(()=>[Po]),_:1})]),_:1})]),_:1},8,["title"]),O(i(g,null,null,512),[[L,s.isLoading]]),O(o("div",So,[o("div",$o,[i(I,null,{default:n(()=>[i(_,{type:"text",placeholder:"nh\u1EADp",label:"T\xEAn s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:s.item.title,"onUpdate:value":t[0]||(t[0]=A=>s.item.title=A)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Nh\xE0 s\u1EA3n xu\u1EA5t",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:s.item.manufacturer,"onUpdate:value":t[1]||(t[1]=A=>s.item.manufacturer=A)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"M\xE3 s\u1EA3n ph\u1EA9m (duy nh\u1EA5t)",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:s.item.barCode,"onUpdate:value":t[2]||(t[2]=A=>s.item.barCode=A)},null,8,["value"]),i(w,null,{default:n(()=>[(p(!0),C(P,null,z(s.item.imageUrls,A=>(p(),y(k,{width:"50",key:A},{default:n(()=>[o("img",{width:"100",src:A},null,8,Oo)]),_:2},1024))),128)),i(k,{width:"50"},{default:n(()=>[i(f,{type:"text",outline:"","floating-label":"",placeholder:"nh\u1EADp",label:"Link h\xECnh \u1EA3nh",value:s.imageUrl,"onUpdate:value":t[3]||(t[3]=A=>s.imageUrl=A)},null,8,["value"]),i(T,{onClick:t[4]||(t[4]=A=>r.uploadImage())},{default:n(()=>[Lo]),_:1})]),_:1})]),_:1}),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Link s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:s.item.sellerUrl,"onUpdate:value":t[5]||(t[5]=A=>s.item.sellerUrl=A)},null,8,["value"]),i(U,{placeholder:"Enter text...",label:"Gi\u1EDBi thi\u1EC7u s\u1EA3n ph\u1EA9m",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:s.item.description,"onUpdate:value":t[6]||(t[6]=A=>s.item.description=A)},null,8,["value"]),i(U,{placeholder:"Enter text...",label:"Gi\u1EDBi thi\u1EC7u s\u1EA3n ph\u1EA9m",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:s.item.content,"onUpdate:value":t[7]||(t[7]=A=>s.item.content=A)},null,8,["value"]),i(_,{type:"number",placeholder:"nh\u1EADp",label:"Th\u1EDDi gian b\u1EA3o h\xE0nh (s\u1ED1 ng\xE0y)",outline:"","floating-label":"","clear-button":"",value:s.item.warrantyDays,"onUpdate:value":t[8]||(t[8]=A=>s.item.warrantyDays=A)},null,8,["value"]),i(_,{disabled:"",type:"text",placeholder:"",label:"tr\u1EA1ng th\xE1i",outline:"","floating-label":"",required:"",value:s.item.status,"onUpdate:value":t[9]||(t[9]=A=>s.item.status=A)},null,8,["value"]),o("p",null,"SellerID "+d(s.item.sellerId),1),o("p",null,"ManufacturID "+d(s.item.manufacturerId),1),o("p",null,"Ng\xE0y t\u1EA1o: "+d(e.$utils.formatDate(s.item.created)),1),o("p",null,"Modified: "+d(e.$utils.formatDate(s.item.modified)),1),i(w,null,{default:n(()=>[i(k,{width:"30"},{default:n(()=>[i(T,{round:"",large:"",color:"gray",onClick:t[10]||(t[10]=A=>r.close())},{default:n(()=>[qo,No]),_:1})]),_:1}),i(k,{width:"40"},{default:n(()=>[i(T,{fill:"",round:"",large:"",onClick:t[11]||(t[11]=A=>r.processUpdate())},{default:n(()=>[Qo,Bo]),_:1})]),_:1})]),_:1})]),_:1})])],512),[[L,!s.isLoading]])]),_:1})}var he=D(Ro,[["render",Vo]]);const zo={props:{orgId:Number},emits:["selected"],components:{Product:he},data(){return{isLoading:!1,list:[],itemId:0,popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getProducts()}},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){console.log("selected product",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getProducts(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getSellProducts(this.orgId).then(t=>{e.list=t,e.isLoading=!1})}}},mounted(){this.getProducts()}},Mo={class:"card"},Yo={class:"card-header"},Fo=c("ADD"),Ko={class:"card-content card-content-padding scrollable"},jo={class:"list media-list"},Ho=["onClick"],Go={class:"item-media"},Wo=["src"],Jo={class:"item-inner"},Xo={class:"item-header"},Zo={class:"item-title-row"},en={style:{"font-size":"16px"}},tn=o("div",{class:"item-after"},null,-1),on={class:"item-subtitle"},nn={class:"item-text"},sn={class:"item-footer",style:{"font-size":"14px","font-weight":"600"}};function ln(e,t,a,u,s,r){const m=l("f7-preloader"),b=l("f7-button"),h=l("product"),g=l("f7-popup");return p(),C(P,null,[o("div",Mo,[o("div",Yo,[c(" S\u1EA3n ph\u1EA9m \u0111ang b\xE1n "+d(a.orgId)+" ",1),O(i(m,null,null,512),[[L,s.isLoading]]),i(b,{onClick:t[0]||(t[0]=_=>r.create())},{default:n(()=>[Fo]),_:1})]),o("div",Ko,[o("div",jo,[o("ul",null,[(p(!0),C(P,null,z(s.list,_=>(p(),C("li",{key:_.id},[o("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[o("div",Go,[o("img",{style:{border:"1px solid #ccc"},src:_.imageUrls&&_.imageUrls[0]?_.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,Wo)]),o("div",Jo,[o("div",Xo,d(_.type),1),o("div",Zo,[o("div",en,d(_.title),1),tn]),o("div",on,d(_.status),1),o("div",nn,d(_.description),1),o("div",sn,d(e.$utils.formatDate(_.modified)),1)])],8,Ho)]))),128))])])])]),i(g,{class:"product-popup",opened:s.popupOpened,"onPopup:closed":t[1]||(t[1]=_=>s.popupOpened=!1)},{default:n(()=>[i(h,{productId:s.itemId,onUpdated:r.updated},null,8,["productId","onUpdated"])]),_:1},8,["opened"])],64)}var an=D(zo,[["render",ln]]);const rn={setup(){return{item:{id:0,packageId:0,warehouseId:0,private:0,password:"string",cardType:"CARD_TYPE.EXIST_DEVICE",phase:"PRODUCT_STATUS.NEW",displayStatus:"string",title:"Nh\u1EADp t\xEAn c\u1EE7a thi\u1EBFt b\u1ECB",description:"M\xF4 t\u1EA3 ng\u1EAFn g\u1ECDn thi\u1EBFt b\u1ECB",imageUrls:[],productId:0,activatedDate:"$now",warrantyDays:0,nextReminder:"2021-11-08T21:33:23.631Z",endDate:"$now",deviceMetadata:{},locationId:0,location:"string",ownerName:"a B\u1EA3o",ownerAddress:"11 \u0111\u1EB7ng th\u1EBF Phong",ownerPhoneNumber:"string",ownerId:0,ownerOrganizationId:0,ownerMetadata:{},userName:"string",userAddress:"string",userId:0,userOrganizationId:0,userMetadata:{},sellerName:"string",sellerAddress:"string",sellerId:0,distributorId:0,supportId:0,isValidated:!0,sellerMetadata:{},status:"QRID_STATUS.GENERATED",metadata:{},created:"$now",createdBy:0,modified:"$now",modifiedBy:0}}}},cn=c("Th\xF4ng tin kh\xE1ch h\xE0ng"),dn={class:"block"},un={class:"block-header"},pn={class:"block-content"},_n=c("Th\xF4ng tin Ng\u01B0\u1EDDi b\xE1n"),hn={class:"card"},gn={class:"card-header"},mn={class:"card-content card-content-padding scrollable"};function fn(e,t,a,u,s,r){const m=l("f7-block-title"),b=l("f7-list-item"),h=l("f7-list");return p(),C(P,null,[i(m,null,{default:n(()=>[cn]),_:1}),o("div",dn,[o("div",un,d(u.item.ownerName),1),o("div",pn,[i(h,null,{default:n(()=>[i(b,null,{default:n(()=>[c(d(u.item.ownerAddress),1)]),_:1})]),_:1})])]),i(m,null,{default:n(()=>[_n]),_:1}),o("div",hn,[o("div",gn,d(u.item.ownerName),1),o("div",mn,[i(h,null,{default:n(()=>[i(b,null,{default:n(()=>[c(d(u.item.ownerAddress),1)]),_:1})]),_:1})])])],64)}var ge=D(rn,[["render",fn]]);const vn={props:["title"],template:`
        <h3>{{ title }}</h3>
      `},bn={inject:["messaging"],setup(){const e=ke("messaging");console.log("Firebase object Setup",e)},components:{ComponentA:vn,Packages:lt,Organizations:qt,Supplier:ti,OrgUsers:xi,TasksCard:ji,"lastest-request":po,ListProduct:Do,Products:an,DetailProduct:he,MemberHome:ge},props:{f7route:Object,f7router:Object},data(){let e=M("isLogged"),t=M("getUser");console.log("setup() home",e.value,t.value);let a=M("getOrgId");return console.log("orgId",a),{openedLogin:!e.value,user:t,isLogged:e,username:"",password:"",orgId:a,currentOrgId:a.value,productId:153,packageId:0,qrId:0,activityId:0,userId:0,locationId:0}},computed:{getUserName(){return this.user&&this.user.fullName?this.user.fullName:""}},methods:{clickLogin(){let e={username:this.username,password:this.password};Q.preloader.show();const t=this;N.dispatch("login",e).then(a=>{Q.preloader.hide(),t.openedLogin=!1,console.log("f7.loginScreen.close()"),Q.loginScreen.close()})},selectPackage(e){console.log(e)},selectOrganization(e){e.id>0&&(this.orgId=e.id)},selectProduct(e){e.id>0&&(this.productId=e.id)},logout(){N.dispatch("logout"),this.openedLogin=!0}},mounted(){}},yn={class:"page"},kn={class:"navbar"},In=o("div",{class:"navbar-bg"},null,-1),wn={class:"navbar-inner"},Cn={class:"title"},Tn={class:"right"},En={class:"link popover-open","data-popover":".profile-popover"},Un={class:"margin-right-half"},An=c("Ch\xE0o,"),xn={class:"popover profile-popover"},Dn={class:"popover-inner"},Rn={class:"text-align-center"},Pn=o("div",{class:"list no-hairlines no-hairlines-between"},[o("ul",null,[o("li",null,[o("a",{href:"#",class:"item-link item-content"},[o("div",{class:"item-media"},[o("i",{class:"icon f7-icons"},"person_circle_fill")]),o("div",{class:"item-inner"},[o("div",{class:"item-title"},"Th\xF4ng tin c\xE1 nh\xE2n")])])])])],-1),Sn={class:"list no-hairlines no-hairlines-between margin-bottom"},$n=o("div",{class:"item-media"},[o("i",{class:"icon f7-icons"},"exit_fill")],-1),On=o("div",{class:"item-inner"},[o("div",{class:"item-title"},"\u0110\u0103ng xu\u1EA5t")],-1),Ln=[$n,On],qn={class:"page-content"},Nn={class:"dashboard-cards"},Qn={class:"row margin-horizontal margin-bottom"},Bn={class:"col-100 medium-50 margin-top"},Vn={class:"col-100 medium-50 margin-top"},zn={class:"row margin-horizontal margin-bottom"},Mn={class:"col-100 medium-50 margin-top"},Yn={class:"col-100 medium-50 margin-top"},Fn={class:"row margin-horizontal margin-bottom"},Kn={class:"col-100 medium-50 margin-top"},jn={class:"row margin-horizontal margin-bottom"},Hn={class:"col-100 medium-50 margin-top"},Gn={class:"col-100 medium-50 margin-top"},Wn=o("div",{class:"row margin-horizontal margin-bottom"},null,-1),Jn=c("H\u1EC7 th\u1ED1ng qu\u1EA3n tr\u1ECB QRCare"),Xn=c("\u0110\u0103ng nh\u1EADp"),Zn=o("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),es=o("p",null,"Email: sales@qrcare.net ",-1),ts=o("p",null,"Phone: +84 906 826 807",-1);function is(e,t,a,u,s,r){const m=l("organizations"),b=l("supplier"),h=l("products"),g=l("packages"),_=l("org-users"),k=l("lastest-request"),f=l("tasks-card"),T=l("f7-login-screen-title"),w=l("f7-list-input"),U=l("f7-list"),I=l("f7-button"),R=l("f7-block-footer"),A=l("f7-block"),q=l("f7-page"),X=l("f7-login-screen");return p(),y(q,{name:"home"},{default:n(()=>[o("div",yn,[o("div",kn,[In,o("div",wn,[o("div",Cn,d(a.f7router.app.name+" v"+a.f7router.app.version),1),o("div",Tn,[o("a",En,[o("span",Un,[An,o("b",null,d(r.getUserName),1)])])])])]),o("div",xn,[o("div",Dn,[o("h3",Rn,d(r.getUserName),1),Pn,o("div",Sn,[o("ul",null,[o("li",null,[o("a",{onClick:t[0]||(t[0]=K=>r.logout()),class:"item-link item-content"},Ln)])])])])]),o("div",qn,[o("div",Nn,[o("div",Qn,[o("div",Bn,[i(m,{onSelected:r.selectOrganization},null,8,["onSelected"])]),o("div",Vn,[i(b,{orgId:s.currentOrgId},null,8,["orgId"])])]),o("div",zn,[o("div",Mn,[i(h,{orgId:s.orgId},null,8,["orgId"])]),o("div",Yn,[i(g,{orgId:s.orgId,onSelected:r.selectPackage},null,8,["orgId","onSelected"])])]),o("div",Fn,[o("div",Kn,[i(_,{orgId:s.orgId},null,8,["orgId"])])]),o("div",jn,[o("div",Hn,[i(k,{orgId:s.orgId},null,8,["orgId"])]),o("div",Gn,[i(f,{orgId:s.orgId},null,8,["orgId"])])]),Wn])])]),i(X,{opened:s.openedLogin,"onUpdate:opened":t[3]||(t[3]=K=>s.openedLogin=K)},{default:n(()=>[i(q,null,{default:n(()=>[i(T,null,{default:n(()=>[Jn]),_:1}),i(A,null,{default:n(()=>[i(U,null,{default:n(()=>[i(w,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:s.username,"onUpdate:value":t[1]||(t[1]=K=>s.username=K)},null,8,["value"]),i(w,{outline:"",label:"m\u1EADt kh\u1EA9u","floating-label":"",type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:s.password,"onUpdate:value":t[2]||(t[2]=K=>s.password=K)},null,8,["value"])]),_:1}),i(I,{fill:"",large:"",round:"",onClick:r.clickLogin},{default:n(()=>[Xn]),_:1},8,["onClick"]),i(U,null,{default:n(()=>[i(R,null,{default:n(()=>[Zn,es,ts]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var os=D(bn,[["render",is]]);const ns={props:["countImages","maxImages"],emits:["uploaded","toggleCamera"],data(){return{isCameraOpen:!1,isPhotoTaken:!1,isShotPhoto:!1,isLoading:!1,imageUrls:[],video:"",photoTaken:"",photoTakenCtx:"",width:0,height:0,log:"",dataUrl:""}},methods:{doLoad(){this.video=document.getElementById("camera-video"),this.photoTaken=document.getElementById("photoTaken"),this.photoTakenCtx=this.photoTaken.getContext("2d");let e=this;this.video.addEventListener("play",function(){e.width=e.video.videoWidth,e.height=e.video.videoHeight},!1)},computeFrame(){const e=this.video.videoWidth,t=this.video.videoHeight,a=t/4*3,u=(e-a)/2,s=0;this.photoTaken.width=a,this.photoTaken.height=t,this.log="Video:Crop:("+this.photoTaken.width+","+this.photoTaken.height+"("+e+","+t+")",this.photoTakenCtx.drawImage(this.video,u,s,a,t,0,0,a,t)},toggleCamera(){this.isCameraOpen?(this.isCameraOpen=!1,this.$emit("toggleCamera",this.isCameraOpen),this.isPhotoTaken=!1,this.isShotPhoto=!1,this.stopCameraStream()):(this.isCameraOpen=!0,this.$emit("toggleCamera",this.isCameraOpen),this.createCameraElement())},createCameraElement(){console.log("createCameraElement()",this.isCameraOpen);try{this.isLoading=!0,Q.preloader.show();var e={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(e).then(t=>{this.isLoading=!1,Q.preloader.hide(),this.$refs.camera.srcObject=t,this.doLoad()}).catch(t=>{this.isLoading=!1,Q.preloader.hide(),alert("May the browser didn't support or there is some errors.")})}catch(t){console.log("createCameraElement()",t)}},stopCameraStream(){console.log("stopCameraStream()",this.isCameraOpen),this.$refs.camera.srcObject.getTracks().forEach(t=>{t.stop()})},async takePhoto(){if(console.log("takePhoto",this.countImages,this.maxImages),this.countImages>=this.maxImages){Q.dialog.alert("B\u1EA1n \u0111\xE3 ch\u1EE5p t\u1EDBi gi\u1EDBi h\u1EA1n l\xE0 "+this.countImages+" t\u1EA5m!");return}this.isPhotoTaken||(this.isShotPhoto=!0,setTimeout(()=>{this.isShotPhoto=!1},50)),this.computeFrame(),this.isPhotoTaken=!this.isPhotoTaken,this.dataUrl=this.photoTaken.toDataURL(),await this.uploadImage()},async uploadImage(){const e=this.photoTaken.toDataURL("image/jpeg",.9);var t=this.dataURItoBlob(e);const a=new FormData;a.append("canvasImage",t);try{let u="https://media.vinaas.com/upload/qrcare-vn";const{data:s}=await this.$axios.post(u,a,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}});if(s&&s.id){const r="https://apps.vinaas.com/file/"+s.id;this.imageUrls.push(r),this.$emit("uploaded",r)}}catch(u){console.log("err",u)}finally{}this.isPhotoTaken=!this.isPhotoTaken},dataURItoBlob(e){var t;e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],u=new Uint8Array(t.length),s=0;s<t.length;s++)u[s]=t.charCodeAt(s);return new Blob([u],{type:a})}}},ss={class:"web-camera-container"},ls=["width","height"],as=["src","width","height"],rs={id:"photoTaken"},cs=c(" Ch\u1EE5p h\xECnh"),ds=c("Close");function us(e,t,a,u,s,r){const m=l("f7-icon"),b=l("f7-button"),h=l("f7-col"),g=l("f7-row"),_=l("f7-block");return p(),y(_,null,{default:n(()=>[o("div",ss,[s.isCameraOpen?O((p(),C("div",{key:0,class:ee(["camera-box",{flash:s.isShotPhoto}])},[o("div",{class:ee(["camera-shutter",{flash:s.isShotPhoto}])},null,2),O(o("video",{id:"camera-video",ref:"camera",width:s.width/2,height:s.height/2,autoplay:"",muted:"",playsinline:""},null,8,ls),[[L,!s.isPhotoTaken]]),O(o("img",{src:s.dataUrl,id:"showPhotoTaken",width:s.height/8*3,height:s.height/2},null,8,as),[[L,s.isPhotoTaken]]),O(o("canvas",rs,null,512),[[L,!1]])],2)),[[L,!s.isLoading]]):E("",!0)]),s.isCameraOpen?(p(),y(g,{key:1},{default:n(()=>[i(h,{width:"30"},{default:n(()=>[s.isCameraOpen?(p(),y(b,{key:0,raised:"",round:"",large:"",color:"gray",onClick:r.toggleCamera},{default:n(()=>[ds]),_:1},8,["onClick"])):E("",!0)]),_:1}),i(h,{width:"10"}),i(h,{width:"60"},{default:n(()=>[s.isCameraOpen?(p(),y(b,{key:0,raised:"",outline:"",round:"",large:"",onClick:r.takePhoto},{default:n(()=>[i(m,{f7:"camera"})]),_:1},8,["onClick"])):E("",!0)]),_:1})]),_:1})):(p(),y(g,{key:0},{default:n(()=>[i(h,{width:"100"},{default:n(()=>[i(b,{raised:"",outline:"",round:"",large:"",onClick:r.toggleCamera},{default:n(()=>[i(m,{f7:"camera"}),cs]),_:1},8,["onClick"])]),_:1})]),_:1}))]),_:1})}var me=D(ns,[["render",us],["__scopeId","data-v-01ed4286"]]);const ps={props:["modelValue","label"],emits:["update:modelValue"],template:`
  <li class="item-content item-input item-input-outline">
    <div class="item-media">
      <i class="f7-icons">house</i>
    </div>
    <div class="item-inner">
      <div class="item-title item-label">{{label}}</div>
      <div class="item-input-wrap">
        <input type="text" name="name" :value="modelValue"
        @input="$emit('update:modelValue', $event.target.value)" />
        <span class="input-clear-button"></span>
      </div>
    </div>
  </li>  
  `},_s={props:["modelValue","label"],emits:["update:modelValue"],template:`
  <li class="item-content item-input item-input-outline">
    <div class="item-media">
      <i class="f7-icons">house</i>
    </div>
    <div class="item-inner">
      <div class="item-title item-label">{{label}}</div>
      <div class="item-input-wrap">
      <textarea class="resizable" :value="modelValue"
      @input="$emit('update:modelValue', $event.target.value)" ></textarea>
      <span class="input-clear-button"></span>
      </div>
    </div>
  </li> 
  `};const hs={components:{"image-upload":me,"title-input":ps,description:_s},props:{f7route:Object,f7router:Object},setup(){const e=M("user");return Ie(()=>{N.dispatch("getUser")}),{loading:M("loading"),user:e,loadUsers:()=>{N.dispatch("getUser")}}},data(){return{title:"tieu de",description:"t\xEDnh n\u0103ng ch\xEDnh c\u1EE7a qrcare l\xE0 \u0111\u01A1n gi\u1EA3n",enablePopup:{imageCapture:!1},urls:[],isCameraOpen:!1}},methods:{showUrl(e){},toggleCamera(e){console.log("toggleCamera()",e),this.isCameraOpen=e},clickLogin(){this.f7router.navigate("/login/")},clickClose(){this.toggleCamera(),this.enablePopup.imageCapture=!1},clickImageCapture(){this.enablePopup.imageCapture=!0}}},S=e=>(re("data-v-1e0a81c8"),e=e(),ce(),e),gs=c(" Load Users "),ms=c("Ki\u1EC3m tra t\xEDnh n\u0103ng input"),fs={class:"list"},vs=S(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),bs=S(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),ys=S(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),ks=c("Swipe To Close"),Is=c("Show Camera Popup"),ws=c("Login"),Cs=c("H\u01B0\u1EDBng d\u1EABn!"),Ts=S(()=>o("p",null,"QRLogin \u0111\u1EC3 \u0111\u0103ng nh\u1EADp c\xF3 h\xECnh ",-1)),Es=S(()=>o("img",{height:"200",src:"https://apps.vinaas.com/file/lVqOaFfB1"},null,-1)),Us=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),As=S(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),xs=S(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Ds=S(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Rs=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Ps=S(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Ss=S(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),$s=S(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Os=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Ls=S(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),qs=S(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Ns=S(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Qs=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Bs=S(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Vs=S(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),zs=S(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Ms=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Ys=S(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Fs=S(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Ks=S(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),js=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Hs=S(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Gs=S(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Ws=S(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Js=["src"];function Xs(e,t,a,u,s,r){const m=l("f7-navbar"),b=l("f7-button"),h=l("f7-block-title"),g=l("title-input"),_=l("description"),k=l("f7-icon"),f=l("f7-list-input"),T=l("f7-list"),w=l("f7-block"),U=l("f7-card-header"),I=l("f7-card-content"),R=l("f7-card"),A=l("f7-page-content"),q=l("f7-sheet"),X=l("image-upload"),K=l("f7-col"),$=l("f7-row"),j=l("f7-page"),W=l("f7-view"),B=l("f7-popup");return p(),y(j,{name:"about"},{default:n(()=>[i(m,{title:"About","back-link":"Back"}),i(w,null,{default:n(()=>[i(b,{fill:"",preloader:"",loading:u.loading,onClick:u.loadUsers},{default:n(()=>[gs]),_:1},8,["loading","onClick"]),i(h,null,{default:n(()=>[ms]),_:1}),o("div",fs,[o("ul",null,[o("li",null,d(s.title),1),i(g,{modelValue:s.title,"onUpdate:modelValue":t[0]||(t[0]=F=>s.title=F),label:"ti\xEAu \u0111\u1EC1"},null,8,["modelValue"]),E("",!0),i(_,{modelValue:s.description,"onUpdate:modelValue":t[2]||(t[2]=F=>s.description=F),label:"Mo ta"},null,8,["modelValue"])])]),i(T,{"no-hairlines-md":""},{default:n(()=>[i(f,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"",validate:"","clear-button":""},{default:n(()=>[i(k,{icon:"demo-list-icon",slot:"media"})]),_:1}),i(f,{outline:"",label:"M\u1EADt kh\u1EA9u","floating-label":"",type:"password",placeholder:"nh\u1EADp m\u1EADt kh\u1EA9u","clear-button":""}),i(f,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":""},{default:n(()=>[i(k,{icon:"demo-list-icon",slot:"media"})]),_:1}),i(f,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","error-message":"b\u1EA1n \u0111\xE3 nh\u1EADp qu\xE1 d\xE0i!","clear-button":""})]),_:1})]),_:1}),i(R,null,{default:n(()=>[i(U,null,{default:n(()=>[c(d(a.f7router.app.version)+" "+d(a.f7router.app.name)+" Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup",1)]),_:1}),i(I,null,{default:n(()=>[vs,bs,ys]),_:1})]),_:1}),i(b,{fill:"","sheet-open":".demo-sheet-swipe-to-close"},{default:n(()=>[ks]),_:1}),i(b,{fill:"",onClick:r.clickImageCapture},{default:n(()=>[Is]),_:1},8,["onClick"]),i(b,{fill:"",onClick:r.clickLogin},{default:n(()=>[ws]),_:1},8,["onClick"]),i(q,{class:"demo-sheet-swipe-to-close",style:{height:"auto","--f7-sheet-bg-color":"#fff"},"swipe-to-close":"",backdrop:""},{default:n(()=>[i(A,null,{default:n(()=>[i(h,{large:""},{default:n(()=>[Cs]),_:1}),i(w,null,{default:n(()=>[Ts,Es]),_:1})]),_:1})]),_:1}),i(B,{id:"image-capture",opened:s.enablePopup.imageCapture,"onUpdate:opened":t[3]||(t[3]=F=>s.enablePopup.imageCapture=F)},{default:n(()=>[i(W,null,{default:n(()=>[i(j,null,{default:n(()=>[i(R,null,{default:n(()=>[i(U,null,{default:n(()=>[Us]),_:1}),i(I,null,{default:n(()=>[As,xs,Ds]),_:1})]),_:1}),i(R,null,{default:n(()=>[i(U,null,{default:n(()=>[Rs]),_:1}),i(I,null,{default:n(()=>[Ps,Ss,$s]),_:1})]),_:1}),i(R,null,{default:n(()=>[i(U,null,{default:n(()=>[Os]),_:1}),i(I,null,{default:n(()=>[Ls,qs,Ns]),_:1})]),_:1}),i(R,null,{default:n(()=>[i(U,null,{default:n(()=>[Qs]),_:1}),i(I,null,{default:n(()=>[Bs,Vs,zs]),_:1})]),_:1}),i(R,null,{default:n(()=>[i(U,null,{default:n(()=>[Ms]),_:1}),i(I,null,{default:n(()=>[Ys,Fs,Ks]),_:1})]),_:1}),i(R,null,{default:n(()=>[i(U,null,{default:n(()=>[js]),_:1}),i(I,null,{default:n(()=>[Hs,Gs,Ws]),_:1})]),_:1}),i(X,{countImages:"0",maxImages:"4",isCameraOpen:s.isCameraOpen,onToggleCamera:r.toggleCamera,onUploaded:r.showUrl},null,8,["isCameraOpen","onToggleCamera","onUploaded"]),i($,null,{default:n(()=>[(p(!0),C(P,null,z(s.urls,F=>(p(),y(K,{width:"50",key:F},{default:n(()=>[o("img",{width:"100",src:F},null,8,Js)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var Zs=D(hs,[["render",Xs],["__scopeId","data-v-1e0a81c8"]]);const el={},tl=c("Form Example"),il=o("option",null,"Male",-1),ol=o("option",null,"Female",-1),nl=c("Buttons"),sl=c("Button"),ll=c("Fill"),al=c("Raised"),rl=c("Raised Fill"),cl=c("Round"),dl=c("Round Fill"),ul=c("Outline"),pl=c("Outline Round"),_l=c("Small"),hl=c("Small Round"),gl=c("Small"),ml=c("Small Round"),fl=c("Large"),vl=c("Large Fill"),bl=c("Large Red"),yl=c("Large Green"),kl=c("Checkbox group"),Il=c("Radio buttons group");function wl(e,t){const a=l("f7-navbar"),u=l("f7-block-title"),s=l("f7-list-input"),r=l("f7-toggle"),m=l("f7-list-item"),b=l("f7-range"),h=l("f7-list"),g=l("f7-button"),_=l("f7-row"),k=l("f7-block"),f=l("f7-page");return p(),y(f,{name:"form"},{default:n(()=>[i(a,{title:"Form","back-link":"Back"}),i(u,null,{default:n(()=>[tl]),_:1}),i(h,{"no-hairlines-md":""},{default:n(()=>[i(s,{label:"Name",type:"text",placeholder:"Your name"}),i(s,{label:"E-mail",type:"email",placeholder:"E-mail"}),i(s,{label:"URL",type:"url",placeholder:"URL"}),i(s,{label:"Password",type:"password",placeholder:"Password"}),i(s,{label:"Phone",type:"tel",placeholder:"Phone"}),i(s,{label:"Gender",type:"select"},{default:n(()=>[il,ol]),_:1}),i(s,{label:"Birth date",type:"date",placeholder:"Birth day",defaultValue:"2014-04-30"}),i(m,{title:"Toggle"},{after:n(()=>[i(r)]),_:1}),i(s,{label:"Range",input:!1},{input:n(()=>[i(b,{value:50,min:0,max:100,step:1})]),_:1}),i(s,{type:"textarea",label:"Textarea",placeholder:"Bio"}),i(s,{type:"textarea",label:"Resizable",placeholder:"Bio",resizable:""})]),_:1}),i(u,null,{default:n(()=>[nl]),_:1}),i(k,{strong:""},{default:n(()=>[i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col"},{default:n(()=>[sl]),_:1}),i(g,{class:"col",fill:""},{default:n(()=>[ll]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",raised:""},{default:n(()=>[al]),_:1}),i(g,{class:"col",raised:"",fill:""},{default:n(()=>[rl]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",round:""},{default:n(()=>[cl]),_:1}),i(g,{class:"col",round:"",fill:""},{default:n(()=>[dl]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",outline:""},{default:n(()=>[ul]),_:1}),i(g,{class:"col",round:"",outline:""},{default:n(()=>[pl]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",small:"",outline:""},{default:n(()=>[_l]),_:1}),i(g,{class:"col",small:"",round:"",outline:""},{default:n(()=>[hl]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",small:"",fill:""},{default:n(()=>[gl]),_:1}),i(g,{class:"col",small:"",round:"",fill:""},{default:n(()=>[ml]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",large:"",raised:""},{default:n(()=>[fl]),_:1}),i(g,{class:"col",large:"",fill:"",raised:""},{default:n(()=>[vl]),_:1})]),_:1}),i(_,{tag:"p"},{default:n(()=>[i(g,{class:"col",large:"",fill:"",raised:"",color:"red"},{default:n(()=>[bl]),_:1}),i(g,{class:"col",large:"",fill:"",raised:"",color:"green"},{default:n(()=>[yl]),_:1})]),_:1})]),_:1}),i(u,null,{default:n(()=>[kl]),_:1}),i(h,null,{default:n(()=>[i(m,{checkbox:"",name:"my-checkbox",value:"Books",title:"Books"}),i(m,{checkbox:"",name:"my-checkbox",value:"Movies",title:"Movies"}),i(m,{checkbox:"",name:"my-checkbox",value:"Food",title:"Food"})]),_:1}),i(u,null,{default:n(()=>[Il]),_:1}),i(h,null,{default:n(()=>[i(m,{radio:"",name:"radio",value:"Books",title:"Books"}),i(m,{radio:"",name:"radio",value:"Movies",title:"Movies"}),i(m,{radio:"",name:"radio",value:"Food",title:"Food"})]),_:1})]),_:1})}var Cl=D(el,[["render",wl]]);const Tl={},El=o("p",null,"Sorry",-1),Ul=o("p",null,"Requested content not found.",-1);function Al(e,t,a,u,s,r){const m=l("f7-navbar"),b=l("f7-block"),h=l("f7-page");return p(),y(h,null,{default:n(()=>[i(m,{title:"Not found","back-link":"Back"}),i(b,{strong:""},{default:n(()=>[El,Ul]),_:1})]),_:1})}var xl=D(Tl,[["render",Al]]);const Dl={components:{ImageUpload:me},props:{f7route:Object,f7router:Object},setup(){const e=M("isLogged"),t=N.state.user;return{isLogged:e,userInfo:t}},data(){return{activityImages:0,maxActivityImages:2,deviceImages:0,maxDeviceImages:4,isCameraOpen:!1,isCameraOpen2:!1,enablePopup:{editDevice:!1,editUser:!1,activeUsing:!1,sendRequest:!1,addNote:!1,submitTask:!1,confirmTask:!1,activity:!1},listSupplier:[],qrid:{},history:[],supporter:{},supplier:{},activity:{},view_activity:{},ACT_POPUP:{nar_bar_title:"G\u1EEDi y\xEAu c\u1EA7u"},isSellProduct:!0}},computed:{isEdit(){return this.isLogged},isActive(){return this.qrid.status?this.qrid.status=="QRID_STATUS.ACTIVE":!0},hasData(){return this.qrid.title&&this.qrid.ownerName},listHistory(){return this.history}},methods:{formatDate(e){return this.$utils.formatDate(e)},formatDateTime(e){return this.$utils.formatDateTime(e)},formatMoney(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(e)},clickLogin(){this.f7router.navigate("/login/")},clickLogout(){N.dispatch("logout")},clickEditDevice(){if(this.deviceImages=0,this.qrid.imageUrls.length>0){const e=this.maxDeviceImages-this.qrid.imageUrls.length;console.log("diff",e),e>0?this.deviceImages=this.qrid.imageUrls.length:this.deviceImages=this.maxDeviceImages}console.log("clickEditDevice()",this.deviceImages,this.qrid.imageUrls,this.qrid.imageUrls.length),this.enablePopup.editDevice=!0},getActivityName(e){let t="";return e.type==="ACTIVITY.QR_REQUEST"&&(t+="Y\xEAu c\u1EA7u",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRTASK"&&(t+="C\xF4ng vi\u1EC7c",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),e.type==="ACTIVITY.QRNOTE"&&(t+="Ghi ch\xFA",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRDelivery"&&(t+="B\xE0n giao",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t+="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t+="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),t},getActivityColor(e){if(e.type==="ACTIVITY.QR_REQUEST")return"item-title text-color-orange";if(e.type==="ACTIVITY.QRTASK"){if(e.status==="CONFIRMED")return"item-title text-color-green";if(e.status==="CREATED")return"item-title text-color-blue"}return e.type==="ACTIVITY.QRNOTE"?"item-title text-color-blue":"item-title text-color-black"},toggleCamera(e){console.log("toggleCamera()",e),this.isCameraOpen=e},toggleCamera2(e){console.log("toggleCamera2()",e),this.isCameraOpen2=e},async addImageDevices(e){this.qrid.imageUrls||(this.qrid.imageUrls=[]),this.qrid.imageUrls.push(e),this.deviceImages++},async addImageActivity(e){this.activity.imageUrls||(this.activity.imageUrls=[]),this.activity.imageUrls.push(e),this.activityImages++},cancelEditDevice(){this.stopCameraImageUpload(),this.enablePopup.editDevice=!1},stopCameraImageUpload(){this.isCameraOpen&&this.$refs.deviceImages.toggleCamera(),this.isCameraOpen2&&this.$refs.activityImages.toggleCamera()},async processEditDevice(){this.isActive||(this.qrid.status="QRID_STATUS.EDITED",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id,this.isSellProduct?(this.qrid.sellerId=this.supporter.id,this.qrid.sellerName=this.supporter.name,this.qrid.sellerAddress=this.supporter.address):this.qrid.sellerId==this.supporter.id&&(this.qrid.sellerId=0,this.qrid.sellerName="",this.qrid.sellerAddress=""),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("editDevice()",this.qrid)),this.stopCameraImageUpload(),this.enablePopup.editDevice=!1},async editUser(){this.isActive||(this.qrid.status="QRID_STATUS.EDITED",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("editUser()",this.qrid),this.enablePopup.editUser=!1},clickActive(){this.enablePopup.activeUsing=!0},async activeUsing(){this.isActive||(this.qrid.status="QRID_STATUS.ACTIVE",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id,this.qrid.activatedDate=new Date),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("activeUsing()",this.qrid),this.enablePopup.activeUsing=!1},clickSendRequest(e){e.type="ACTIVITY.QR_REQUEST",this.activity=e,this.ACT_POPUP={nar_bar_title:"Y\xEAu c\u1EA7u m\u1EDBi nh\u1EADn",content:"N\u1ED9i dung y\xEAu c\u1EA7u",sender:"Kh\xE1ch h\xE0ng g\u1EEDi",receiver:"B\xEAn ti\u1EBFp nh\u1EADn",action:"G\u1EEDi y\xEAu c\u1EA7u",action_footer:"Sau khi nh\u1EADn y\xEAu c\u1EA7u, ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},clickAddNote(e){e.type="ACTIVITY.QRNOTE",e.supplierOrganizationId=0,this.activity=e,this.ACT_POPUP={nar_bar_title:"N\u1ED9i dung ghi ch\xFA",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi ghi ch\xFA",receiver:"",action:"L\u01B0u Ghi ch\xFA",action_footer:"Ghi ch\xFA n\xE0y ch\u1EC9 \u0111\u01B0\u1EE3c th\u1EA5y khi qu\xE9t Th\u1EBB"},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},async clickViewActivity(e){if(this.view_activity=e,this.view_activity.supplierOrganizationId||(this.view_activity.supplierOrganizationId=111),this.view_activity.supplierOrganizationId==this.supporter.id)this.supplier=this.supporter;else{var t=await this.$axios.get("/Organizations/"+this.view_activity.supplierOrganizationId);t&&t.data&&(this.supplier=t.data)}this.view_activity.type=="ACTIVITY.QRTASK"&&(this.view_activity.status=="CREATED"&&(this.ACT_POPUP={nar_bar_title:"Ch\u1EDD x\xE1c nh\u1EADn",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"Sau khi x\xE1c nh\u1EADn, c\xF4ng vi\u1EC7c \u0111\xE3 k\u1EBFt th\xFAc."}),this.view_activity.status=="CONFIRMED"&&(this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c \u0111\u01B0\u1EE3c x\xE1c nh\u1EADn",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"C\xF4ng vi\u1EC7c \u0111\xE3 k\u1EBFt th\xFAc, c\u1EA3m \u01A1n qu\xFD kh\xE1ch \u0111\xE3 l\u1EF1a ch\u1ECDn!"}),this.view_activity.status=="REJECTED"&&(this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c b\u1ECB t\u1EEB ch\u1ED1i",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"T\u1EEB ch\u1ED1i",action_footer:""})),this.view_activity.type=="ACTIVITY.QR_REQUEST"&&(this.ACT_POPUP={nar_bar_title:"Y\xEAu c\u1EA7u \u0111\xE3 g\u1EEDi",content:"N\u1ED9i dung y\xEAu c\u1EA7u",sender:"Kh\xE1ch h\xE0ng g\u1EEDi",receiver:"B\xEAn ti\u1EBFp nh\u1EADn",action_footer:"Ch\xFAng t\xF4i \u0111\xE3 ti\u1EBFp nh\u1EADn, s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."}),this.view_activity.type=="ACTIVITY.QRNOTE"&&(this.ACT_POPUP={nar_bar_title:"Ghi ch\xFA \u0111\xE3 l\u01B0u",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi ghi ch\xFA",receiver:"",action_footer:"Ch\xFAng t\xF4i \u0111\xE3 ti\u1EBFp nh\u1EADn, s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."}),console.log("clickViewActivity()",this.view_activity),this.enablePopup.view_activity=!0},async confirmQRTask(){let e={id:this.view_activity.id,userComment:this.view_activity.userComment,status:"CONFIRMED",modified:new Date};await this.patchActivity(e)},async rejectQRTask(){let e={id:this.view_activity.id,userComment:this.view_activity.userComment,status:"REJECTED",modified:new Date};await this.patchActivity(e)},clickNewActivity(e){const t=this.supporter;let a={qrid:this.qrid.id,title:"",description:"",imageUrls:[],customerName:this.qrid.ownerName,customerPhoneNumber:this.qrid.ownerPhoneNumber,customerAddress:this.qrid.ownerAddress,supplierOrganizationId:t.id,status:"CREATED",created:new Date};this.supplier=t,console.log("clickNewActivity()",a,this.supplier),e=="SEND_REQUEST"&&this.clickSendRequest(a),e=="ADD_NOTE"&&this.clickAddNote(a),e=="SUBMIT_TASK"&&this.clickSubmitTask(a)},clickSubmitTask(e){e.type="ACTIVITY.QRTASK",e.supplierStaffId=this.userInfo.id,this.activity=e,this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c \u0111\xE3 th\u1EF1c hi\u1EC7n",content:"Chi ti\u1EBFt c\xF4ng vi\u1EC7c",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"",action:"G\u1EEDi k\u1EBFt qu\u1EA3",action_footer:"Sau khi nh\u1EADn y\xEAu c\u1EA7u, ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},async closeNewActivity(){this.stopCameraImageUpload(),this.enablePopup.activity=!1},async postActivity(){let e=await this.$axios.post("/QRActivities",this.activity);console.log("rs",e),this.history.unshift(e.data),this.stopCameraImageUpload(),this.enablePopup.activity=!1},async patchActivity(e){let t=await this.$axios.patch("/QRActivities/"+e.id,e);if(console.log("rs",t.data),t.data){for(var a in this.history)if(this.history[a].id==t.data.id){this.history[a]=t.data;break}}this.enablePopup.view_activity=!1},changeDesc(e,t){for(var a in projects)if(projects[a].value==e){projects[a].desc=t;break}},async getDeviceData(){try{var e=this.f7route.params.id,t=this.f7route.params.privateCode;this.$axios.defaults.baseURL=Y.BASE_URL;var a=await this.$axios.get("QRIDs/getLifecycle",{params:{qrid:e,privateCode:t}}),u=a.data;console.log(u),u&&u.id&&(this.qrid=u,this.supporter=this.qrid.supporter,this.history=this.qrid.history)}catch(s){console.log("error",s)}}},async created(){await Promise.all([this.getDeviceData()])}},Rl=c("\u0110\u0103ng nh\u1EADp"),Pl=c("\u0110\u0103ng xu\u1EA5t"),Sl=c("\u0110\u01A1n v\u1ECB ph\xE1t h\xE0nh Th\u1EBB"),$l={key:0},Ol=c("\u0110\xE3 \u0111\u0103ng nh\u1EADp b\u1EDFi"),Ll=c("V\xF2ng \u0111\u1EDDi thi\u1EBFt b\u1ECB"),ql={key:0},Nl=c(" Th\xF4ng tin thi\u1EBFt b\u1ECB "),Ql=c("Edit"),Bl={class:"list media-list no-hairlines-between"},Vl={class:"item-content"},zl={class:"item-inner"},Ml={class:"item-title"},Yl={class:"item-content"},Fl={class:"item-inner"},Kl=["innerHTML"],jl=["src"],Hl={key:0},Gl={class:"item-content"},Wl={class:"item-inner"},Jl={class:"item-title"},Xl={class:"item-checkbox item-content"},Zl={class:"item-inner"},ea=o("div",{class:"item-title-row"},[o("div",{class:"item-title"},"S\u1EA3n ph\u1EA9m c\u1EE7a")],-1),ta={class:"item-subtitle"},ia={class:"item-text"},oa=o("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),na=c(" Kh\xE1ch h\xE0ng s\u1EED d\u1EE5ng "),sa=c("Edit"),la={class:"list media-list no-hairlines-between"},aa={class:"item-content"},ra=o("div",{class:"item-media"},[o("i",{class:"f7-icons"},"person_fill")],-1),ca={class:"item-inner"},da={class:"item-title"},ua={key:0},pa={class:"item-content"},_a=o("div",{class:"item-media"},[o("i",{class:"f7-icons"},"device_phone_portrait")],-1),ha={class:"item-inner"},ga={class:"item-subtitle"},ma={class:"item-content"},fa=o("div",{class:"item-media"},[o("i",{class:"f7-icons"},"house")],-1),va={class:"item-inner"},ba={class:"item-subtitle"},ya=o("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),ka=c("L\u1ECBch s\u1EED ho\u1EA1t \u0111\u1ED9ng"),Ia={class:"list media-list medium-inset"},wa=["onClick"],Ca={class:"item-media"},Ta=["src"],Ea={class:"item-inner"},Ua={class:"item-header"},Aa={class:"item-title-row"},xa=o("div",{class:"item-after"},null,-1),Da={class:"item-subtitle"},Ra={class:"item-text"},Pa={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},Sa=c("Th\u1EBB \u0111\u01B0\u1EE3c ph\xE1t h\xE0nh b\u1EDFi "),$a=["src"],Oa=o("i",{class:"f7-icons"},"xmark_circle",-1),La=c("Cancel"),qa=o("i",{class:"f7-icons"},"cloud_upload",-1),Na=c("L\u01B0u"),Qa=c("Ng\u01B0\u1EDDi s\u1EDF h\u1EEFu (mua) thi\u1EBFt b\u1ECB"),Ba=o("i",{class:"f7-icons"},"xmark_circle",-1),Va=c("Cancel"),za=c("C\u1EADp nh\u1EADt"),Ma=c("X\xE1c nh\u1EADn th\xF4ng tin"),Ya=c("sau khi k\xEDch ho\u1EA1t, kh\xF4ng th\u1EC3 thay \u0111\u1ED5i th\xF4ng tin c\u1EE7a Th\u1EBB. B\u1EA1n c\xF3 d\xE1m ch\u1EAFc"),Fa=o("i",{class:"f7-icons"},"xmark_circle",-1),Ka=c("Hu\u1EF7"),ja=o("i",{class:"f7-icons"},"checkmark_circle",-1),Ha=c(" X\xE1c nh\u1EADn"),Ga=["src"],Wa=o("i",{class:"f7-icons"},"xmark_circle",-1),Ja=c("Hu\u1EF7"),Xa=o("i",{class:"f7-icons"},"checkmark_circle",-1),Za=["src"],er=c("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),tr=c("ch\u01B0a c\xF3"),ir=c("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),or=c("T\u1EEB ch\u1ED1i"),nr=o("i",{class:"f7-icons"},"checkmark_circle",-1),sr=c("X\xE1c nh\u1EADn"),lr=o("i",{class:"f7-icons"},"xmark_circle",-1),ar=c(" \u0110\xF3ng");function rr(e,t,a,u,s,r){const m=l("f7-navbar"),b=l("f7-link"),h=l("f7-list"),g=l("f7-block"),_=l("f7-block-title"),k=l("f7-card-header"),f=l("f7-card-content"),T=l("f7-card"),w=l("f7-page"),U=l("f7-view"),I=l("f7-panel"),R=l("f7-nav-right"),A=l("f7-nav-title"),q=l("f7-button"),X=l("f7-swiper-slide"),K=l("f7-swiper"),$=l("f7-list-item"),j=l("f7-icon"),W=l("f7-fab"),B=l("f7-list-input"),F=l("image-upload"),V=l("f7-col"),H=l("f7-row"),Z=l("f7-popup"),ve=l("f7-card-footer"),ae=l("f7-block-footer");return p(),y(w,null,{default:n(()=>[i(I,{left:"",cover:"","theme-dark":""},{default:n(()=>[i(U,null,{default:n(()=>[i(w,null,{default:n(()=>[i(m,{title:a.f7router.app.name+" v"+a.f7router.app.version},null,8,["title"]),i(g,null,{default:n(()=>[i(h,null,{default:n(()=>[r.isEdit?E("",!0):(p(),y(b,{key:0,onClick:t[0]||(t[0]=v=>r.clickLogin()),"data-view":".view-main",class:"item-content item-link panel-close"},{default:n(()=>[Rl]),_:1})),r.isEdit?(p(),y(b,{key:1,onClick:t[1]||(t[1]=v=>r.clickLogout()),"data-view":".view-main",class:"item-content item-link panel-close"},{default:n(()=>[Pl]),_:1})):E("",!0)]),_:1})]),_:1}),i(_,null,{default:n(()=>[Sl]),_:1}),i(T,null,{default:n(()=>[i(k,null,{default:n(()=>[c(d(s.supporter.name),1)]),_:1}),i(f,null,{default:n(()=>[o("p",null,d(s.supporter.address),1),o("p",null,"Ng\xE0y ph\xE1t h\xE0nh "+d(r.formatDate(s.qrid.created)),1),r.isActive?(p(),C("p",$l," Ng\xE0y k\xEDch ho\u1EA1t "+d(r.formatDate(s.qrid.activatedDate)),1)):E("",!0)]),_:1})]),_:1}),u.userInfo.id?(p(),y(T,{key:0},{default:n(()=>[i(k,null,{default:n(()=>[Ol]),_:1}),i(f,null,{default:n(()=>[c(d(u.userInfo.username)+", vai tr\xF2: "+d(u.userInfo.roleCode)+", id: "+d(u.userInfo.id),1)]),_:1})]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1}),i(m,{sliding:!1},{default:n(()=>[i(R,null,{default:n(()=>[i(b,{"icon-ios":"f7:menu","icon-aurora":"f7:menu","icon-md":"material:menu","panel-open":"left"})]),_:1}),i(A,{sliding:""},{default:n(()=>[Ll]),_:1})]),_:1}),i(T,{"bg-color":r.isActive?"blue":"red"},{default:n(()=>[i(k,null,{default:n(()=>[c("ID: "+d(a.f7route.params.id),1),r.isActive?E("",!0):(p(),C("span",ql,"ch\u01B0a k\xEDch ho\u1EA1t"))]),_:1})]),_:1},8,["bg-color"]),i(T,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[Nl,!r.isActive&&r.isEdit?(p(),y(q,{key:0,onClick:r.clickEditDevice},{default:n(()=>[Ql]),_:1},8,["onClick"])):E("",!0)]),_:1}),s.qrid.title?(p(),y(f,{key:0},{default:n(()=>[o("div",Bl,[o("ul",null,[o("li",null,[o("div",Vl,[o("div",zl,[o("div",Ml,d(s.qrid.title),1)])])]),o("li",null,[o("div",Yl,[o("div",Fl,[o("div",{class:"item-text",innerHTML:s.qrid.description},null,8,Kl)])])]),o("li",null,[i(K,{speed:500,slidesPerView:2,spaceBetween:10},{default:n(()=>[(p(!0),C(P,null,z(s.qrid.imageUrls,v=>(p(),y(X,{key:v},{default:n(()=>[o("img",{class:"small",src:v},null,8,jl)]),_:2},1024))),128))]),_:1})]),r.isActive?(p(),C("li",Hl,[o("div",Gl,[o("div",Wl,[o("div",Jl," Ng\xE0y k\xEDch ho\u1EA1t: "+d(r.formatDate(s.qrid.activatedDate)),1)])])])):E("",!0),o("li",null,[o("label",Xl,[o("div",Zl,[ea,o("div",ta,d(s.qrid.sellerName),1),o("div",ia,d(s.qrid.sellerAddress),1)])])])])])]),_:1})):(p(),y(f,{key:1},{default:n(()=>[oa]),_:1}))]),_:1}),i(T,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[na,!r.isActive&&r.isEdit?(p(),y(q,{key:0,"popup-open":"#edit-user"},{default:n(()=>[sa]),_:1})):E("",!0)]),_:1}),s.qrid.ownerName?(p(),y(f,{key:0},{default:n(()=>[o("div",la,[o("ul",null,[o("li",null,[o("div",aa,[ra,o("div",ca,[o("div",da,d(s.qrid.ownerName),1)])])]),s.qrid.ownerPhoneNumber?(p(),C("li",ua,[o("div",pa,[_a,o("div",ha,[o("div",ga,d(s.qrid.ownerPhoneNumber),1)])])])):E("",!0),o("li",null,[o("div",ma,[fa,o("div",va,[o("div",ba,d(s.qrid.ownerAddress),1)])])])])])]),_:1})):(p(),y(f,{key:1},{default:n(()=>[ya]),_:1}))]),_:1}),r.isActive?(p(),y(_,{key:0},{default:n(()=>[ka]),_:1})):E("",!0),o("div",Ia,[o("ul",null,[(p(!0),C(P,null,z(s.history,v=>(p(),C("li",{key:v.id},[o("a",{onClick:jc=>r.clickViewActivity(v),class:"item-link item-content chevron-center"},[o("div",Ca,[o("img",{style:{border:"1px solid #ccc"},src:v.imageUrls&&v.imageUrls[0]?v.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,Ta)]),o("div",Ea,[o("div",Ua,d(r.formatDateTime(v.modified)),1),o("div",Aa,[o("div",{class:ee(r.getActivityColor(v)),style:{"font-size":"16px"}},d(r.getActivityName(v)),3),xa]),o("div",Da,d(v.title),1),o("div",Ra,d(v.description),1),o("div",Pa,d(v.money>0?r.formatMoney(v.money):" "),1)])],8,wa)]))),128))])]),r.isActive?E("",!0):(p(),y(T,{key:1},{default:n(()=>[i(k,null,{default:n(()=>[Sa]),_:1}),i(f,null,{default:n(()=>[i(h,null,{default:n(()=>[i($,null,{default:n(()=>[c(d(s.supporter.name),1)]),_:1})]),_:1})]),_:1})]),_:1})),!r.isActive&&!r.isEdit?(p(),y(W,{key:2,position:"center-bottom",text:"\u0110\u0103ng nh\u1EADp",color:"red",onClick:t[2]||(t[2]=v=>r.clickLogin())},{default:n(()=>[i(j,{ios:"f7:lock_open",aurora:"f7:lock_open",md:"material:lock_open"})]),_:1})):E("",!0),!r.isActive&&r.isEdit&&r.hasData?(p(),y(W,{key:3,position:"center-bottom",text:"K\xEDch ho\u1EA1t",color:"red",onClick:t[3]||(t[3]=v=>r.clickActive())},{default:n(()=>[i(j,{ios:"f7:house",aurora:"f7:house",md:"material:house"})]),_:1})):E("",!0),r.isActive&&r.isEdit?(p(),y(W,{key:4,position:"center-bottom",text:"C\xF4ng vi\u1EC7c",color:"blue",onClick:t[4]||(t[4]=v=>r.clickNewActivity("SUBMIT_TASK"))},{default:n(()=>[i(j,{f7:"bell_fill"})]),_:1})):E("",!0),r.isActive&&!r.isEdit?(p(),y(W,{key:5,position:"left-bottom",text:"Ghi ch\xFA",color:"green",onClick:t[5]||(t[5]=v=>r.clickNewActivity("ADD_NOTE"))},{default:n(()=>[i(j,{f7:"pencil_ellipsis_rectangle"})]),_:1})):E("",!0),r.isActive&&!r.isEdit?(p(),y(W,{key:6,position:"right-bottom",text:"Y\xEAu c\u1EA7u",color:"blue",onClick:t[6]||(t[6]=v=>r.clickNewActivity("SEND_REQUEST"))},{default:n(()=>[i(j,{f7:"paperplane_fill"})]),_:1})):E("",!0),i(Z,{id:"edit-device",opened:s.enablePopup.editDevice,"onUpdate:opened":t[10]||(t[10]=v=>s.enablePopup.editDevice=v)},{default:n(()=>[i(U,null,{default:n(()=>[i(w,null,{default:n(()=>[i(m,{title:"C\u1EADp nh\u1EADt thi\u1EBFt b\u1ECB"}),i(g,null,{default:n(()=>[i(h,null,{default:n(()=>[i(B,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"T\xEAn thi\u1EBFt b\u1ECB","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:s.qrid.title,"onUpdate:value":t[7]||(t[7]=v=>s.qrid.title=v)},null,8,["value"])]),_:1})]),_:1}),i(g,null,{default:n(()=>[i(F,{ref:"deviceImages",countImages:s.deviceImages,maxImages:s.maxDeviceImages,onToggleCamera:r.toggleCamera,onUploaded:r.addImageDevices},null,8,["countImages","maxImages","onToggleCamera","onUploaded"]),i(H,{"no-gap":""},{default:n(()=>[(p(!0),C(P,null,z(s.qrid.imageUrls,v=>(p(),y(V,{width:"50",key:v},{default:n(()=>[o("img",{width:"100",src:v},null,8,$a)]),_:2},1024))),128))]),_:1}),i(h,null,{default:n(()=>[i(B,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:s.qrid.description,"onUpdate:value":t[8]||(t[8]=v=>s.qrid.description=v)},null,8,["value"])]),_:1}),i(h,{"media-list":""},{default:n(()=>[i($,{checkbox:"",checked:"","onUpdate:checked":t[9]||(t[9]=v=>s.isSellProduct=v),title:"S\u1EA3n ph\u1EA9m c\u1EE7a",after:"",subtitle:s.supporter.name,text:s.supporter.address},null,8,["checked","subtitle","text"])]),_:1})]),_:1}),i(H,null,{default:n(()=>[i(V,{width:"40"},{default:n(()=>[i(q,{round:"",large:"",color:"gray",onClick:r.cancelEditDevice},{default:n(()=>[Oa,La]),_:1},8,["onClick"])]),_:1}),i(V,{width:"60"},{default:n(()=>[i(q,{fill:"",round:"",large:"",onClick:r.processEditDevice},{default:n(()=>[qa,Na]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(Z,{id:"edit-user",opened:s.enablePopup.editUser,"onUpdate:opened":t[14]||(t[14]=v=>s.enablePopup.editUser=v)},{default:n(()=>[i(U,null,{default:n(()=>[i(w,null,{default:n(()=>[i(m,{title:"Th\xF4ng tin ng\u01B0\u1EDDi s\u1EED d\u1EE5ng"}),i(g,null,{default:n(()=>[i(_,null,{default:n(()=>[Qa]),_:1}),i(h,{"no-hairlines-md":""},{default:n(()=>[i(B,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:s.qrid.ownerName,"onUpdate:value":t[11]||(t[11]=v=>s.qrid.ownerName=v)},null,8,["value"]),i(B,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:s.qrid.ownerPhoneNumber,"onUpdate:value":t[12]||(t[12]=v=>s.qrid.ownerPhoneNumber=v)},null,8,["value"]),i(B,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:s.qrid.ownerAddress,"onUpdate:value":t[13]||(t[13]=v=>s.qrid.ownerAddress=v)},null,8,["value"])]),_:1})]),_:1}),i(H,null,{default:n(()=>[i(V,{width:"40"},{default:n(()=>[i(q,{round:"",large:"",color:"gray","popup-close":""},{default:n(()=>[Ba,Va]),_:1})]),_:1}),i(V,{width:"60"},{default:n(()=>[i(q,{fill:"",round:"",large:"",onClick:r.editUser},{default:n(()=>[za]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(Z,{id:"active-using",opened:s.enablePopup.activeUsing,"onUpdate:opened":t[15]||(t[15]=v=>s.enablePopup.activeUsing=v)},{default:n(()=>[i(U,null,{default:n(()=>[i(w,null,{default:n(()=>[i(m,{title:"C\u1EA3nh b\xE1o"}),i(T,{strong:""},{default:n(()=>[i(k,null,{default:n(()=>[Ma]),_:1}),i(f,null,{default:n(()=>[Ya]),_:1}),i(ve,null,{default:n(()=>[i(V,null,{default:n(()=>[i(q,{"popup-close":""},{default:n(()=>[Fa,Ka]),_:1})]),_:1}),i(V,null,{default:n(()=>[i(q,{fill:"",onClick:r.activeUsing},{default:n(()=>[ja,Ha]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(Z,{id:"new-activity",opened:s.enablePopup.activity,"onUpdate:opened":t[22]||(t[22]=v=>s.enablePopup.activity=v)},{default:n(()=>[i(U,null,{default:n(()=>[i(w,null,{default:n(()=>[i(m,{title:s.ACT_POPUP.nar_bar_title},null,8,["title"]),i(T,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[c(d(s.ACT_POPUP.content),1)]),_:1}),i(f,null,{default:n(()=>[i(h,null,{default:n(()=>[i(B,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"Ti\xEAu \u0111\u1EC1","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:s.activity.title,"onUpdate:value":t[16]||(t[16]=v=>s.activity.title=v)},null,8,["value"]),i(B,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:s.activity.description,"onUpdate:value":t[17]||(t[17]=v=>s.activity.description=v)},null,8,["value"]),s.activity.type=="ACTIVITY.QRTASK"?(p(),y(B,{key:0,outline:"",type:"number",label:"Ti\u1EC1n \u0111\xE3 thu","floating-label":"",placeholder:"","clear-button":"",value:s.activity.money,"onUpdate:value":t[18]||(t[18]=v=>s.activity.money=v)},null,8,["value"])):E("",!0),s.activity.type=="ACTIVITY.QRTASK"?(p(),y($,{key:1},{default:n(()=>[c("V\xE0o l\xFAc : "+d(r.formatDateTime(s.activity.created)),1)]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1}),i(g,null,{default:n(()=>[i(F,{ref:"activityImages",countImages:s.activityImages,maxImages:s.maxActivityImages,onToggleCamera:r.toggleCamera2,onUploaded:r.addImageActivity},null,8,["countImages","maxImages","onToggleCamera","onUploaded"]),i(H,{"no-gap":""},{default:n(()=>[(p(!0),C(P,null,z(s.activity.imageUrls,v=>(p(),y(V,{width:"50",key:v},{default:n(()=>[o("img",{width:"100",src:v},null,8,Ga)]),_:2},1024))),128))]),_:1})]),_:1}),i(T,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[c(d(s.ACT_POPUP.sender),1)]),_:1}),i(f,null,{default:n(()=>[i(h,{"no-hairlines-md":""},{default:n(()=>[i(B,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:s.activity.customerName,"onUpdate:value":t[19]||(t[19]=v=>s.activity.customerName=v)},null,8,["value"]),s.activity.type=="ACTIVITY.QR_REQUEST"?(p(),y(B,{key:0,outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EC3 li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:s.activity.customerPhoneNumber,"onUpdate:value":t[20]||(t[20]=v=>s.activity.customerPhoneNumber=v)},null,8,["value"])):E("",!0),i(B,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:s.activity.customerAddress,"onUpdate:value":t[21]||(t[21]=v=>s.activity.customerAddress=v)},null,8,["value"])]),_:1})]),_:1})]),_:1}),s.activity.type=="ACTIVITY.QR_REQUEST"?(p(),y(T,{key:0},{default:n(()=>[i(k,{"bg-color":"blue"},{default:n(()=>[c(d(s.ACT_POPUP.receiver),1)]),_:1}),i(f,null,{default:n(()=>[i(k,null,{default:n(()=>[c(d(s.supplier.name),1)]),_:1}),i(f,null,{default:n(()=>[c(d(s.supplier.address),1)]),_:1})]),_:1})]),_:1})):E("",!0),i(g,null,{default:n(()=>[i(H,null,{default:n(()=>[i(V,{width:"30"},{default:n(()=>[i(q,{raised:"",round:"",large:"",color:"gray",onClick:r.closeNewActivity},{default:n(()=>[Wa,Ja]),_:1},8,["onClick"])]),_:1}),i(V,{width:"60"},{default:n(()=>[i(q,{raised:"",round:"",fill:"",large:"",onClick:r.postActivity},{default:n(()=>[Xa,c(d(s.ACT_POPUP.action),1)]),_:1},8,["onClick"])]),_:1})]),_:1}),i(ae,null,{default:n(()=>[c(d(s.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(Z,{id:"view-activity",opened:s.enablePopup.view_activity,"onUpdate:opened":t[26]||(t[26]=v=>s.enablePopup.view_activity=v)},{default:n(()=>[i(U,null,{default:n(()=>[i(w,null,{default:n(()=>[i(m,{title:s.ACT_POPUP.nar_bar_title},null,8,["title"]),i(T,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[c(d(s.ACT_POPUP.content),1)]),_:1}),i(f,null,{default:n(()=>[i(h,{"no-hairlines-md":""},{default:n(()=>[i($,null,{default:n(()=>[c(d(s.view_activity.title),1)]),_:1}),i($,null,{default:n(()=>[c(d(s.view_activity.description),1)]),_:1}),s.view_activity.type=="ACTIVITY.QRTASK"?(p(),y($,{key:0},{default:n(()=>[c("\u0110\xE3 thu: "+d(r.formatMoney(s.view_activity.money)),1)]),_:1})):E("",!0),s.view_activity.type=="ACTIVITY.QRTASK"?(p(),y($,{key:1},{default:n(()=>[c("Th\u1EF1c hi\u1EC7n l\xFAc: "+d(r.formatDateTime(s.view_activity.created)),1)]),_:1})):(p(),y($,{key:2},{default:n(()=>[c("G\u1EEDi l\xFAc: "+d(r.formatDateTime(s.view_activity.created)),1)]),_:1})),i(g,null,{default:n(()=>[i(H,{"no-gap":""},{default:n(()=>[(p(!0),C(P,null,z(s.view_activity.imageUrls,v=>(p(),y(V,{width:"50",key:v},{default:n(()=>[o("img",{width:"100",src:v},null,8,Za)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i(T,null,{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[c(d(s.ACT_POPUP.sender),1)]),_:1}),i(f,null,{default:n(()=>[i(h,{"no-hairlines-md":""},{default:n(()=>[i($,null,{default:n(()=>[c(d(s.view_activity.customerName),1)]),_:1}),i($,null,{default:n(()=>[c(d(s.view_activity.customerPhoneNumber),1)]),_:1}),i($,null,{default:n(()=>[c(d(s.view_activity.customerAddress),1)]),_:1}),s.view_activity.type=="ACTIVITY.QRTASK"&&s.view_activity.status=="CONFIRMED"?(p(),y($,{key:0},{default:n(()=>[c("X\xE1c nh\u1EADn l\xFAc "+d(r.formatDateTime(s.view_activity.modified)),1)]),_:1})):E("",!0),s.view_activity.type=="ACTIVITY.QRTASK"&&s.view_activity.status=="REJECTED"?(p(),y($,{key:1},{default:n(()=>[c("T\u1EEB ch\u1ED1i l\xFAc "+d(r.formatDateTime(s.view_activity.modified)),1)]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1}),s.view_activity.type=="ACTIVITY.QRTASK"&&(s.view_activity.status=="CONFIRMED"||s.view_activity.status=="REJECTED")?(p(),y(T,{key:0},{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[er]),_:1}),i(f,null,{default:n(()=>[s.view_activity.userComment?(p(),y(h,{key:0},{default:n(()=>[i($,null,{default:n(()=>[c(d(s.view_activity.userComment),1)]),_:1})]),_:1})):(p(),y(h,{key:1},{default:n(()=>[i($,null,{default:n(()=>[tr]),_:1})]),_:1}))]),_:1})]),_:1})):E("",!0),s.view_activity.type=="ACTIVITY.QR_REQUEST"||s.view_activity.type=="ACTIVITY.QRTASK"?(p(),y(T,{key:1},{default:n(()=>[i(k,{"bg-color":"blue"},{default:n(()=>[c(d(s.ACT_POPUP.receiver)+" ",1),i(j,{f7:s.supplier.status=="ACTIVE"?"star_circle":"star_slash"},null,8,["f7"])]),_:1}),i(f,null,{default:n(()=>[i(h,null,{default:n(()=>[i($,null,{default:n(()=>[c(d(s.supplier.name),1)]),_:1}),i($,null,{default:n(()=>[c(d(s.supplier.address),1)]),_:1})]),_:1})]),_:1})]),_:1})):E("",!0),s.view_activity.type=="ACTIVITY.QRTASK"&&s.view_activity.status=="CREATED"?(p(),y(T,{key:2},{default:n(()=>[i(k,{"bg-color":"green"},{default:n(()=>[ir]),_:1}),i(f,null,{default:n(()=>[i(h,null,{default:n(()=>[i(B,{type:"textarea",outline:"",label:"Nh\u1EADn x\xE9t","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","error-message":"b\u1EA1n \u0111\xE3 nh\u1EADp qu\xE1 d\xE0i!","clear-button":"",value:s.view_activity.userComment,"onUpdate:value":t[23]||(t[23]=v=>s.view_activity.userComment=v)},null,8,["value"])]),_:1})]),_:1})]),_:1})):E("",!0),i(g,null,{default:n(()=>[s.view_activity.type=="ACTIVITY.QRTASK"&&s.view_activity.status=="CREATED"?(p(),y(H,{key:0},{default:n(()=>[i(V,{width:"40"},{default:n(()=>[i(q,{raised:"",round:"",large:"",color:"gray",onClick:t[24]||(t[24]=v=>r.rejectQRTask())},{default:n(()=>[or]),_:1})]),_:1}),i(V,{width:"60"},{default:n(()=>[i(q,{fill:"",large:"",onClick:t[25]||(t[25]=v=>r.confirmQRTask())},{default:n(()=>[nr,sr]),_:1})]),_:1})]),_:1})):(p(),y(H,{key:1},{default:n(()=>[i(V,{width:"100"},{default:n(()=>[i(q,{fill:"",round:"",large:"","popup-close":""},{default:n(()=>[lr,ar]),_:1})]),_:1})]),_:1})),i(ae,null,{default:n(()=>[c(d(s.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var cr=D(Dl,[["render",rr]]);const dr={props:{f7route:Object,f7router:Object}};function ur(e,t,a,u,s,r){const m=l("f7-navbar"),b=l("f7-block"),h=l("f7-page");return p(),y(h,null,{default:n(()=>[i(m,{title:"V\xF2ng \u0111\u1EDDi thi\u1EBFt b\u1ECB","back-link":"Back"}),i(b,null,{default:n(()=>[o("h2",null,d(a.f7route.params.id),1)]),_:1})]),_:1})}var pr=D(dr,[["render",ur]]);const _r={},hr={color:"green"};function gr(e,t,a,u,s,r){const m=l("f7-navbar"),b=l("f7-block"),h=l("f7-page");return p(),y(h,null,{default:n(()=>[i(m,{title:"Th\xF4ng tin Ch\xEDnh h\xE3ng","back-link":"Back"}),i(b,null,{default:n(()=>[o("h2",hr,d(e.f7route.params.id),1)]),_:1})]),_:1})}var mr=D(_r,[["render",gr]]);const fr={data(){return{user:{fullName:"H\u1ECD t\xEAn c\u1EE7a: B888.1a",roleId:2,roleCode:"BOSS",organizationId:888,teamId:0,personId:0,status:"ACTIVE",metadata:null,created:"2021-04-20T04:22:20.533Z",createdBy:1,modified:null,modifiedBy:null,realm:null,username:"B888.1",email:"B888.1@qrcare.net",emailVerified:!1,id:171},org:{name:"C\xF4ng ty TNHH ph\u1EA7n m\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam",type:"COMPANY",parties:["PARTY.SUPPLIER.SELLER","PARTY.SUPPLIER.SERVICE"],categories:null,fullname:"C\xF4ng ty TNHH ph\u1EA7n m\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam",address:"305 H\u1ED3ng L\u1EA1c, Ph\u01B0\u1EDDng 10, Qu\u1EADn T\xE2n B\xECnh, TP H\u1ED3 Ch\xED Minh",logoUrl:"http://apps.vinaas.com/file/Isu2ck3Pe",website:"http://vinaas.com/",content:"CCCC",imageUrls:null,taxCode:"null",hotline:"0906826807",email:"contact@vinaas.com",facebook:"null",youtube:"null",gpsLocation:{lng:0,lat:0},directorId:0,QRCARE_Verified:0,QRCare_Rating:0,parentId:0,rootId:0,pdfUrl:"https://backend.qrcare.net/api/Containers/pdf/download/888-qraccount-2021-04-20-04-22-42-548Z.pdf",status:"ACTIVE",metadata:{},created:"2021-04-20T04:22:19.920Z",createdBy:null,modified:"2021-04-20T04:22:19.920Z",modifiedBy:null,id:888}}}},vr={class:"page-content no-padding-top",style:{"padding-bottom":"80px"}},br={class:"bg-color-blue"},yr={class:"block no-margin no-padding"},kr={class:"list media-list no-hairlines no-margin"},Ir={style:{background:"transparent"}},wr=["href"],Cr={class:"item-media"},Tr={class:"style-role"},Er={class:"item-inner align-self-center"},Ur=o("div",{class:"item-title-row"},[o("div",{class:"item-title text-color-white text-uppercase fs-14"},"Ch\xE0o m\u1EEBng t\u1EDBi QRCare"),o("div",{class:"item-after"})],-1),Ar={class:"item-subtitle fs-16 text-color-white"},xr={class:"item-text text-color-white"},Dr={class:"item-text fs-14 text-color-white"},Rr={class:"block-info-org"},Pr={class:"block no-margin"},Sr={class:"inner-info-org bg-color-white"},$r={class:"logo"},Or=["src"],Lr={class:"fs-20",style:{"font-weight":"700"}},qr={class:"fs-14",style:{color:"#999"}},Nr={class:"fs-14",style:{color:"#999"}},Qr={key:0,style:{"margin-top":"15px"}},Br=["href"],Vr={key:0,class:"block no-margin-bottom",style:{"margin-top":"15px"}},zr={class:"row"},Mr={class:"col-50"},Yr=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12 display-flex justify-content-space-between",style:{"padding-bottom":"15px"}},[c(" C\xF4ng vi\u1EC7c "),o("span",{class:"badge color-orange fs-10"}," 20")]),o("div",{class:"row"},[o("div",{class:"col-50"}," Tu\u1EA7n "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")]),o("hr",{style:{"border-top":"1px dotted #ccc","border-bottom":"0"}}),o("div",{class:"row"},[o("div",{class:"col-50"}," Th\xE1ng "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")])],-1),Fr={class:"col-50"},Kr=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12 display-flex justify-content-space-between",style:{"padding-bottom":"15px"}},[c(" Y\xEAu c\u1EA7u ph\xE1t sinh "),o("span",{class:"badge color-orange fs-10"},"10")]),o("div",{class:"row"},[o("div",{class:"col-50"}," Tu\u1EA7n "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")]),o("hr",{style:{"border-top":"1px dotted #ccc","border-bottom":"0"}}),o("div",{class:"row"},[o("div",{class:"col-50"}," Th\xE1ng "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")])],-1),jr={class:"col-50"},Hr=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng th\u1EBB ph\xE1t h\xE0nh "),o("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," 0 ")],-1),Gr={class:"col-50"},Wr=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng s\u1ED1 s\u1EA3n ph\u1EA9m "),o("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," 0 ")],-1),Jr={class:"col-100"},Xr=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng s\u1ED1 nh\xE2n vi\xEAn "),o("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," users.length ")],-1);function Zr(e,t,a,u,s,r){const m=l("f7-icon"),b=l("f7-fab"),h=l("f7-link"),g=l("f7-page");return p(),y(g,{"page-content":!1},{default:n(()=>[i(b,{position:"center-bottom",text:" Qu\xE9t",color:"green"},{default:n(()=>[i(m,{f7:"qrcode_viewfinder"})]),_:1}),o("div",vr,[o("div",br,[o("div",yr,[o("div",kr,[o("ul",Ir,[o("li",null,[o("a",{href:"/my-account/"+s.user.id,class:"item-link item-content chevron-center",style:{"padding-top":"20px","padding-bottom":"50px"}},[o("div",Cr,[o("div",Tr,d(s.user.roleCode),1)]),o("div",Er,[Ur,o("div",Ar,d(s.user.fullName),1),o("div",xr,"Username: "+d(s.user.username),1),o("div",Dr,"Email "+d(s.user.email),1)])],8,wr)])])])])]),o("div",Rr,[o("div",Pr,[o("div",Sr,[o("div",$r,[o("img",{src:s.org.logoUrl,width:"100",alt:""},null,8,Or)]),o("div",Lr,d(s.org.fullname),1),o("div",qr," \u0110\u1ECBa ch\u1EC9: "+d(s.org.address),1),o("div",Nr," Hotline: "+d(s.org.hotline),1),s.user.roleCode=="BOSS"?(p(),C("div",Qr,[o("a",{href:"/edit-supplier/"+s.org.id,class:"col button button-fill button-large fs-14"},"C\u1EADp nh\u1EADt th\xF4ng tin",8,Br)])):E("",!0)])])]),s.user.roleCode=="BOSS"?(p(),C("div",Vr,[o("div",zr,[o("div",Mr,[i(h,{href:"/list-work-history",class:"w-100"},{default:n(()=>[Yr]),_:1})]),o("div",Fr,[i(h,{href:"/list-request",class:"w-100"},{default:n(()=>[Kr]),_:1})]),o("div",jr,[i(h,{href:"",class:"w-100"},{default:n(()=>[Hr]),_:1})]),o("div",Gr,[i(h,{class:"w-100"},{default:n(()=>[Wr]),_:1})]),o("div",Jr,[i(h,{href:"/list-staff",class:"w-100"},{default:n(()=>[Xr]),_:1})])])])):E("",!0)])]),_:1})}var ec=D(fr,[["render",Zr]]);const tc=se({name:"QrLogin",emits:["detect","warning"],components:{QrStream:de.exports.QrStream,QrCapture:de.exports.QrCapture},data(){return{qrUrl:"",warning:!1}},methods:{async onDecode(e){console.log("onDecode",e),e.includes("backend.qrcare.net/api/ApplicationUsers/")||e.includes("m.qrcare.vn/u/")?(this.qrUrl=e,this.$emit("detect",e)):e&&this.$emit("warning",e)}}}),ic=e=>(re("data-v-4dd3d254"),e=e(),ce(),e),oc={class:"reader"},nc={class:"center stream"},sc=ic(()=>o("div",{style:{color:"red"},class:"frame"},null,-1)),lc={key:0,"text-color":"red"};function ac(e,t,a,u,s,r){const m=l("qr-stream");return p(),C("div",oc,[o("div",null,[o("div",nc,[i(m,{onDecode:e.onDecode,class:"mb"},{default:n(()=>[sc]),_:1},8,["onDecode"])])]),e.warning?(p(),C("h3",lc,"M\xE3 QRCode kh\xF4ng \u0111\xFAng.")):E("",!0)])}var fe=D(tc,[["render",ac],["__scopeId","data-v-4dd3d254"]]);const rc=se({props:{f7route:Object,f7router:Object},components:{QrScanOne:fe},data(){const e=ne();e.desktop?console.log("It is desktop"):console.log("It is mobile");let t="",a="";return M("isDemoCard")&&(t="888.10",a="QRcare888.10"),{qrUrl:"",device:e,username:t,password:a}},methods:{detectURl(e){console.log(e),this.qrUrl=e,this.clickLogin()},showWarning(e){Q.dialog.alert("qrcode kh\xF4ng h\u1EE3p l\u1EC7!<br>",e)},async clickLogin(){if(this.qrUrl){let e=this.qrUrl;if(this.qrUrl.includes("backend.qrcare.net"))e=this.qrUrl.replace("backend.qrcare.net","api.qrcare.net");else if(this.qrUrl.includes("m.qrcare.vn/u")){let t=this.qrUrl.replace("/u/","/ApplicationUsers/");t=t.replace("/t/","?access_token="),e=t}await this.loginByUrl(e)}else await this.loginByAccount()},async loginByUrl(e){let t=await this.$axios.get(e);t&&t.data&&(console.log(t.data),N.dispatch("login",t.data),this.f7router.back())},async loginByAccount(){var e={username:this.username,password:this.password};let a=(await this.$axios.post(Y.BASE_URL+"ApplicationUsers/login",e)).data;if(a.id&&a.userId){console.log("loginAction",a);let u=Y.BASE_URL+"ApplicationUsers/"+a.userId+"?access_token="+a.id;await this.loginByUrl(u)}}}}),cc=c("Qu\xE9t Th\u1EBB QRLogin \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng \u0111\u0103ng nh\u1EADp "),dc=c("Ho\u1EB7c cung c\u1EA5p th\xF4ng tin"),uc=c("\u0110\u0103ng nh\u1EADp"),pc=o("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),_c=o("p",null,"Email: sales@qrcare.net ",-1),hc=o("p",null,"Phone: +84 906 826 807",-1);function gc(e,t,a,u,s,r){const m=l("qr-scan-one"),b=l("f7-block-footer"),h=l("f7-block"),g=l("f7-block-title"),_=l("f7-list-input"),k=l("f7-list"),f=l("f7-button"),T=l("f7-page");return p(),y(T,{name:"Login Desktop"},{default:n(()=>[e.device.desktop?E("",!0):(p(),y(h,{key:0},{default:n(()=>[i(m,{onDetect:e.detectURl,onWarning:e.showWarning},null,8,["onDetect","onWarning"]),i(b,{style:{"margin-top":"20px"}},{default:n(()=>[cc]),_:1})]),_:1})),i(h,null,{default:n(()=>[i(g,null,{default:n(()=>[dc]),_:1}),i(k,{form:""},{default:n(()=>[i(_,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:e.username,"onUpdate:value":t[0]||(t[0]=w=>e.username=w)},null,8,["value"]),i(_,{type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:e.password,"onUpdate:value":t[1]||(t[1]=w=>e.password=w)},null,8,["value"])]),_:1}),i(f,{fill:"",large:"",round:"",onClick:e.clickLogin},{default:n(()=>[uc]),_:1},8,["onClick"]),i(k,null,{default:n(()=>[i(b,null,{default:n(()=>[pc,_c,hc]),_:1})]),_:1})]),_:1})]),_:1})}var mc=D(rc,[["render",gc]]);const fc=se({props:{f7route:Object,f7router:Object},components:{QrScanOne:fe},data(){const e=ne();e.desktop?console.log("It is desktop"):console.log("It is mobile");let t="",a="";return t="888.10",a="QRcare888.10",{qrUrl:"",device:e,username:t,password:a}},methods:{detectURl(e){console.log(e),this.qrUrl=e,this.clickLogin()},showWarning(e){Q.dialog.alert("qrcode kh\xF4ng h\u1EE3p l\u1EC7!")},async clickLogin(){if(console.log("clickLogin()",this.qrUrl),this.qrUrl){let e=this.qrUrl;this.qrUrl.includes("backend.qrcare.net")&&(e=this.qrUrl.replace("backend.qrcare.net","api.qrcare.net")),await this.loginByUrl(e)}else await this.loginByAccount()},async loginByUrl(e){let t=await this.$axios.get(e);t&&t.data&&(console.log(t.data),N.dispatch("login",t.data),this.f7router.back())},async loginByAccount(){var e={username:this.username,password:this.password};await this.$authen.loginByAccount(e)&&(console.log("to home()"),this.f7router.navigate("/"))}}}),vc=c("Qu\xE9t Th\u1EBB QRLogin \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng \u0111\u0103ng nh\u1EADp "),bc=c("Ho\u1EB7c cung c\u1EA5p th\xF4ng tin"),yc=c("\u0110\u0103ng nh\u1EADp"),kc=o("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),Ic=o("p",null,"Email: sales@qrcare.net ",-1),wc=o("p",null,"Phone: +84 906 826 807",-1);function Cc(e,t,a,u,s,r){const m=l("qr-scan-one"),b=l("f7-block-footer"),h=l("f7-block"),g=l("f7-block-title"),_=l("f7-list-input"),k=l("f7-list"),f=l("f7-button"),T=l("f7-page");return p(),y(T,{name:"Login Desktop"},{default:n(()=>[e.device.desktop?E("",!0):(p(),y(h,{key:0},{default:n(()=>[i(m,{onDetect:e.detectURl,onWarning:e.showWarning},null,8,["onDetect","onWarning"]),i(b,{style:{"margin-top":"20px"}},{default:n(()=>[vc]),_:1})]),_:1})),i(h,null,{default:n(()=>[i(g,null,{default:n(()=>[bc]),_:1}),i(k,null,{default:n(()=>[i(_,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:e.username,"onUpdate:value":t[0]||(t[0]=w=>e.username=w)},null,8,["value"]),i(_,{outline:"",label:"m\u1EADt kh\u1EA9u","floating-label":"",type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:e.password,"onUpdate:value":t[1]||(t[1]=w=>e.password=w)},null,8,["value"])]),_:1}),i(f,{fill:"",large:"",round:"",onClick:e.clickLogin},{default:n(()=>[yc]),_:1},8,["onClick"]),i(k,null,{default:n(()=>[i(b,null,{default:n(()=>[kc,Ic,wc]),_:1})]),_:1})]),_:1})]),_:1})}var Tc=D(fc,[["render",Cc]]);const Ec={props:{f7route:Object,f7router:Object},setup(){return{isAuthen:N.state.isLogged,login:()=>{N.dispatch("login")},logout:()=>{N.dispatch("logout")}}},methods:{changeStatus(){this.isAuthen?this.logout():this.login()}},mounted(){const e=localStorage.getItem("fcm-token");console.log("home()",e)},async created(){}},Uc=c("QRCare VN"),Ac=o("p",null,"\u0110\xE2y l\xE0 Trang ch\u01B0a \u0111\u0103ng nh\u1EADp c\u1EE7a \u1EE9ng d\u1EE5ng QRCare",-1),xc=c("\u0110\u0103ng nh\u1EADp"),Dc=c("Demo Ch\u1EE5p h\xECnh "),Rc=c("Danh s\xE1ch Th\u1EBB Thi\u1EBFt b\u1ECB"),Pc=c("Danh s\xE1ch Th\u1EBB T\xE0i s\u1EA3n "),Sc=c("Danh s\xE1ch Th\u1EBB s\u1EA3n ph\u1EA9m"),$c=c("Danh s\xE1ch Th\u1EBB tr\xEAn Th\xF9ng s\u1EA3n ph\u1EA9m");function Oc(e,t,a,u,s,r){const m=l("f7-link"),b=l("f7-nav-left"),h=l("f7-nav-title"),g=l("f7-navbar"),_=l("f7-block"),k=l("f7-block-title"),f=l("f7-button"),T=l("f7-row"),w=l("f7-list-item"),U=l("f7-list"),I=l("f7-page");return p(),y(I,{name:"home"},{default:n(()=>[i(g,{sliding:!1},{default:n(()=>[i(b,null,{default:n(()=>[i(m,{"icon-ios":"f7:menu","icon-aurora":"f7:menu","icon-md":"material:menu","panel-open":"left"})]),_:1}),i(h,{sliding:""},{default:n(()=>[Uc]),_:1})]),_:1}),i(_,{strong:""},{default:n(()=>[Ac]),_:1}),i(k,null,{default:n(()=>[xc]),_:1}),i(_,{strong:""},{default:n(()=>[i(T,null,{default:n(()=>[i(f,{fill:"",raised:"",href:"/about/"},{default:n(()=>[Dc]),_:1})]),_:1})]),_:1}),i(k,null,{default:n(()=>[Rc]),_:1}),i(U,null,{default:n(()=>[i(w,{link:"/d/100010010200011/p/39036827",title:"GENERATED"}),i(w,{link:"/d/100010010200006/p/29237987",title:"GENERATED"}),i(w,{link:"/d/100010010200007/p/43199603",title:"GENERATED"}),i(w,{link:"/d/100010010200008/p/32790292",title:"GENERATED"}),i(w,{link:"/d/100010010200184/p/62537836",title:"ACTIVE"}),i(w,{link:"/d/100010010200001/p/27975695",title:"ACTIVE"}),i(w,{link:"/d/100010010200040/p/26483375",title:"ACTIVE"}),i(w,{link:"/d/100010010200054/p/26358531",title:"ACTIVE"})]),_:1}),i(k,null,{default:n(()=>[Pc]),_:1}),i(U,null,{default:n(()=>[i(w,{link:"/a/100010010200184/p/62537836",title:"ACTIVE"})]),_:1}),i(k,null,{default:n(()=>[Sc]),_:1}),i(U,null,{default:n(()=>[i(w,{link:"/p/100010010200184/p/62537836",title:"ACTIVE"}),i(w,{link:"/p/100010010200184/p/62537836",title:"ACTIVE"})]),_:1}),i(k,null,{default:n(()=>[$c]),_:1}),i(U,null,{default:n(()=>[i(w,{link:"/pb/100010010200184/p/62537836",title:"ACTIVE"}),i(w,{link:"/pb/100010010200184/p/62537836",title:"ACTIVE"})]),_:1})]),_:1})}var Lc=D(Ec,[["render",Oc]]);const qc={};function Nc(e,t){return null}var Qc=D(qc,[["render",Nc]]),Bc=[{path:"/",component:os},{path:"/m/:id/p/:privateCode",component:ge},{path:"/u/:id/t/:access_token",component:Qc},{path:"/d/:id/p/:privateCode",component:cr},{path:"/p/:id/p/:privateCode",component:pr},{path:"/pb/:id/p/:privateCode",component:mr},{path:"/a/:id/p/:privateCode",component:ec},{path:"/about/",component:Zs},{path:"/qr-login/",component:mc},{path:"/login/",component:Tc},{path:"/test/",component:Lc},{path:"/form/",component:Cl,beforeEnter({app:e,resolve:t,reject:a,router:u}){localStorage.getItem("userId"),localStorage.get("access_token"),console.log("beforeEnter()"),a(),u.navigate("/login/")}},{path:"(.*)",component:xl}],Vc={apiKey:"AIzaSyCpP1I0ELs9-4hwYzbprww_AmWXWZXSxBA",authDomain:"qrcare-aab37.firebaseapp.com",projectId:"qrcare-aab37",storageBucket:"qrcare-aab37.appspot.com",messagingSenderId:"778751086282",appId:"1:778751086282:web:2ab7ddf07bf029a14a2e33",measurementId:"G-D1ZE9SQ2TH"};const zc=we(Vc),ie=Ce(zc);Te(ie,{vapidKey:"BGxx-fjPINkBky_OPMHnaEt5I-Nw6T4b-tyQC9BBoXXGF3a0Romv0Y4PP2oB9heOK4pCh6EgNEXYj9yWWEAba6I"}).then(e=>{if(e){localStorage.setItem("fcm-token",e);const t=localStorage.getItem("userId");t>0?te.postUserDeviceToken(e,t).then(a=>{console.log("post getToken()",e)}):console.log("nothing getToken()",e)}else console.log("No registration token available. Request permission to generate one.")}).catch(e=>{console.log("An error occurred while retrieving token. ",e)});Ee(ie,e=>{console.log("baotnq Message received. ",e),window.alert(e.data)});const Mc={setup(){return Ue("messaging",ie),{f7params:{name:"QRCare.vn",theme:"auto",version:"1.1.2",view:{browserHistory:!0},store:N,routes:Bc,serviceWorker:{path:"/service-worker.js"}}}},data(){return{}},methods:{},mounted(){let e=M("isLogged");console.log("isLogged",e),e||console.log("go to mounted")}};function Yc(e,t,a,u,s,r){const m=l("f7-view"),b=l("f7-app");return p(),y(b,Ae(xe(u.f7params)),{default:n(()=>[i(m,{main:"",class:"safe-areas",url:"/"})]),_:1},16)}var Fc=D(Mc,[["render",Yc]]),x=J.create({baseURL:Y.BASE_URL,headers:{"content-type":"application/json"}});let oe={getFilename(e){if(e){var t=e.toString().match(/.*\/(.+?)\./);if(t&&t.length>1)return t[1]}return""},blobCreationFromURL(e){const t=e.split(","),a=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),u=t[0].split(":")[1].split(";")[0],s=new Uint8Array(a.length);for(let r=0;r<a.length;r++)s[r]=a.charCodeAt(r);return new Blob([s],{type:u})},getActivityName(e){let t="";return e.type==="ACTIVITY.QR_REQUEST"&&(t+="Y\xEAu c\u1EA7u",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRTASK"&&(t+="C\xF4ng vi\u1EC7c",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),e.type==="ACTIVITY.QRNOTE"&&(t+="Ghi ch\xFA",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRDelivery"&&(t+="B\xE0n giao",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t+="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t+="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),t},getActivityColor(e){if(e.type==="ACTIVITY.QR_REQUEST")return"item-title text-color-orange";if(e.type==="ACTIVITY.QRTASK"){if(e.status==="CONFIRMED")return"item-title text-color-green";if(e.status==="CREATED")return"item-title text-color-blue"}return e.type==="ACTIVITY.QRNOTE"?"item-title text-color-blue":"item-title text-color-black"},getFilter(e=null){return e||{skip:0,limit:10}},formatDate(e){if(e)return ue(new Date(e),"dd-MM-yyyy")},formatDateTime(e){return e?ue(new Date(e),"dd-MM-yyyy hh:mm"):""},formatMoney(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(e)}},Kc={async getQRID(e){if(e>0)return(await x.get(`Organizations/${e}/supportQRIDs`,{params:{filter:{limit:20,where:{status:"ACTIVE"}}}})).data||[]},async getSellProducts(e,t={}){if(e>0)return(await x.get(`Organizations/${e}/sellProducts`,{params:{filter:{limit:20}}})).data||[]},async getProduct(e){if(e>0)return(await x.get(`Products/${e}`)).data||{}},async updateProduct(e,t){return e>0?(t.modified=new Date,(await x.patch(`Products/${e}`,t)).data||{}):(t.created=new Date,t.createdBy=N.state.user.id,t.status="CREATED",(await x.post("Products",t)).data||{})},async getQRTask(e,t=0,a={}){if(e>0){let u={};u.type={inq:["ACTIVITY.QRTASK","ACTIVITY.QRDELIVERY"]},t>0&&(u.supplierStaffId=t);let s={order:"id desc",where:u};return s=pe(s,a),await this.getQRActivities(e,s)}},async getRequest(e,t={}){if(e>0){let a={};a.type={inq:["ACTIVITY.QR_FEEDBACK","ACTIVITY.QR_REQUEST","ACTIVITY.SUPPLIER_REQUEST","QRCARE_REQUEST"]};let u={order:"id desc",where:a};return u=pe(u,t),await this.getQRActivities(e,u)}},async getQRActivities(e,t){return(await x.get("/Organizations/"+e+"/supplierActivities",{params:{filter:t}})).data},async countQRTask(e,t=0,a={}){let u={};return u.type={inq:["ACTIVITY.QRTASK","ACTIVITY.QRDELIVERY"]},t>0&&(u.supplierStaffId=t),await this.countQRActivities(e,u)},async countRequest(e,t={}){let a={};return a.type={inq:["ACTIVITY.QR_FEEDBACK","ACTIVITY.QR_REQUEST","ACTIVITY.SUPPLIER_REQUEST","QRCARE_REQUEST"]},await this.countQRActivities(e,a)},async countQRActivities(e,t){return(await x.get("/Organizations/"+e+"/supplierActivities/count",{params:{where:t}})).data},async validateQRUrl(e){let t=["https://qrcare.net/#!/lifecycle/100010010000000/private/24135380","https://qrcare.net/#!/authentic/100010010000000/private/241353","https://qrcare.net/#!/lifecycle/100010010000002/private/20549215","https://qrcare.net/#!/authentic/100010010000002/private/205492","https://qrcare.net/#!/lifecycle/100010010000001/private/24197092","https://qrcare.net/#!/authentic/100010010000001/private/24197092","https://qrcare.net/#!/lifecycle/100010010020000/private/33249616","https://qrcare.net/#!/lifecycle/100010010020002/private/19647305","https://qrcare.net/#!/lifecycle/100010010020001/private/87957579","https://qrcare.net/#!/lifecycle/100010010020003/private/36250781"];try{let a=parseInt(e);a<t.length&&(e=t[a]);const u=await x.post("/QRPackages/validateQRUrl",{qrUrl:e});return console.log("validate",u),u.data}catch(a){return}},async getInfo(e,t={}){if(e>0){const a=await x.get("Organizations/"+e);return a.data&&a.data.id?a.data:{}}},async updateSupplier(e,t){let a={name:t.name,fullname:t.fullname,address:t.address,logoUrl:t.logoUrl,website:t.website,taxCode:t.taxCode,hotline:t.hotline,modified:new Date,content:t.content};return await x.patch("Organizations/"+e,a)},async changeInactive(e){if(e>0){const t=await x.patch("Organizations/"+e,{status:"INACTIVE",modified:new Date});return t.data&&t.data.id?t.data:{}}},async getSupplierEmployee(e,t){if(e&&t)return(await x.get(`/Organizations/${t}/users/${e}`)).data},async getUsers(e,t={}){if(e>0)return(await x.get("/Organizations/"+e+"/users",{params:{filter:oe.getFilter(t)}})).data},async getUser(e){if(orgId>0)return(await x.get("/Organizations/"+orgId+"/users",{params:{filter:oe.getFilter(filter)}})).data},async getPackage(e){if(e>0)return(await x.get("/QRPackages/"+e)).data},async getPackages(e,t={}){if(e>0)return(await x.get("/Organizations/"+e+"/generatedPackages",{params:{filter:oe.getFilter(t)}})).data},async updatePackage(e,t){if(e>0)return(await x.patch("/QRPackages/"+e,t)).data},async getPackageQRIDs(e,t={}){if(e>0)return await x.get(`/QRPackages/${e}/qridList`,t)},async getProductForSearch(e){let t="",a={fields:{id:!0,title:!0,imageUrls:!0,description:!0,experyDays:!0},limit:10};return e&&e.length>2&&(t="%"+e+"%",a={fields:{id:!0,title:!0,imageUrls:!0,description:!0},where:{title:{ilike:t}},limit:10}),await this.getSellProducts(a)},async getStaffForSearch(e,t){let a="",u={fields:{id:!0,fullName:!0},where:{}};return t&&(a="%"+t+"%",u.where.fullName={ilike:a}),await this.getUsers(e,u)},async getLifeCycle(e,t=null){return(await x.get("/QRIDs/"+e,{params:{filter:{include:["history"]}}})).data},async getQRID_CustomerInfo(e){return(await x.get("/QRIDs/"+e,{params:{filter:{fields:{id:!0,cardType:!0,status:!0,ownerName:!0,ownerPhoneNumber:!0,ownerAddress:!0}}}})).data},async updateDevice(e){return e.status=e.status?e.status:"QRID_STATUS.CREATED",e.modified=new Date().toISOString(),e.id>0?await x.patch("/QRIDs/"+e.id,e):!1},async updateOwner(e){return e.id>0?await x.patch("/QRIDs/"+e.id,e):!1},async activeUsing(e){return e.status="QRID_STATUS.ACTIVE",e.activatedDate=new Date().toISOString(),e.id>0?await x.patch("/QRIDs/"+e.id,e):null},async addActivateTask(e){return e.type="ACTIVITY.QRDELIVERY",await this.createQRActivity(e)},async addTask(e){return e.type="ACTIVITY.QRTASK",await this.createQRActivity(e)},async createQRActivity(e){return e.status="CREATED",e.created=new Date().toISOString(),e.supplierOrganizationId=N.state.org.id||0,e.supplierStaffId=N.state.user.id||0,e.createdBy=N.state.user.id,await x.post("/QRActivities",e)},async updateQRActivity(e){return await x.patch("/QRActivities/"+e.id,e)},async createQRDelivery(e){},async removeUserDeviceToken(e){let a=(await x.get("/UserDeviceTokens/",{params:{filter:{where:{userId:e}}}})).data;a&&a.length&&a.forEach(u=>{x.delete("/UserDeviceTokens/"+u.id)})},async getFireBaseToken(e){try{const t=localStorage.getItem("fcm-token");console.log("home()",t),this.postUserDeviceToken(token,e),await FCM.subscribeToTopic("latest_news")}catch(t){console.log(t)}},async sendPushNoti(e,t,a){await x.get("/UserDeviceTokens/sendPushNotificationToUserId",{params:{userid:e,title:t,body:a}})}};De.use(Re);const G=Pe(Fc);G.config.globalProperties.$axios=x;G.config.globalProperties.$store=N;G.config.globalProperties.$utils=oe;G.config.globalProperties.$authen=te;G.config.globalProperties.$supplier=Kc;G.config.globalProperties.$messaging=ie;Se(G);G.mount("#app");
