import{a as J,g as se,c as be,r as re,b as l,o as _,d as I,e as o,f as c,t as d,w as q,v as L,h as t,F as R,i as B,j as z,k as b,l as s,m as C,u as j,n as ee,p as ke,q as Ie,s as ce,x as de,y as ne,z as ue,A as we,B as Ce,C as Te,D as Ae,E as Ee,G as Ue,H as xe,I as _e,J as pe,K as De,L as Re,M as Pe,N as Se}from"./vendor.dc419b23.js";const $e=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}};$e();const M={BASE_URL:"https://api.qrcare.net/api/",IS_M_QRCARE:!0,IS_ORG_QRCARE:!0,DEV_ENV(){return!1},DEMO_CARD(){return!1}};let te={async loadUserAndOrganization(e,i){let a={headers:{Authorization:i},params:{filter:{include:{relation:"organization",scope:{fields:["name","address","hotline","fullname","logoUrl","status","email","website"]}}}}},u=await J.get(M.BASE_URL+"ApplicationUsers/"+e,a);return u&&u.data?(localStorage.setItem("user",JSON.stringify(u.data)),u.data):{}},async loginByUrl(e){let i=await J.get(e);return i&&i.data?(localStorage.setItem("user",JSON.stringify(i.data)),i.data):{}},async loginById(e,i){return e>0&&i?(localStorage.setItem("userId",e),localStorage.setItem("access_token",i),await this.loadUserAndOrganization(e,i)):{}},async loginByAccount(e){try{let a=(await J.post(M.BASE_URL+"ApplicationUsers/login",e)).data;if(a.id&&a.userId)return localStorage.setItem("userId",a.userId),localStorage.setItem("access_token",a.id),await this.loadUserAndOrganization(a.userId,a.id)}catch(i){return console.log("loginByAccount()",i),{}}},async logout(){localStorage.removeItem("access_token"),localStorage.removeItem("userId"),localStorage.removeItem("user")},register(e){return J.post(M.BASE_URL+"ApplicationUsers",{username:e.username,email:e.email,password:e.password})},async postUserDeviceToken(e,i){const a=se();console.log("getDevice()",a);let u={where:{userId:i,deviceToken:e}},n=await J.get(M.BASE_URL+"/UserDeviceTokens/count",{params:u});if(n&&n.data&&n.data.count){console.log("NOT RUN postUserDeviceToken()");return}let r={platform:"Mobile Web"},f=new Date,y={deviceToken:e,userId:i,created:f,deviceInfo:r};try{let p=await J.post(M.BASE_URL+"/UserDeviceTokens",y);console.log("postUserDeviceToken()",p)}catch(p){console.log(p)}}};const le=JSON.parse(localStorage.getItem("user")),O=be({state:{isLoading:!0,user:le,isAuthen:!!(le&&le.id>0),isDemoCard:!1},getters:{loading({state:e}){return e.isLoading},isLogged({state:e}){return e.isAuthen},getUser({state:e}){return e.user},getOrganization({state:e}){return e.user&&e.user.organization&&e.user.organization.id?e.user.organization:{}},getOrgId({state:e}){return e.user&&e.user.organizationId?e.user.organizationId:0},isBoss({state:e}){return e.user.roleCode=="BOSS"},isSale({state:e}){return e.user.roleCode=="SALE"},isWorker({state:e}){return e.user.roleCode=="WORKER"}},actions:{setLoading({state:e},i){e.isLoading=i},getUser({state:e,dispatch:i}){i("setLoading",!0);let a=localStorage.getItem("userId"),u=localStorage.getItem("access_token");if(a>0&&u){let n=M.BASE_URL+`ApplicationUsers/${a}?access_token=${u}`;console.log(a,u,n),fetch(n).then(r=>r.json()).then(r=>{e.user=r,console.log("getUser()",r),i("setLoading",!1)})}},getSupplierUser({state:e,dispatch:i}){i("setLoading",!0);let a=localStorage.getItem("userId"),u=localStorage.getItem("access_token");a>0&&u&&AuthenAPI.loadUserAndOrganization(a,u).then(n=>{e.user=n,e.org=n.organization||{},i("setLoading",!1)}).catch(n=>{console.log("Error_getSupplierUser()",n)})},logout({state:e}){e.user={},localStorage.removeItem("user"),localStorage.removeItem("access_token"),localStorage.removeItem("userId"),e.isAuthen=!1},async login({state:e},i){await te.loginByAccount(i).then(a=>{console.log("store-login()",a),localStorage.setItem("user",JSON.stringify(a)),e.user=a,e.isAuthen=!0})},loginById({state:e},i,a){te.loginById(i,a).then(u=>{console.log("store-loginById()",u),localStorage.setItem("user",JSON.stringify(u)),e.user=u,e.isAuthen=!0})},updateDemoCard({state:e},i){e.isDemoCard=i}}});var x=(e,i)=>{for(const[a,u]of i)e[a]=u;return e};const Oe={props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,packages:[],item:{},iItemLoading:!1,qrid:[],popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getOrganizationPackages"},methods:{selected(e){if(this.$emit("selected",e),this.item=e,this.item.id){let i=M.BASE_URL+`/QRPackages/${this.item.id}/qridList`,a={limit:20},u=this;this.isItemLoading=!0,re.json(i,{filter:a}).then(n=>{u.qrid=n.data,console.log("selected()",u.qrid),u.isItemLoading=!1})}this.popupOpened=!0},getOrganizationPackages(){if(this.orgId){let e=M.BASE_URL+`Organizations/${this.orgId}/generatedPackages`,i=this;this.isLoading=!0,fetch(e).then(a=>a.json()).then(a=>{i.packages=a,console.log("fetch()",a),i.isLoading=!1})}}},mounted(){this.getOrganizationPackages()}},qe={class:"card"},Le={class:"card-header"},Ne={class:"card-content card-content-padding scrollable"},Qe={class:"list media-list"},Be=["onClick"],Ve=o("div",{class:"item-media"},[o("i",{class:"icon f7-icons text-color-yellow"},"document_text_fill")],-1),ze={class:"item-inner"},Me={class:"item-title-row"},Ye={class:"item-title"},Fe={class:"item-after"},je={class:"item-subtitle"},Ke={class:"item-text"},He=o("br",null,null,-1),Ge=o("br",null,null,-1);function We(e,i,a,u,n,r){const f=l("f7-preloader"),y=l("f7-popup");return _(),I(R,null,[o("div",qe,[o("div",Le,[c(d(n.packages.length)+" B\u1ED9 A4 c\u1EE7a "+d(a.orgId)+" ",1),q(t(f,null,null,512),[[L,n.isLoading]])]),o("div",Ne,[o("div",Qe,[o("ul",null,[(_(!0),I(R,null,B(n.packages,p=>(_(),I("li",{key:p.id},[o("a",{onClick:m=>r.selected(p),class:"item-link item-content chevron-center"},[Ve,o("div",ze,[o("div",Me,[o("div",Ye,d(p.title),1),o("div",Fe,d(p.count),1)]),o("div",je,d(p.id),1),o("div",Ke,[c(d(p.status),1),He,c(" "+d(p.created),1),Ge])])],8,Be)]))),128))])])])]),t(y,{class:"demo-popup",opened:n.popupOpened,"onPopup:closed":i[0]||(i[0]=p=>n.popupOpened=!1)},null,8,["opened"])],64)}var Je=x(Oe,[["render",We]]);const Xe={props:{orgId:Number},emits:["updated"],data(){return{isLoading:!1,popupOpened:!1,item:{},content:""}},watch:{orgId:"getOrganization"},computed:{pageTitle(){return this.orgId>0?`Chi ti\u1EBFt Doanh nghi\u1EC7p c\xF3 Id: ${this.orgId}`:"T\u1EA1o m\u1EDBi Doanh nghi\u1EC7p"}},methods:{getOrganization(){if(this.orgId){console.log("getOrganization():"+this.orgId);let e=this;this.isLoading=!0,this.$supplier.getInfo(this.orgId).then(i=>{e.isLoading=!1,e.item=i,e.content=i.content})}else{let e={name:"",type:"COMPANY",parties:["PARTY.SUPPLIER.SELLER","PARTY.SUPPLIER.SERVICE"],categories:["B\xE1n h\xE0ng \u0111i\u1EC7n m\xE1y, \u0111i\u1EC7n l\u1EA1nh","D\u1ECBch v\u1EE5 v\u1EC7 sinh, b\u1EA3o tr\xEC thi\u1EBFt b\u1ECB c\u0169","D\u1ECBch v\u1EE5 thu mua, thanh l\xFD thi\u1EBFt b\u1ECB c\u0169"],fullname:"",address:"",logoUrl:"",website:"",content:"",imageUrls:[],taxCode:"",hotline:"",email:"",facebook:"",youtube:"",gpsLocation:{lat:0,lng:0},directorId:0,QRCARE_Verified:0,QRCare_Rating:0,parentId:0,rootId:0,status:"CREATED"};this.item=e}},changeInactive(){this.$supplier.changeInactive(this.orgId)},async clickEdit(){const e=this;this.$supplier.updateSupplier(this.orgId,this.item).then(i=>{z.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(i=>{z.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",i)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getOrganization()}},Ze={class:"card"},et={class:"card-content"},tt={key:0,class:"item-content"},it={class:"item-media"},ot=["src"],st=o("div",{class:"item-inner"},[o("div",{class:"item-title-row"},[o("div",{class:"item-title"},"logo hi\u1EC3n th\u1ECB")])],-1),nt=o("i",{class:"f7-icons"},"xmark_circle",-1),lt=c("Cancel"),at=o("i",{class:"f7-icons"},"cloud_upload",-1),rt=c("Save");function ct(e,i,a,u,n,r){const f=l("f7-navbar"),y=l("f7-preloader"),p=l("f7-list-input"),m=l("f7-text-editor"),h=l("f7-list"),k=l("f7-button"),v=l("f7-col"),A=l("f7-row"),w=l("f7-block"),U=l("f7-page");return _(),b(U,null,{default:s(()=>[t(f,{title:r.pageTitle},null,8,["title"]),q(t(y,null,null,512),[[L,n.isLoading]]),o("div",null,[o("div",Ze,[o("div",et,[t(h,null,{default:s(()=>[t(p,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn c\xF4ng ty (ng\u1EAFn g\u1ECDn)","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.item.name,"onUpdate:value":i[0]||(i[0]=T=>n.item.name=T)},null,8,["value"]),t(p,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn c\xF4ng ty (\u0111\u1EA7y \u0111\u1EE7)","floating-label":"",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.item.fullname,"onUpdate:value":i[1]||(i[1]=T=>n.item.fullname=T)},null,8,["value"]),t(p,{outline:"",label:"\u0110\u1ECBa ch\u1EC9 c\xF4ng ty","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"150","clear-button":"",value:n.item.address,"onUpdate:value":i[2]||(i[2]=T=>n.item.address=T)},null,8,["value"]),t(p,{outline:"",label:"Website gi\u1EDBi thi\u1EC7u","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:n.item.website,"onUpdate:value":i[3]||(i[3]=T=>n.item.website=T)},null,8,["value"]),t(p,{outline:"",label:"Logo c\xF4ng ty","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:n.item.logoUrl,"onUpdate:value":i[4]||(i[4]=T=>n.item.logoUrl=T)},null,8,["value"]),n.item.logoUrl?(_(),I("li",tt,[o("div",it,[o("img",{src:n.item.logoUrl,width:"120"},null,8,ot)]),st])):C("",!0),t(p,{outline:"",label:"Email li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp","clear-button":"",value:n.item.email,"onUpdate:value":i[5]||(i[5]=T=>n.item.email=T)},null,8,["value"]),t(p,{outline:"",label:"Hotline h\u1ED7 tr\u1EE3","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:n.item.hotline,"onUpdate:value":i[6]||(i[6]=T=>n.item.hotline=T)},null,8,["value"]),t(p,{type:"text",outline:"","floating-label":"",label:"M\xE3 s\u1ED1 thu\u1EBF",placeholder:"nh\u1EADp",maxlength:"30","clear-button":"",value:n.item.taxCode,"onUpdate:value":i[7]||(i[7]=T=>n.item.taxCode=T)},null,8,["value"]),t(m,{placeholder:"Enter text...",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:n.item.content,"onTexteditor:change":i[8]||(i[8]=T=>n.item.content=T)},null,8,["value"])]),_:1}),t(w,null,{default:s(()=>[t(A,null,{default:s(()=>[t(v,{width:"30"},{default:s(()=>[t(k,{round:"",large:"",color:"gray",onClick:i[9]||(i[9]=T=>r.close())},{default:s(()=>[nt,lt]),_:1})]),_:1}),t(v,{width:"40"},{default:s(()=>[t(k,{fill:"",round:"",large:"",onClick:i[10]||(i[10]=T=>r.clickEdit())},{default:s(()=>[at,rt]),_:1})]),_:1})]),_:1})]),_:1})])])])]),_:1})}var he=x(Xe,[["render",ct]]);const dt={components:{Organization:he},emits:["selected"],setup(){return{orgId:j("getOrgId")}},data(){return{isLoading:!1,list:[],itemId:0,item:{},popupOpened:!1,filters:{status:"ALL",limit:50,skip:0},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getOrganization"},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getOrganization(){if(this.orgId==111){let e=M.BASE_URL+"Organizations",i={limit:40,where:{id:{gt:1e3}}},a=this;this.isLoading=!0,re.json(e,{filter:i}).then(u=>{a.list=u.data,a.isLoading=!1})}}},mounted(){this.getOrganization()}},ut={class:"card"},_t={class:"card-header"},pt=c(" Danh s\xE1ch c\xF4ng ty "),ht=c("ADD"),ft={class:"card-content card-content-padding scrollable"},gt={class:"list media-list"},mt=["onClick"],vt={class:"item-media"},yt=["src"],bt={class:"item-inner"},kt={class:"item-title-row"},It={class:"item-title"},wt={class:"item-after"},Ct={class:"item-subtitle"},Tt={class:"item-text"},At=o("br",null,null,-1);function Et(e,i,a,u,n,r){const f=l("f7-preloader"),y=l("f7-button"),p=l("organization"),m=l("f7-popup");return _(),I(R,null,[o("div",ut,[o("div",_t,[pt,q(t(f,null,null,512),[[L,n.isLoading]]),t(y,{onClick:i[0]||(i[0]=h=>r.create())},{default:s(()=>[ht]),_:1})]),o("div",ft,[o("div",gt,[o("ul",null,[(_(!0),I(R,null,B(n.list,h=>(_(),I("li",{key:h.id},[o("a",{onClick:k=>r.selected(h),class:"item-link item-content chevron-center"},[o("div",vt,[o("img",{src:h.logoUrl,width:"40"},null,8,yt)]),o("div",bt,[o("div",kt,[o("div",It,d(h.name),1),o("div",wt,d(e.$utils.formatDate(h.created)),1)]),o("div",Ct,d(h.status)+" "+d(h.id),1),o("div",Tt,[c(d(h.address),1),At])])],8,mt)]))),128))])])])]),t(m,{class:"organization-popup",opened:n.popupOpened,"onPopup:closed":i[1]||(i[1]=h=>n.popupOpened=!1)},{default:s(()=>[t(p,{orgId:n.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"])],64)}var Ut=x(dt,[["render",Et]]);const xt={components:{Organization:he},props:{orgId:Number},data(){return{isLoading:!1,item:{},itemId:0,popupOpened:!1}},watch:{orgId:"getOrganization"},methods:{edit(){this.itemId=this.orgId,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},getOrganization(){if(this.orgId){console.log("summary, getOrg()");let e=this;this.isLoading=!0,this.$supplier.getInfo(this.orgId).then(i=>{e.isLoading=!1,e.item=i})}}},mounted(){this.getOrganization()}},Dt={class:"card"},Rt={class:"card-header"},Pt=c("Edit"),St={class:"card-content card-content-padding scrollable"},$t={class:"list media-list"},Ot={class:"item-link item-content chevron-center"},qt={class:"item-media"},Lt=["src"],Nt={class:"item-inner"},Qt={class:"item-title-row"},Bt={class:"item-title"},Vt={class:"item-after"},zt={class:"item-subtitle"},Mt={class:"item-text"},Yt=o("br",null,null,-1);function Ft(e,i,a,u,n,r){const f=l("f7-preloader"),y=l("f7-button"),p=l("organization"),m=l("f7-popup");return _(),I(R,null,[o("div",Dt,[o("div",Rt,[c(" Th\xF4ng tin c\xF4ng ty "+d(a.orgId),1),q(t(f,null,null,512),[[L,n.isLoading]]),t(y,{onClick:i[0]||(i[0]=h=>r.edit())},{default:s(()=>[Pt]),_:1})]),o("div",St,[o("div",$t,[o("ul",null,[o("li",Ot,[o("div",qt,[o("img",{src:n.item.logoUrl,width:"40"},null,8,Lt)]),o("div",Nt,[o("div",Qt,[o("div",Bt,d(n.item.name),1),o("div",Vt,d(e.$utils.formatDate(n.item.created)),1)]),o("div",zt,d(n.item.status)+" "+d(n.item.id),1),o("div",Mt,[c(d(n.item.address),1),Yt])])])])])])]),t(m,{class:"update-supplier",opened:n.popupOpened,"onPopup:closed":i[1]||(i[1]=h=>n.popupOpened=!1)},{default:s(()=>[t(p,{orgId:n.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"])],64)}var jt=x(xt,[["render",Ft]]);const Kt={props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},itemId:0,popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getAppUsers"},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},async getAppUsers(){this.orgId&&(this.isLoading=!0,console.log(this.orgId),this.list=await this.$supplier.getUsers(this.orgId),this.isLoading=!1)}},mounted(){this.getAppUsers()}},Ht={class:"card"},Gt={class:"card-header"},Wt=c(" Danh s\xE1ch Nh\xE2n vi\xEAn "),Jt={class:"card-content card-content-padding scrollable"},Xt={class:"list media-list"},Zt=["onClick"],ei={class:"item-media"},ti=["src"],ii={class:"item-inner"},oi={class:"item-title-row"},si={class:"item-title"},ni={class:"item-after"},li={class:"item-subtitle"},ai={class:"item-text"},ri=o("br",null,null,-1);function ci(e,i,a,u,n,r){const f=l("f7-preloader"),y=l("employee"),p=l("f7-popup");return _(),I(R,null,[o("div",Ht,[o("div",Gt,[Wt,q(t(f,null,null,512),[[L,n.isLoading]])]),o("div",Jt,[o("div",Xt,[o("ul",null,[(_(!0),I(R,null,B(n.list,m=>(_(),I("li",{key:m.id},[o("a",{onClick:h=>r.selected(m),class:"item-link item-content chevron-center"},[o("div",ei,[o("img",{src:m.logoUrl,width:"40"},null,8,ti)]),o("div",ii,[o("div",oi,[o("div",si,d(m.fullName),1),o("div",ni,d(e.$utils.formatDate(m.created)),1)]),o("div",li,d(m.roleCode),1),o("div",ai,[c(d(m.status)+" "+d(m.email),1),ri])])],8,Zt)]))),128))])])])]),t(p,{class:"edit-employee",opened:n.popupOpened,"onPopup:closed":i[0]||(i[0]=m=>n.popupOpened=!1)},{default:s(()=>[t(y,{userId:n.itemId},null,8,["userId"])]),_:1},8,["opened"])],64)}var di=x(Kt,[["render",ci]]);const ui={props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getTasks()}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},async getTasks(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getQRTask(this.orgId).then(i=>{console.log("\bgetTasks()",e.list),e.list=i,e.isLoading=!1})}}},mounted(){this.getTasks()}},_i={class:"card"},pi={class:"card-header"},hi={class:"card-content card-content-padding scrollable"},fi={class:"list media-list"},gi=["onClick"],mi={class:"item-media"},vi=["src"],yi={class:"item-inner"},bi={class:"item-header"},ki={class:"item-title-row"},Ii=o("div",{class:"item-after"},null,-1),wi={class:"item-subtitle"},Ci={class:"item-text"},Ti={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},Ai=c("Close");function Ei(e,i,a,u,n,r){const f=l("f7-preloader"),y=l("f7-link"),p=l("f7-nav-right"),m=l("f7-navbar"),h=l("f7-page"),k=l("f7-popup");return _(),I(R,null,[o("div",_i,[o("div",pi,[c(" C\xF4ng vi\u1EC7c ho\xE0n th\xE0nh: "+d(a.orgId)+" ",1),q(t(f,null,null,512),[[L,n.isLoading]])]),o("div",hi,[o("div",fi,[o("ul",null,[(_(!0),I(R,null,B(n.list,v=>(_(),I("li",{key:v.id},[o("a",{onClick:A=>r.selected(v),class:"item-link item-content chevron-center"},[o("div",mi,[o("img",{style:{border:"1px solid #ccc"},src:v.imageUrls&&v.imageUrls[0]?v.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,vi)]),o("div",yi,[o("div",bi,d(e.$utils.formatDateTime(v.modified)),1),o("div",ki,[o("div",{class:ee(e.$utils.getActivityColor(v)),style:{"font-size":"16px"}},d(e.$utils.getActivityName(v)),3),Ii]),o("div",wi,d(v.title),1),o("div",Ci,d(v.description),1),o("div",Ti,d(v.money>0?e.$utils.formatMoney(v.money):" "),1)])],8,gi)]))),128))])])])]),t(k,{class:"demo-popup",opened:n.popupOpened,"onPopup:closed":i[0]||(i[0]=v=>n.popupOpened=!1)},{default:s(()=>[t(h,null,{default:s(()=>[t(m,{title:"Th\xF4ng tin chi ti\u1EBFt: "+n.item.id},{default:s(()=>[t(p,null,{default:s(()=>[t(y,{"popup-close":""},{default:s(()=>[Ai]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1},8,["opened"])],64)}var Ui=x(ui,[["render",Ei]]);const xi={props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getRequests()}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},getRequests(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getRequest(this.orgId).then(i=>{e.list=i,e.isLoading=!1})}}},mounted(){this.getRequests()}},Di={class:"card"},Ri={class:"card-header"},Pi={class:"card-content card-content-padding scrollable"},Si={class:"list media-list"},$i=["onClick"],Oi={class:"item-media"},qi=["src"],Li={class:"item-inner"},Ni={class:"item-header"},Qi={class:"item-title-row"},Bi=o("div",{class:"item-after"},null,-1),Vi={class:"item-subtitle"},zi={class:"item-text"},Mi={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},Yi=c("Close");function Fi(e,i,a,u,n,r){const f=l("f7-preloader"),y=l("f7-link"),p=l("f7-nav-right"),m=l("f7-navbar"),h=l("f7-page"),k=l("f7-popup");return _(),I(R,null,[o("div",Di,[o("div",Ri,[c(" Y\xEAu c\u1EA7u m\u1EDBi nh\u1EADn "+d(a.orgId)+" ",1),q(t(f,null,null,512),[[L,n.isLoading]])]),o("div",Pi,[o("div",Si,[o("ul",null,[(_(!0),I(R,null,B(n.list,v=>(_(),I("li",{key:v.id},[o("a",{onClick:A=>r.selected(v),class:"item-link item-content chevron-center"},[o("div",Oi,[o("img",{style:{border:"1px solid #ccc"},src:v.imageUrls&&v.imageUrls[0]?v.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,qi)]),o("div",Li,[o("div",Ni,d(e.$utils.formatDateTime(v.modified)),1),o("div",Qi,[o("div",{class:ee(e.$utils.getActivityColor(v)),style:{"font-size":"16px"}},d(e.$utils.getActivityName(v)),3),Bi]),o("div",Vi,d(v.title),1),o("div",zi,d(v.description),1),o("div",Mi,d(v.money>0?e.$utils.formatMoney(v.money):" "),1)])],8,$i)]))),128))])])])]),t(k,{class:"demo-popup",opened:n.popupOpened,"onPopup:closed":i[0]||(i[0]=v=>n.popupOpened=!1)},{default:s(()=>[t(h,null,{default:s(()=>[t(m,{title:"Th\xF4ng tin chi ti\u1EBFt: "+n.item.id},{default:s(()=>[t(p,null,{default:s(()=>[t(y,{"popup-close":""},{default:s(()=>[Yi]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1},8,["opened"])],64)}var ji=x(xi,[["render",Fi]]);const Ki={props:{orgId:{type:Number,default:0}},emits:["selected"],data(){return{isLoading:!1,items:[],item:{},iItemLoading:!1,qrid:[],popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},getProducts(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getProducts(this.orgId).then(i=>{e.items=i,e.isLoading=!1})}else this.items=[]}},mounted(){this.getProducts()}},Hi={class:"card"},Gi={class:"card-header"},Wi={class:"card-content card-content-padding scrollable"},Ji={class:"list media-list"},Xi=["onClick"],Zi=o("div",{class:"item-media"},[o("i",{class:"icon f7-icons text-color-yellow"},"document_text_fill")],-1),eo={class:"item-inner"},to={class:"item-title-row"},io={class:"item-title"},oo={class:"item-subtitle"},so={class:"item-text"},no=o("br",null,null,-1),lo=o("br",null,null,-1),ao={class:"card"},ro={class:"card-header"};function co(e,i,a,u,n,r){const f=l("f7-preloader"),y=l("f7-navbar"),p=l("f7-page"),m=l("f7-popup");return _(),I(R,null,[o("div",Hi,[o("div",Gi,[c(" Danh s\xE1ch s\u1EA3n ph\u1EA9m c\u1EE7a "+d(e.ordId)+" ("+d(n.items.length)+")",1),q(t(f,null,null,512),[[L,n.isLoading]])]),o("div",Wi,[o("div",Ji,[o("ul",null,[(_(!0),I(R,null,B(n.items,h=>(_(),I("li",{key:h.id},[o("a",{onClick:k=>r.selected(h),class:"item-link item-content chevron-center"},[Zi,o("div",eo,[o("div",to,[o("div",io,d(h.title),1)]),o("div",oo,d(h.id),1),o("div",so,[c(d(h.status),1),no,c(" "+d(h.created),1),lo])])],8,Xi)]))),128))])])])]),t(m,{class:"demo-popup",opened:n.popupOpened,"onPopup:closed":i[0]||(i[0]=h=>n.popupOpened=!1)},{default:s(()=>[t(p,null,{default:s(()=>[t(y,{title:"Chi ti\u1EBFt c\u1EE7a "+n.item.id},null,8,["title"]),o("div",ao,[o("div",ro," Chi tiet cua id "+d(n.item.title),1)])]),_:1})]),_:1},8,["opened"])],64)}var uo=x(Ki,[["render",co]]);const _o={props:{productId:Number},setup(){return{orgId:j("getOrgId")}},emits:["updated"],data(){return{isLoading:!1,item:{},imageUrl:""}},watch:{productId:"getProduct"},computed:{listImages(){return this.item.imageUrls||[]},pageTitle(){return this.productId>0?`Chi ti\u1EBFt s\u1EA3n ph\u1EA9m v\u1EDBi Id: ${this.productId}`:"T\u1EA1o m\u1EDBi s\u1EA3n ph\u1EA9m"}},methods:{getProduct(){let e={title:"",manufacturer:"",type:"",category:[],description:"",content:"",sellerId:this.orgId,sellerUrl:"",originProductId:0,originProductUrl:"",validatedOriginProduct:"SELLER",barCode:"",imageUrls:[],warrantyDays:0,status:"ACTIVE",created:new Date,createdBy:0,modified:new Date,modifiedBy:0};if((this.orgId==111||this.orgId==888)&&(e.manufacturerId=this.orgId,e.manufacturer="QRCare"),this.productId>0){console.log("getProduct():"+this.productId);let i=this;this.$supplier.getProduct(this.productId).then(a=>{this.isLoading=!0,i.isLoading=!1,i.item=a})}else this.item=e},changeInactive(){this.$supplier.changeInactive(this.productId)},uploadImage(){this.imageUrl&&this.item.imageUrls.push(this.imageUrl)},async processUpdate(){const e=this;this.$supplier.updateProduct(this.productId,this.item).then(i=>{z.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(i=>{z.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",i)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getProduct()}},po=c("Close"),ho={class:"card"},fo={class:"card-content"},go=["src"],mo=c(" Th\xEAm h\xECnh"),vo=o("i",{class:"f7-icons"},"xmark_circle",-1),yo=c("Cancel"),bo=o("i",{class:"f7-icons"},"cloud_upload",-1),ko=c("Save");function Io(e,i,a,u,n,r){const f=l("f7-link"),y=l("f7-nav-right"),p=l("f7-navbar"),m=l("f7-preloader"),h=l("f7-list-input"),k=l("f7-col"),v=l("f7-input"),A=l("f7-button"),w=l("f7-row"),U=l("f7-text-editor"),T=l("f7-list"),V=l("f7-page");return _(),b(V,null,{default:s(()=>[t(p,{title:r.pageTitle},{default:s(()=>[t(y,null,{default:s(()=>[t(f,{"popup-close":""},{default:s(()=>[po]),_:1})]),_:1})]),_:1},8,["title"]),q(t(m,null,null,512),[[L,n.isLoading]]),q(o("div",ho,[o("div",fo,[t(T,null,{default:s(()=>[t(h,{type:"text",placeholder:"nh\u1EADp",label:"T\xEAn s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.item.title,"onUpdate:value":i[0]||(i[0]=E=>n.item.title=E)},null,8,["value"]),t(h,{type:"text",placeholder:"nh\u1EADp",label:"Nh\xE0 s\u1EA3n xu\u1EA5t",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:n.item.manufacturer,"onUpdate:value":i[1]||(i[1]=E=>n.item.manufacturer=E)},null,8,["value"]),t(h,{type:"text",placeholder:"nh\u1EADp",label:"M\xE3 s\u1EA3n ph\u1EA9m (duy nh\u1EA5t)",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:n.item.barCode,"onUpdate:value":i[2]||(i[2]=E=>n.item.barCode=E)},null,8,["value"]),t(w,null,{default:s(()=>[(_(!0),I(R,null,B(n.item.imageUrls,E=>(_(),b(k,{width:"50",key:E},{default:s(()=>[o("img",{width:"100",src:E},null,8,go)]),_:2},1024))),128)),t(k,{width:"50"},{default:s(()=>[t(v,{type:"text",outline:"","floating-label":"",placeholder:"nh\u1EADp",label:"Link h\xECnh \u1EA3nh",value:n.imageUrl,"onUpdate:value":i[3]||(i[3]=E=>n.imageUrl=E)},null,8,["value"]),t(A,{onClick:i[4]||(i[4]=E=>r.uploadImage())},{default:s(()=>[mo]),_:1})]),_:1})]),_:1}),t(h,{type:"text",placeholder:"nh\u1EADp",label:"Link s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:n.item.sellerUrl,"onUpdate:value":i[5]||(i[5]=E=>n.item.sellerUrl=E)},null,8,["value"]),t(U,{placeholder:"Enter text...",label:"Gi\u1EDBi thi\u1EC7u s\u1EA3n ph\u1EA9m",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:n.item.description,"onUpdate:value":i[6]||(i[6]=E=>n.item.description=E)},null,8,["value"]),t(U,{placeholder:"Enter text...",label:"Gi\u1EDBi thi\u1EC7u s\u1EA3n ph\u1EA9m",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:n.item.content,"onUpdate:value":i[7]||(i[7]=E=>n.item.content=E)},null,8,["value"]),t(h,{type:"number",placeholder:"nh\u1EADp",label:"Th\u1EDDi gian b\u1EA3o h\xE0nh (s\u1ED1 ng\xE0y)",outline:"","floating-label":"","clear-button":"",value:n.item.warrantyDays,"onUpdate:value":i[8]||(i[8]=E=>n.item.warrantyDays=E)},null,8,["value"]),t(h,{disabled:"",type:"text",placeholder:"",label:"tr\u1EA1ng th\xE1i",outline:"","floating-label":"",required:"",value:n.item.status,"onUpdate:value":i[9]||(i[9]=E=>n.item.status=E)},null,8,["value"]),o("p",null,"SellerID "+d(n.item.sellerId),1),o("p",null,"ManufacturID "+d(n.item.manufacturerId),1),o("p",null,"Ng\xE0y t\u1EA1o: "+d(e.$utils.formatDate(n.item.created)),1),o("p",null,"Modified: "+d(e.$utils.formatDate(n.item.modified)),1),t(w,null,{default:s(()=>[t(k,{width:"30"},{default:s(()=>[t(A,{round:"",large:"",color:"gray",onClick:i[10]||(i[10]=E=>r.close())},{default:s(()=>[vo,yo]),_:1})]),_:1}),t(k,{width:"40"},{default:s(()=>[t(A,{fill:"",round:"",large:"",onClick:i[11]||(i[11]=E=>r.processUpdate())},{default:s(()=>[bo,ko]),_:1})]),_:1})]),_:1})]),_:1})])],512),[[L,!n.isLoading]])]),_:1})}var fe=x(_o,[["render",Io]]);const wo={props:{orgId:Number},emits:["selected"],components:{Product:fe},data(){return{isLoading:!1,list:[],itemId:0,popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getProducts()}},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){console.log("selected product",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getProducts(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getSellProducts(this.orgId).then(i=>{e.list=i,e.isLoading=!1})}}},mounted(){this.getProducts()}},Co={class:"card"},To={class:"card-header"},Ao=c("ADD"),Eo={class:"card-content card-content-padding scrollable"},Uo={class:"list media-list"},xo=["onClick"],Do={class:"item-media"},Ro=["src"],Po={class:"item-inner"},So={class:"item-header"},$o={class:"item-title-row"},Oo={style:{"font-size":"16px"}},qo=o("div",{class:"item-after"},null,-1),Lo={class:"item-subtitle"},No={class:"item-text"},Qo={class:"item-footer",style:{"font-size":"14px","font-weight":"600"}};function Bo(e,i,a,u,n,r){const f=l("f7-preloader"),y=l("f7-button"),p=l("product"),m=l("f7-popup");return _(),I(R,null,[o("div",Co,[o("div",To,[c(" S\u1EA3n ph\u1EA9m \u0111ang b\xE1n "+d(a.orgId)+" ",1),q(t(f,null,null,512),[[L,n.isLoading]]),t(y,{onClick:i[0]||(i[0]=h=>r.create())},{default:s(()=>[Ao]),_:1})]),o("div",Eo,[o("div",Uo,[o("ul",null,[(_(!0),I(R,null,B(n.list,h=>(_(),I("li",{key:h.id},[o("a",{onClick:k=>r.selected(h),class:"item-link item-content chevron-center"},[o("div",Do,[o("img",{style:{border:"1px solid #ccc"},src:h.imageUrls&&h.imageUrls[0]?h.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,Ro)]),o("div",Po,[o("div",So,d(h.type),1),o("div",$o,[o("div",Oo,d(h.title),1),qo]),o("div",Lo,d(h.status),1),o("div",No,d(h.description),1),o("div",Qo,d(e.$utils.formatDate(h.modified)),1)])],8,xo)]))),128))])])])]),t(m,{class:"product-popup",opened:n.popupOpened,"onPopup:closed":i[1]||(i[1]=h=>n.popupOpened=!1)},{default:s(()=>[t(p,{productId:n.itemId,onUpdated:r.updated},null,8,["productId","onUpdated"])]),_:1},8,["opened"])],64)}var Vo=x(wo,[["render",Bo]]);const zo={setup(){return{item:{id:0,packageId:0,warehouseId:0,private:0,password:"string",cardType:"CARD_TYPE.EXIST_DEVICE",phase:"PRODUCT_STATUS.NEW",displayStatus:"string",title:"Nh\u1EADp t\xEAn c\u1EE7a thi\u1EBFt b\u1ECB",description:"M\xF4 t\u1EA3 ng\u1EAFn g\u1ECDn thi\u1EBFt b\u1ECB",imageUrls:[],productId:0,activatedDate:"$now",warrantyDays:0,nextReminder:"2021-11-08T21:33:23.631Z",endDate:"$now",deviceMetadata:{},locationId:0,location:"string",ownerName:"a B\u1EA3o",ownerAddress:"11 \u0111\u1EB7ng th\u1EBF Phong",ownerPhoneNumber:"string",ownerId:0,ownerOrganizationId:0,ownerMetadata:{},userName:"string",userAddress:"string",userId:0,userOrganizationId:0,userMetadata:{},sellerName:"string",sellerAddress:"string",sellerId:0,distributorId:0,supportId:0,isValidated:!0,sellerMetadata:{},status:"QRID_STATUS.GENERATED",metadata:{},created:"$now",createdBy:0,modified:"$now",modifiedBy:0}}}},Mo=c("Th\xF4ng tin kh\xE1ch h\xE0ng"),Yo={class:"block"},Fo={class:"block-header"},jo={class:"block-content"},Ko=c("Th\xF4ng tin Ng\u01B0\u1EDDi b\xE1n"),Ho={class:"card"},Go={class:"card-header"},Wo={class:"card-content card-content-padding scrollable"};function Jo(e,i,a,u,n,r){const f=l("f7-block-title"),y=l("f7-list-item"),p=l("f7-list");return _(),I(R,null,[t(f,null,{default:s(()=>[Mo]),_:1}),o("div",Yo,[o("div",Fo,d(u.item.ownerName),1),o("div",jo,[t(p,null,{default:s(()=>[t(y,null,{default:s(()=>[c(d(u.item.ownerAddress),1)]),_:1})]),_:1})])]),t(f,null,{default:s(()=>[Ko]),_:1}),o("div",Ho,[o("div",Go,d(u.item.ownerName),1),o("div",Wo,[t(p,null,{default:s(()=>[t(y,null,{default:s(()=>[c(d(u.item.ownerAddress),1)]),_:1})]),_:1})])])],64)}var ge=x(zo,[["render",Jo]]);const Xo={props:["title"],template:`
        <h3>{{ title }}</h3>
      `},Zo={inject:["messaging"],setup(){const e=ke("messaging");console.log("Firebase object Setup",e)},components:{ComponentA:Xo,Packages:Je,Organizations:Ut,Supplier:jt,OrgUsers:di,TasksCard:Ui,"lastest-request":ji,ListProduct:uo,Products:Vo,DetailProduct:fe,MemberHome:ge},props:{f7route:Object,f7router:Object},data(){let e=j("isLogged"),i=j("getUser");console.log("setup() home",e.value,i.value);let a=j("getOrgId");return console.log("orgId",a),{openedLogin:!e.value,user:i,isLogged:e,username:"",password:"",orgId:a,productId:153,packageId:0,qrId:0,activityId:0,userId:0,locationId:0}},computed:{getUserName(){return this.user&&this.user.fullName?this.user.fullName:""}},methods:{clickLogin(){let e={username:this.username,password:this.password};z.preloader.show();const i=this;O.dispatch("login",e).then(a=>{z.preloader.hide(),i.openedLogin=!1,console.log("f7.loginScreen.close()"),z.loginScreen.close()})},selectPackage(e){console.log(e)},selectOrganization(e){e.id>0&&(this.orgId=e.id)},selectProduct(e){e.id>0&&(this.productId=e.id)},logout(){O.dispatch("logout"),this.openedLogin=!0}},mounted(){}},es={class:"page"},ts={class:"navbar"},is=o("div",{class:"navbar-bg"},null,-1),os={class:"navbar-inner"},ss=o("div",{class:"title"},"Dashboard",-1),ns={class:"right"},ls={class:"link popover-open","data-popover":".profile-popover"},as={class:"margin-right-half"},rs=c("Ch\xE0o,"),cs={class:"popover profile-popover"},ds={class:"popover-inner"},us={class:"text-align-center"},_s=o("div",{class:"list no-hairlines no-hairlines-between"},[o("ul",null,[o("li",null,[o("a",{href:"#",class:"item-link item-content"},[o("div",{class:"item-media"},[o("i",{class:"icon f7-icons"},"person_circle_fill")]),o("div",{class:"item-inner"},[o("div",{class:"item-title"},"Th\xF4ng tin c\xE1 nh\xE2n")])])])])],-1),ps={class:"list no-hairlines no-hairlines-between margin-bottom"},hs=o("div",{class:"item-media"},[o("i",{class:"icon f7-icons"},"exit_fill")],-1),fs=o("div",{class:"item-inner"},[o("div",{class:"item-title"},"\u0110\u0103ng xu\u1EA5t")],-1),gs=[hs,fs],ms={class:"page-content"},vs={class:"dashboard-cards"},ys={class:"row margin-horizontal margin-bottom"},bs={class:"col-100 medium-50 margin-top"},ks={class:"col-100 medium-50 margin-top"},Is={class:"row margin-horizontal margin-bottom"},ws={class:"col-100 medium-50 margin-top"},Cs={class:"col-100 medium-50 margin-top"},Ts={class:"row margin-horizontal margin-bottom"},As={class:"col-100 medium-50 margin-top"},Es={class:"row margin-horizontal margin-bottom"},Us={class:"col-100 medium-50 margin-top"},xs={class:"col-100 medium-50 margin-top"},Ds=o("div",{class:"row margin-horizontal margin-bottom"},null,-1),Rs=c("H\u1EC7 th\u1ED1ng qu\u1EA3n tr\u1ECB QRCare"),Ps=c("\u0110\u0103ng nh\u1EADp"),Ss=o("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),$s=o("p",null,"Email: sales@qrcare.net ",-1),Os=o("p",null,"Phone: +84 906 826 807",-1);function qs(e,i,a,u,n,r){const f=l("organizations"),y=l("supplier"),p=l("products"),m=l("packages"),h=l("org-users"),k=l("lastest-request"),v=l("tasks-card"),A=l("f7-login-screen-title"),w=l("f7-list-input"),U=l("f7-list"),T=l("f7-button"),V=l("f7-block-footer"),E=l("f7-block"),$=l("f7-page"),X=l("f7-login-screen");return _(),b($,{name:"home"},{default:s(()=>[o("div",es,[o("div",ts,[is,o("div",os,[ss,o("div",ns,[o("a",ls,[o("span",as,[rs,o("b",null,d(r.getUserName),1)])])])])]),o("div",cs,[o("div",ds,[o("h3",us,d(r.getUserName),1),_s,o("div",ps,[o("ul",null,[o("li",null,[o("a",{onClick:i[0]||(i[0]=F=>r.logout()),class:"item-link item-content"},gs)])])])])]),o("div",ms,[o("div",vs,[o("div",ys,[o("div",bs,[t(f)]),o("div",ks,[t(y,{orgId:n.orgId},null,8,["orgId"])])]),o("div",Is,[o("div",ws,[t(p,{orgId:n.orgId},null,8,["orgId"])]),o("div",Cs,[t(m,{orgId:n.orgId,onSelected:r.selectPackage},null,8,["orgId","onSelected"])])]),o("div",Ts,[o("div",As,[t(h,{orgId:n.orgId},null,8,["orgId"])])]),o("div",Es,[o("div",Us,[t(k,{orgId:n.orgId},null,8,["orgId"])]),o("div",xs,[t(v,{orgId:n.orgId},null,8,["orgId"])])]),Ds])])]),t(X,{opened:n.openedLogin,"onUpdate:opened":i[3]||(i[3]=F=>n.openedLogin=F)},{default:s(()=>[t($,null,{default:s(()=>[t(A,null,{default:s(()=>[Rs]),_:1}),t(E,null,{default:s(()=>[t(U,null,{default:s(()=>[t(w,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:n.username,"onUpdate:value":i[1]||(i[1]=F=>n.username=F)},null,8,["value"]),t(w,{outline:"",label:"m\u1EADt kh\u1EA9u","floating-label":"",type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:n.password,"onUpdate:value":i[2]||(i[2]=F=>n.password=F)},null,8,["value"])]),_:1}),t(T,{fill:"",large:"",round:"",onClick:r.clickLogin},{default:s(()=>[Ps]),_:1},8,["onClick"]),t(U,null,{default:s(()=>[t(V,null,{default:s(()=>[Ss,$s,Os]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var Ls=x(Zo,[["render",qs]]);const Ns={props:["countImages","maxImages"],emits:["uploaded","toggleCamera"],data(){return{isCameraOpen:!1,isPhotoTaken:!1,isShotPhoto:!1,isLoading:!1,imageUrls:[],video:"",photoTaken:"",photoTakenCtx:"",width:0,height:0,log:"",dataUrl:""}},methods:{doLoad(){this.video=document.getElementById("camera-video"),this.photoTaken=document.getElementById("photoTaken"),this.photoTakenCtx=this.photoTaken.getContext("2d");let e=this;this.video.addEventListener("play",function(){e.width=e.video.videoWidth,e.height=e.video.videoHeight},!1)},computeFrame(){const e=this.video.videoWidth,i=this.video.videoHeight,a=i/4*3,u=(e-a)/2,n=0;this.photoTaken.width=a,this.photoTaken.height=i,this.log="Video:Crop:("+this.photoTaken.width+","+this.photoTaken.height+"("+e+","+i+")",this.photoTakenCtx.drawImage(this.video,u,n,a,i,0,0,a,i)},toggleCamera(){this.isCameraOpen?(this.isCameraOpen=!1,this.$emit("toggleCamera",this.isCameraOpen),this.isPhotoTaken=!1,this.isShotPhoto=!1,this.stopCameraStream()):(this.isCameraOpen=!0,this.$emit("toggleCamera",this.isCameraOpen),this.createCameraElement())},createCameraElement(){console.log("createCameraElement()",this.isCameraOpen);try{this.isLoading=!0,z.preloader.show();var e={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(e).then(i=>{this.isLoading=!1,z.preloader.hide(),this.$refs.camera.srcObject=i,this.doLoad()}).catch(i=>{this.isLoading=!1,z.preloader.hide(),alert("May the browser didn't support or there is some errors.")})}catch(i){console.log("createCameraElement()",i)}},stopCameraStream(){console.log("stopCameraStream()",this.isCameraOpen),this.$refs.camera.srcObject.getTracks().forEach(i=>{i.stop()})},async takePhoto(){if(console.log("takePhoto",this.countImages,this.maxImages),this.countImages>=this.maxImages){z.dialog.alert("B\u1EA1n \u0111\xE3 ch\u1EE5p t\u1EDBi gi\u1EDBi h\u1EA1n l\xE0 "+this.countImages+" t\u1EA5m!");return}this.isPhotoTaken||(this.isShotPhoto=!0,setTimeout(()=>{this.isShotPhoto=!1},50)),this.computeFrame(),this.isPhotoTaken=!this.isPhotoTaken,this.dataUrl=this.photoTaken.toDataURL(),await this.uploadImage()},async uploadImage(){const e=this.photoTaken.toDataURL("image/jpeg",.9);var i=this.dataURItoBlob(e);const a=new FormData;a.append("canvasImage",i);try{let u="https://media.vinaas.com/upload/qrcare-vn";const{data:n}=await this.$axios.post(u,a,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}});if(n&&n.id){const r="https://apps.vinaas.com/file/"+n.id;this.imageUrls.push(r),this.$emit("uploaded",r)}}catch(u){console.log("err",u)}finally{}this.isPhotoTaken=!this.isPhotoTaken},dataURItoBlob(e){var i;e.split(",")[0].indexOf("base64")>=0?i=atob(e.split(",")[1]):i=unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],u=new Uint8Array(i.length),n=0;n<i.length;n++)u[n]=i.charCodeAt(n);return new Blob([u],{type:a})}}},Qs={class:"web-camera-container"},Bs=["width","height"],Vs=["src","width","height"],zs={id:"photoTaken"},Ms=c(" Ch\u1EE5p h\xECnh"),Ys=c("Close");function Fs(e,i,a,u,n,r){const f=l("f7-icon"),y=l("f7-button"),p=l("f7-col"),m=l("f7-row"),h=l("f7-block");return _(),b(h,null,{default:s(()=>[o("div",Qs,[n.isCameraOpen?q((_(),I("div",{key:0,class:ee(["camera-box",{flash:n.isShotPhoto}])},[o("div",{class:ee(["camera-shutter",{flash:n.isShotPhoto}])},null,2),q(o("video",{id:"camera-video",ref:"camera",width:n.width/2,height:n.height/2,autoplay:"",muted:"",playsinline:""},null,8,Bs),[[L,!n.isPhotoTaken]]),q(o("img",{src:n.dataUrl,id:"showPhotoTaken",width:n.height/8*3,height:n.height/2},null,8,Vs),[[L,n.isPhotoTaken]]),q(o("canvas",zs,null,512),[[L,!1]])],2)),[[L,!n.isLoading]]):C("",!0)]),n.isCameraOpen?(_(),b(m,{key:1},{default:s(()=>[t(p,{width:"30"},{default:s(()=>[n.isCameraOpen?(_(),b(y,{key:0,raised:"",round:"",large:"",color:"gray",onClick:r.toggleCamera},{default:s(()=>[Ys]),_:1},8,["onClick"])):C("",!0)]),_:1}),t(p,{width:"10"}),t(p,{width:"60"},{default:s(()=>[n.isCameraOpen?(_(),b(y,{key:0,raised:"",outline:"",round:"",large:"",onClick:r.takePhoto},{default:s(()=>[t(f,{f7:"camera"})]),_:1},8,["onClick"])):C("",!0)]),_:1})]),_:1})):(_(),b(m,{key:0},{default:s(()=>[t(p,{width:"100"},{default:s(()=>[t(y,{raised:"",outline:"",round:"",large:"",onClick:r.toggleCamera},{default:s(()=>[t(f,{f7:"camera"}),Ms]),_:1},8,["onClick"])]),_:1})]),_:1}))]),_:1})}var me=x(Ns,[["render",Fs],["__scopeId","data-v-01ed4286"]]);const js={props:["modelValue","label"],emits:["update:modelValue"],template:`
  <li class="item-content item-input item-input-outline">
    <div class="item-media">
      <i class="f7-icons">house</i>
    </div>
    <div class="item-inner">
      <div class="item-title item-label">{{label}}</div>
      <div class="item-input-wrap">
        <input type="text" name="name" :value="modelValue"
        @input="$emit('update:modelValue', $event.target.value)" />
        <span class="input-clear-button"></span>
      </div>
    </div>
  </li>  
  `},Ks={props:["modelValue","label"],emits:["update:modelValue"],template:`
  <li class="item-content item-input item-input-outline">
    <div class="item-media">
      <i class="f7-icons">house</i>
    </div>
    <div class="item-inner">
      <div class="item-title item-label">{{label}}</div>
      <div class="item-input-wrap">
      <textarea class="resizable" :value="modelValue"
      @input="$emit('update:modelValue', $event.target.value)" ></textarea>
      <span class="input-clear-button"></span>
      </div>
    </div>
  </li> 
  `};const Hs={components:{"image-upload":me,"title-input":js,description:Ks},props:{f7route:Object,f7router:Object},setup(){const e=j("user");return Ie(()=>{O.dispatch("getUser")}),{loading:j("loading"),user:e,loadUsers:()=>{O.dispatch("getUser")}}},data(){return{title:"tieu de",description:"t\xEDnh n\u0103ng ch\xEDnh c\u1EE7a qrcare l\xE0 \u0111\u01A1n gi\u1EA3n",enablePopup:{imageCapture:!1},urls:[],isCameraOpen:!1}},methods:{showUrl(e){},toggleCamera(e){console.log("toggleCamera()",e),this.isCameraOpen=e},clickLogin(){this.f7router.navigate("/login/")},clickClose(){this.toggleCamera(),this.enablePopup.imageCapture=!1},clickImageCapture(){this.enablePopup.imageCapture=!0}}},P=e=>(ce("data-v-1e0a81c8"),e=e(),de(),e),Gs=c(" Load Users "),Ws=c("Ki\u1EC3m tra t\xEDnh n\u0103ng input"),Js={class:"list"},Xs=P(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Zs=P(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),en=P(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),tn=c("Swipe To Close"),on=c("Show Camera Popup"),sn=c("Login"),nn=c("H\u01B0\u1EDBng d\u1EABn!"),ln=P(()=>o("p",null,"QRLogin \u0111\u1EC3 \u0111\u0103ng nh\u1EADp c\xF3 h\xECnh ",-1)),an=P(()=>o("img",{height:"200",src:"https://apps.vinaas.com/file/lVqOaFfB1"},null,-1)),rn=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),cn=P(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),dn=P(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),un=P(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),_n=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),pn=P(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),hn=P(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),fn=P(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),gn=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),mn=P(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),vn=P(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),yn=P(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),bn=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),kn=P(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),In=P(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),wn=P(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Cn=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Tn=P(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),An=P(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),En=P(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Un=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),xn=P(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Dn=P(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Rn=P(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Pn=["src"];function Sn(e,i,a,u,n,r){const f=l("f7-navbar"),y=l("f7-button"),p=l("f7-block-title"),m=l("title-input"),h=l("description"),k=l("f7-icon"),v=l("f7-list-input"),A=l("f7-list"),w=l("f7-block"),U=l("f7-card-header"),T=l("f7-card-content"),V=l("f7-card"),E=l("f7-page-content"),$=l("f7-sheet"),X=l("image-upload"),F=l("f7-col"),S=l("f7-row"),K=l("f7-page"),W=l("f7-view"),N=l("f7-popup");return _(),b(K,{name:"about"},{default:s(()=>[t(f,{title:"About","back-link":"Back"}),t(w,null,{default:s(()=>[t(y,{fill:"",preloader:"",loading:u.loading,onClick:u.loadUsers},{default:s(()=>[Gs]),_:1},8,["loading","onClick"]),t(p,null,{default:s(()=>[Ws]),_:1}),o("div",Js,[o("ul",null,[o("li",null,d(n.title),1),t(m,{modelValue:n.title,"onUpdate:modelValue":i[0]||(i[0]=Y=>n.title=Y),label:"ti\xEAu \u0111\u1EC1"},null,8,["modelValue"]),C("",!0),t(h,{modelValue:n.description,"onUpdate:modelValue":i[2]||(i[2]=Y=>n.description=Y),label:"Mo ta"},null,8,["modelValue"])])]),t(A,{"no-hairlines-md":""},{default:s(()=>[t(v,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"",validate:"","clear-button":""},{default:s(()=>[t(k,{icon:"demo-list-icon",slot:"media"})]),_:1}),t(v,{outline:"",label:"M\u1EADt kh\u1EA9u","floating-label":"",type:"password",placeholder:"nh\u1EADp m\u1EADt kh\u1EA9u","clear-button":""}),t(v,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":""},{default:s(()=>[t(k,{icon:"demo-list-icon",slot:"media"})]),_:1}),t(v,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","error-message":"b\u1EA1n \u0111\xE3 nh\u1EADp qu\xE1 d\xE0i!","clear-button":""})]),_:1})]),_:1}),t(V,null,{default:s(()=>[t(U,null,{default:s(()=>[c(d(a.f7router.app.version)+" "+d(a.f7router.app.name)+" Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup",1)]),_:1}),t(T,null,{default:s(()=>[Xs,Zs,en]),_:1})]),_:1}),t(y,{fill:"","sheet-open":".demo-sheet-swipe-to-close"},{default:s(()=>[tn]),_:1}),t(y,{fill:"",onClick:r.clickImageCapture},{default:s(()=>[on]),_:1},8,["onClick"]),t(y,{fill:"",onClick:r.clickLogin},{default:s(()=>[sn]),_:1},8,["onClick"]),t($,{class:"demo-sheet-swipe-to-close",style:{height:"auto","--f7-sheet-bg-color":"#fff"},"swipe-to-close":"",backdrop:""},{default:s(()=>[t(E,null,{default:s(()=>[t(p,{large:""},{default:s(()=>[nn]),_:1}),t(w,null,{default:s(()=>[ln,an]),_:1})]),_:1})]),_:1}),t(N,{id:"image-capture",opened:n.enablePopup.imageCapture,"onUpdate:opened":i[3]||(i[3]=Y=>n.enablePopup.imageCapture=Y)},{default:s(()=>[t(W,null,{default:s(()=>[t(K,null,{default:s(()=>[t(V,null,{default:s(()=>[t(U,null,{default:s(()=>[rn]),_:1}),t(T,null,{default:s(()=>[cn,dn,un]),_:1})]),_:1}),t(V,null,{default:s(()=>[t(U,null,{default:s(()=>[_n]),_:1}),t(T,null,{default:s(()=>[pn,hn,fn]),_:1})]),_:1}),t(V,null,{default:s(()=>[t(U,null,{default:s(()=>[gn]),_:1}),t(T,null,{default:s(()=>[mn,vn,yn]),_:1})]),_:1}),t(V,null,{default:s(()=>[t(U,null,{default:s(()=>[bn]),_:1}),t(T,null,{default:s(()=>[kn,In,wn]),_:1})]),_:1}),t(V,null,{default:s(()=>[t(U,null,{default:s(()=>[Cn]),_:1}),t(T,null,{default:s(()=>[Tn,An,En]),_:1})]),_:1}),t(V,null,{default:s(()=>[t(U,null,{default:s(()=>[Un]),_:1}),t(T,null,{default:s(()=>[xn,Dn,Rn]),_:1})]),_:1}),t(X,{countImages:"0",maxImages:"4",isCameraOpen:n.isCameraOpen,onToggleCamera:r.toggleCamera,onUploaded:r.showUrl},null,8,["isCameraOpen","onToggleCamera","onUploaded"]),t(S,null,{default:s(()=>[(_(!0),I(R,null,B(n.urls,Y=>(_(),b(F,{width:"50",key:Y},{default:s(()=>[o("img",{width:"100",src:Y},null,8,Pn)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var $n=x(Hs,[["render",Sn],["__scopeId","data-v-1e0a81c8"]]);const On={},qn=c("Form Example"),Ln=o("option",null,"Male",-1),Nn=o("option",null,"Female",-1),Qn=c("Buttons"),Bn=c("Button"),Vn=c("Fill"),zn=c("Raised"),Mn=c("Raised Fill"),Yn=c("Round"),Fn=c("Round Fill"),jn=c("Outline"),Kn=c("Outline Round"),Hn=c("Small"),Gn=c("Small Round"),Wn=c("Small"),Jn=c("Small Round"),Xn=c("Large"),Zn=c("Large Fill"),el=c("Large Red"),tl=c("Large Green"),il=c("Checkbox group"),ol=c("Radio buttons group");function sl(e,i){const a=l("f7-navbar"),u=l("f7-block-title"),n=l("f7-list-input"),r=l("f7-toggle"),f=l("f7-list-item"),y=l("f7-range"),p=l("f7-list"),m=l("f7-button"),h=l("f7-row"),k=l("f7-block"),v=l("f7-page");return _(),b(v,{name:"form"},{default:s(()=>[t(a,{title:"Form","back-link":"Back"}),t(u,null,{default:s(()=>[qn]),_:1}),t(p,{"no-hairlines-md":""},{default:s(()=>[t(n,{label:"Name",type:"text",placeholder:"Your name"}),t(n,{label:"E-mail",type:"email",placeholder:"E-mail"}),t(n,{label:"URL",type:"url",placeholder:"URL"}),t(n,{label:"Password",type:"password",placeholder:"Password"}),t(n,{label:"Phone",type:"tel",placeholder:"Phone"}),t(n,{label:"Gender",type:"select"},{default:s(()=>[Ln,Nn]),_:1}),t(n,{label:"Birth date",type:"date",placeholder:"Birth day",defaultValue:"2014-04-30"}),t(f,{title:"Toggle"},{after:s(()=>[t(r)]),_:1}),t(n,{label:"Range",input:!1},{input:s(()=>[t(y,{value:50,min:0,max:100,step:1})]),_:1}),t(n,{type:"textarea",label:"Textarea",placeholder:"Bio"}),t(n,{type:"textarea",label:"Resizable",placeholder:"Bio",resizable:""})]),_:1}),t(u,null,{default:s(()=>[Qn]),_:1}),t(k,{strong:""},{default:s(()=>[t(h,{tag:"p"},{default:s(()=>[t(m,{class:"col"},{default:s(()=>[Bn]),_:1}),t(m,{class:"col",fill:""},{default:s(()=>[Vn]),_:1})]),_:1}),t(h,{tag:"p"},{default:s(()=>[t(m,{class:"col",raised:""},{default:s(()=>[zn]),_:1}),t(m,{class:"col",raised:"",fill:""},{default:s(()=>[Mn]),_:1})]),_:1}),t(h,{tag:"p"},{default:s(()=>[t(m,{class:"col",round:""},{default:s(()=>[Yn]),_:1}),t(m,{class:"col",round:"",fill:""},{default:s(()=>[Fn]),_:1})]),_:1}),t(h,{tag:"p"},{default:s(()=>[t(m,{class:"col",outline:""},{default:s(()=>[jn]),_:1}),t(m,{class:"col",round:"",outline:""},{default:s(()=>[Kn]),_:1})]),_:1}),t(h,{tag:"p"},{default:s(()=>[t(m,{class:"col",small:"",outline:""},{default:s(()=>[Hn]),_:1}),t(m,{class:"col",small:"",round:"",outline:""},{default:s(()=>[Gn]),_:1})]),_:1}),t(h,{tag:"p"},{default:s(()=>[t(m,{class:"col",small:"",fill:""},{default:s(()=>[Wn]),_:1}),t(m,{class:"col",small:"",round:"",fill:""},{default:s(()=>[Jn]),_:1})]),_:1}),t(h,{tag:"p"},{default:s(()=>[t(m,{class:"col",large:"",raised:""},{default:s(()=>[Xn]),_:1}),t(m,{class:"col",large:"",fill:"",raised:""},{default:s(()=>[Zn]),_:1})]),_:1}),t(h,{tag:"p"},{default:s(()=>[t(m,{class:"col",large:"",fill:"",raised:"",color:"red"},{default:s(()=>[el]),_:1}),t(m,{class:"col",large:"",fill:"",raised:"",color:"green"},{default:s(()=>[tl]),_:1})]),_:1})]),_:1}),t(u,null,{default:s(()=>[il]),_:1}),t(p,null,{default:s(()=>[t(f,{checkbox:"",name:"my-checkbox",value:"Books",title:"Books"}),t(f,{checkbox:"",name:"my-checkbox",value:"Movies",title:"Movies"}),t(f,{checkbox:"",name:"my-checkbox",value:"Food",title:"Food"})]),_:1}),t(u,null,{default:s(()=>[ol]),_:1}),t(p,null,{default:s(()=>[t(f,{radio:"",name:"radio",value:"Books",title:"Books"}),t(f,{radio:"",name:"radio",value:"Movies",title:"Movies"}),t(f,{radio:"",name:"radio",value:"Food",title:"Food"})]),_:1})]),_:1})}var nl=x(On,[["render",sl]]);const ll={},al=o("p",null,"Sorry",-1),rl=o("p",null,"Requested content not found.",-1);function cl(e,i,a,u,n,r){const f=l("f7-navbar"),y=l("f7-block"),p=l("f7-page");return _(),b(p,null,{default:s(()=>[t(f,{title:"Not found","back-link":"Back"}),t(y,{strong:""},{default:s(()=>[al,rl]),_:1})]),_:1})}var dl=x(ll,[["render",cl]]);const ul={components:{ImageUpload:me},props:{f7route:Object,f7router:Object},setup(){const e=j("isLogged"),i=O.state.user;return{isLogged:e,userInfo:i}},data(){return{activityImages:0,maxActivityImages:2,deviceImages:0,maxDeviceImages:4,isCameraOpen:!1,isCameraOpen2:!1,enablePopup:{editDevice:!1,editUser:!1,activeUsing:!1,sendRequest:!1,addNote:!1,submitTask:!1,confirmTask:!1,activity:!1},listSupplier:[],qrid:{},history:[],supporter:{},supplier:{},activity:{},view_activity:{},ACT_POPUP:{nar_bar_title:"G\u1EEDi y\xEAu c\u1EA7u"},isSellProduct:!0}},computed:{isEdit(){return this.isLogged},isActive(){return this.qrid.status?this.qrid.status=="QRID_STATUS.ACTIVE":!0},hasData(){return this.qrid.title&&this.qrid.ownerName},listHistory(){return this.history}},methods:{formatDate(e){return this.$utils.formatDate(e)},formatDateTime(e){return this.$utils.formatDateTime(e)},formatMoney(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(e)},clickLogin(){this.f7router.navigate("/login/")},clickLogout(){O.dispatch("logout")},clickEditDevice(){if(this.deviceImages=0,this.qrid.imageUrls.length>0){const e=this.maxDeviceImages-this.qrid.imageUrls.length;console.log("diff",e),e>0?this.deviceImages=this.qrid.imageUrls.length:this.deviceImages=this.maxDeviceImages}console.log("clickEditDevice()",this.deviceImages,this.qrid.imageUrls,this.qrid.imageUrls.length),this.enablePopup.editDevice=!0},getActivityName(e){let i="";return e.type==="ACTIVITY.QR_REQUEST"&&(i+="Y\xEAu c\u1EA7u",e.status=="CREATED"&&(i+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRTASK"&&(i+="C\xF4ng vi\u1EC7c",e.status=="CREATED"&&(i+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(i="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(i="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),e.type==="ACTIVITY.QRNOTE"&&(i+="Ghi ch\xFA",e.status=="CREATED"&&(i+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRDelivery"&&(i+="B\xE0n giao",e.status=="CREATED"&&(i+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(i+="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(i+="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),i},getActivityColor(e){if(e.type==="ACTIVITY.QR_REQUEST")return"item-title text-color-orange";if(e.type==="ACTIVITY.QRTASK"){if(e.status==="CONFIRMED")return"item-title text-color-green";if(e.status==="CREATED")return"item-title text-color-blue"}return e.type==="ACTIVITY.QRNOTE"?"item-title text-color-blue":"item-title text-color-black"},toggleCamera(e){console.log("toggleCamera()",e),this.isCameraOpen=e},toggleCamera2(e){console.log("toggleCamera2()",e),this.isCameraOpen2=e},async addImageDevices(e){this.qrid.imageUrls||(this.qrid.imageUrls=[]),this.qrid.imageUrls.push(e),this.deviceImages++},async addImageActivity(e){this.activity.imageUrls||(this.activity.imageUrls=[]),this.activity.imageUrls.push(e),this.activityImages++},cancelEditDevice(){this.stopCameraImageUpload(),this.enablePopup.editDevice=!1},stopCameraImageUpload(){this.isCameraOpen&&this.$refs.deviceImages.toggleCamera(),this.isCameraOpen2&&this.$refs.activityImages.toggleCamera()},async processEditDevice(){this.isActive||(this.qrid.status="QRID_STATUS.EDITED",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id,this.isSellProduct?(this.qrid.sellerId=this.supporter.id,this.qrid.sellerName=this.supporter.name,this.qrid.sellerAddress=this.supporter.address):this.qrid.sellerId==this.supporter.id&&(this.qrid.sellerId=0,this.qrid.sellerName="",this.qrid.sellerAddress=""),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("editDevice()",this.qrid)),this.stopCameraImageUpload(),this.enablePopup.editDevice=!1},async editUser(){this.isActive||(this.qrid.status="QRID_STATUS.EDITED",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("editUser()",this.qrid),this.enablePopup.editUser=!1},clickActive(){this.enablePopup.activeUsing=!0},async activeUsing(){this.isActive||(this.qrid.status="QRID_STATUS.ACTIVE",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id,this.qrid.activatedDate=new Date),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("activeUsing()",this.qrid),this.enablePopup.activeUsing=!1},clickSendRequest(e){e.type="ACTIVITY.QR_REQUEST",this.activity=e,this.ACT_POPUP={nar_bar_title:"Y\xEAu c\u1EA7u m\u1EDBi nh\u1EADn",content:"N\u1ED9i dung y\xEAu c\u1EA7u",sender:"Kh\xE1ch h\xE0ng g\u1EEDi",receiver:"B\xEAn ti\u1EBFp nh\u1EADn",action:"G\u1EEDi y\xEAu c\u1EA7u",action_footer:"Sau khi nh\u1EADn y\xEAu c\u1EA7u, ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},clickAddNote(e){e.type="ACTIVITY.QRNOTE",e.supplierOrganizationId=0,this.activity=e,this.ACT_POPUP={nar_bar_title:"N\u1ED9i dung ghi ch\xFA",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi ghi ch\xFA",receiver:"",action:"L\u01B0u Ghi ch\xFA",action_footer:"Ghi ch\xFA n\xE0y ch\u1EC9 \u0111\u01B0\u1EE3c th\u1EA5y khi qu\xE9t Th\u1EBB"},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},async clickViewActivity(e){if(this.view_activity=e,this.view_activity.supplierOrganizationId||(this.view_activity.supplierOrganizationId=111),this.view_activity.supplierOrganizationId==this.supporter.id)this.supplier=this.supporter;else{var i=await this.$axios.get("/Organizations/"+this.view_activity.supplierOrganizationId);i&&i.data&&(this.supplier=i.data)}this.view_activity.type=="ACTIVITY.QRTASK"&&(this.view_activity.status=="CREATED"&&(this.ACT_POPUP={nar_bar_title:"Ch\u1EDD x\xE1c nh\u1EADn",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"Sau khi x\xE1c nh\u1EADn, c\xF4ng vi\u1EC7c \u0111\xE3 k\u1EBFt th\xFAc."}),this.view_activity.status=="CONFIRMED"&&(this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c \u0111\u01B0\u1EE3c x\xE1c nh\u1EADn",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"C\xF4ng vi\u1EC7c \u0111\xE3 k\u1EBFt th\xFAc, c\u1EA3m \u01A1n qu\xFD kh\xE1ch \u0111\xE3 l\u1EF1a ch\u1ECDn!"}),this.view_activity.status=="REJECTED"&&(this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c b\u1ECB t\u1EEB ch\u1ED1i",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"T\u1EEB ch\u1ED1i",action_footer:""})),this.view_activity.type=="ACTIVITY.QR_REQUEST"&&(this.ACT_POPUP={nar_bar_title:"Y\xEAu c\u1EA7u \u0111\xE3 g\u1EEDi",content:"N\u1ED9i dung y\xEAu c\u1EA7u",sender:"Kh\xE1ch h\xE0ng g\u1EEDi",receiver:"B\xEAn ti\u1EBFp nh\u1EADn",action_footer:"Ch\xFAng t\xF4i \u0111\xE3 ti\u1EBFp nh\u1EADn, s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."}),this.view_activity.type=="ACTIVITY.QRNOTE"&&(this.ACT_POPUP={nar_bar_title:"Ghi ch\xFA \u0111\xE3 l\u01B0u",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi ghi ch\xFA",receiver:"",action_footer:"Ch\xFAng t\xF4i \u0111\xE3 ti\u1EBFp nh\u1EADn, s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."}),console.log("clickViewActivity()",this.view_activity),this.enablePopup.view_activity=!0},async confirmQRTask(){let e={id:this.view_activity.id,userComment:this.view_activity.userComment,status:"CONFIRMED",modified:new Date};await this.patchActivity(e)},async rejectQRTask(){let e={id:this.view_activity.id,userComment:this.view_activity.userComment,status:"REJECTED",modified:new Date};await this.patchActivity(e)},clickNewActivity(e){const i=this.supporter;let a={qrid:this.qrid.id,title:"",description:"",imageUrls:[],customerName:this.qrid.ownerName,customerPhoneNumber:this.qrid.ownerPhoneNumber,customerAddress:this.qrid.ownerAddress,supplierOrganizationId:i.id,status:"CREATED",created:new Date};this.supplier=i,console.log("clickNewActivity()",a,this.supplier),e=="SEND_REQUEST"&&this.clickSendRequest(a),e=="ADD_NOTE"&&this.clickAddNote(a),e=="SUBMIT_TASK"&&this.clickSubmitTask(a)},clickSubmitTask(e){e.type="ACTIVITY.QRTASK",e.supplierStaffId=this.userInfo.id,this.activity=e,this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c \u0111\xE3 th\u1EF1c hi\u1EC7n",content:"Chi ti\u1EBFt c\xF4ng vi\u1EC7c",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"",action:"G\u1EEDi k\u1EBFt qu\u1EA3",action_footer:"Sau khi nh\u1EADn y\xEAu c\u1EA7u, ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},async closeNewActivity(){this.stopCameraImageUpload(),this.enablePopup.activity=!1},async postActivity(){let e=await this.$axios.post("/QRActivities",this.activity);console.log("rs",e),this.history.unshift(e.data),this.stopCameraImageUpload(),this.enablePopup.activity=!1},async patchActivity(e){let i=await this.$axios.patch("/QRActivities/"+e.id,e);if(console.log("rs",i.data),i.data){for(var a in this.history)if(this.history[a].id==i.data.id){this.history[a]=i.data;break}}this.enablePopup.view_activity=!1},changeDesc(e,i){for(var a in projects)if(projects[a].value==e){projects[a].desc=i;break}},async getDeviceData(){try{var e=this.f7route.params.id,i=this.f7route.params.privateCode;this.$axios.defaults.baseURL=M.BASE_URL;var a=await this.$axios.get("QRIDs/getLifecycle",{params:{qrid:e,privateCode:i}}),u=a.data;console.log(u),u&&u.id&&(this.qrid=u,this.supporter=this.qrid.supporter,this.history=this.qrid.history)}catch(n){console.log("error",n)}}},async created(){await Promise.all([this.getDeviceData()])}},_l=c("\u0110\u0103ng nh\u1EADp"),pl=c("\u0110\u0103ng xu\u1EA5t"),hl=c("\u0110\u01A1n v\u1ECB ph\xE1t h\xE0nh Th\u1EBB"),fl={key:0},gl=c("\u0110\xE3 \u0111\u0103ng nh\u1EADp b\u1EDFi"),ml=c("V\xF2ng \u0111\u1EDDi thi\u1EBFt b\u1ECB"),vl={key:0},yl=c(" Th\xF4ng tin thi\u1EBFt b\u1ECB "),bl=c("Edit"),kl={class:"list media-list no-hairlines-between"},Il={class:"item-content"},wl={class:"item-inner"},Cl={class:"item-title"},Tl={class:"item-content"},Al={class:"item-inner"},El=["innerHTML"],Ul=["src"],xl={key:0},Dl={class:"item-content"},Rl={class:"item-inner"},Pl={class:"item-title"},Sl={class:"item-checkbox item-content"},$l={class:"item-inner"},Ol=o("div",{class:"item-title-row"},[o("div",{class:"item-title"},"S\u1EA3n ph\u1EA9m c\u1EE7a")],-1),ql={class:"item-subtitle"},Ll={class:"item-text"},Nl=o("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),Ql=c(" Kh\xE1ch h\xE0ng s\u1EED d\u1EE5ng "),Bl=c("Edit"),Vl={class:"list media-list no-hairlines-between"},zl={class:"item-content"},Ml=o("div",{class:"item-media"},[o("i",{class:"f7-icons"},"person_fill")],-1),Yl={class:"item-inner"},Fl={class:"item-title"},jl={key:0},Kl={class:"item-content"},Hl=o("div",{class:"item-media"},[o("i",{class:"f7-icons"},"device_phone_portrait")],-1),Gl={class:"item-inner"},Wl={class:"item-subtitle"},Jl={class:"item-content"},Xl=o("div",{class:"item-media"},[o("i",{class:"f7-icons"},"house")],-1),Zl={class:"item-inner"},ea={class:"item-subtitle"},ta=o("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),ia=c("L\u1ECBch s\u1EED ho\u1EA1t \u0111\u1ED9ng"),oa={class:"list media-list medium-inset"},sa=["onClick"],na={class:"item-media"},la=["src"],aa={class:"item-inner"},ra={class:"item-header"},ca={class:"item-title-row"},da=o("div",{class:"item-after"},null,-1),ua={class:"item-subtitle"},_a={class:"item-text"},pa={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},ha=c("Th\u1EBB \u0111\u01B0\u1EE3c ph\xE1t h\xE0nh b\u1EDFi "),fa=["src"],ga=o("i",{class:"f7-icons"},"xmark_circle",-1),ma=c("Cancel"),va=o("i",{class:"f7-icons"},"cloud_upload",-1),ya=c("L\u01B0u"),ba=c("Ng\u01B0\u1EDDi s\u1EDF h\u1EEFu (mua) thi\u1EBFt b\u1ECB"),ka=o("i",{class:"f7-icons"},"xmark_circle",-1),Ia=c("Cancel"),wa=c("C\u1EADp nh\u1EADt"),Ca=c("X\xE1c nh\u1EADn th\xF4ng tin"),Ta=c("sau khi k\xEDch ho\u1EA1t, kh\xF4ng th\u1EC3 thay \u0111\u1ED5i th\xF4ng tin c\u1EE7a Th\u1EBB. B\u1EA1n c\xF3 d\xE1m ch\u1EAFc"),Aa=o("i",{class:"f7-icons"},"xmark_circle",-1),Ea=c("Hu\u1EF7"),Ua=o("i",{class:"f7-icons"},"checkmark_circle",-1),xa=c(" X\xE1c nh\u1EADn"),Da=["src"],Ra=o("i",{class:"f7-icons"},"xmark_circle",-1),Pa=c("Hu\u1EF7"),Sa=o("i",{class:"f7-icons"},"checkmark_circle",-1),$a=["src"],Oa=c("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),qa=c("ch\u01B0a c\xF3"),La=c("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),Na=c("T\u1EEB ch\u1ED1i"),Qa=o("i",{class:"f7-icons"},"checkmark_circle",-1),Ba=c("X\xE1c nh\u1EADn"),Va=o("i",{class:"f7-icons"},"xmark_circle",-1),za=c(" \u0110\xF3ng");function Ma(e,i,a,u,n,r){const f=l("f7-navbar"),y=l("f7-link"),p=l("f7-list"),m=l("f7-block"),h=l("f7-block-title"),k=l("f7-card-header"),v=l("f7-card-content"),A=l("f7-card"),w=l("f7-page"),U=l("f7-view"),T=l("f7-panel"),V=l("f7-nav-right"),E=l("f7-nav-title"),$=l("f7-button"),X=l("f7-swiper-slide"),F=l("f7-swiper"),S=l("f7-list-item"),K=l("f7-icon"),W=l("f7-fab"),N=l("f7-list-input"),Y=l("image-upload"),Q=l("f7-col"),H=l("f7-row"),Z=l("f7-popup"),ye=l("f7-card-footer"),ae=l("f7-block-footer");return _(),b(w,null,{default:s(()=>[t(T,{left:"",cover:"","theme-dark":""},{default:s(()=>[t(U,null,{default:s(()=>[t(w,null,{default:s(()=>[t(f,{title:a.f7router.app.name+" v"+a.f7router.app.version},null,8,["title"]),t(m,null,{default:s(()=>[t(p,null,{default:s(()=>[r.isEdit?C("",!0):(_(),b(y,{key:0,onClick:i[0]||(i[0]=g=>r.clickLogin()),"data-view":".view-main",class:"item-content item-link panel-close"},{default:s(()=>[_l]),_:1})),r.isEdit?(_(),b(y,{key:1,onClick:i[1]||(i[1]=g=>r.clickLogout()),"data-view":".view-main",class:"item-content item-link panel-close"},{default:s(()=>[pl]),_:1})):C("",!0)]),_:1})]),_:1}),t(h,null,{default:s(()=>[hl]),_:1}),t(A,null,{default:s(()=>[t(k,null,{default:s(()=>[c(d(n.supporter.name),1)]),_:1}),t(v,null,{default:s(()=>[o("p",null,d(n.supporter.address),1),o("p",null,"Ng\xE0y ph\xE1t h\xE0nh "+d(r.formatDate(n.qrid.created)),1),r.isActive?(_(),I("p",fl," Ng\xE0y k\xEDch ho\u1EA1t "+d(r.formatDate(n.qrid.activatedDate)),1)):C("",!0)]),_:1})]),_:1}),u.userInfo.id?(_(),b(A,{key:0},{default:s(()=>[t(k,null,{default:s(()=>[gl]),_:1}),t(v,null,{default:s(()=>[c(d(u.userInfo.username)+", vai tr\xF2: "+d(u.userInfo.roleCode)+", id: "+d(u.userInfo.id),1)]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1}),t(f,{sliding:!1},{default:s(()=>[t(V,null,{default:s(()=>[t(y,{"icon-ios":"f7:menu","icon-aurora":"f7:menu","icon-md":"material:menu","panel-open":"left"})]),_:1}),t(E,{sliding:""},{default:s(()=>[ml]),_:1})]),_:1}),t(A,{"bg-color":r.isActive?"blue":"red"},{default:s(()=>[t(k,null,{default:s(()=>[c("ID: "+d(a.f7route.params.id),1),r.isActive?C("",!0):(_(),I("span",vl,"ch\u01B0a k\xEDch ho\u1EA1t"))]),_:1})]),_:1},8,["bg-color"]),t(A,null,{default:s(()=>[t(k,{"bg-color":"green"},{default:s(()=>[yl,!r.isActive&&r.isEdit?(_(),b($,{key:0,onClick:r.clickEditDevice},{default:s(()=>[bl]),_:1},8,["onClick"])):C("",!0)]),_:1}),n.qrid.title?(_(),b(v,{key:0},{default:s(()=>[o("div",kl,[o("ul",null,[o("li",null,[o("div",Il,[o("div",wl,[o("div",Cl,d(n.qrid.title),1)])])]),o("li",null,[o("div",Tl,[o("div",Al,[o("div",{class:"item-text",innerHTML:n.qrid.description},null,8,El)])])]),o("li",null,[t(F,{speed:500,slidesPerView:2,spaceBetween:10},{default:s(()=>[(_(!0),I(R,null,B(n.qrid.imageUrls,g=>(_(),b(X,{key:g},{default:s(()=>[o("img",{class:"small",src:g},null,8,Ul)]),_:2},1024))),128))]),_:1})]),r.isActive?(_(),I("li",xl,[o("div",Dl,[o("div",Rl,[o("div",Pl," Ng\xE0y k\xEDch ho\u1EA1t: "+d(r.formatDate(n.qrid.activatedDate)),1)])])])):C("",!0),o("li",null,[o("label",Sl,[o("div",$l,[Ol,o("div",ql,d(n.qrid.sellerName),1),o("div",Ll,d(n.qrid.sellerAddress),1)])])])])])]),_:1})):(_(),b(v,{key:1},{default:s(()=>[Nl]),_:1}))]),_:1}),t(A,null,{default:s(()=>[t(k,{"bg-color":"green"},{default:s(()=>[Ql,!r.isActive&&r.isEdit?(_(),b($,{key:0,"popup-open":"#edit-user"},{default:s(()=>[Bl]),_:1})):C("",!0)]),_:1}),n.qrid.ownerName?(_(),b(v,{key:0},{default:s(()=>[o("div",Vl,[o("ul",null,[o("li",null,[o("div",zl,[Ml,o("div",Yl,[o("div",Fl,d(n.qrid.ownerName),1)])])]),n.qrid.ownerPhoneNumber?(_(),I("li",jl,[o("div",Kl,[Hl,o("div",Gl,[o("div",Wl,d(n.qrid.ownerPhoneNumber),1)])])])):C("",!0),o("li",null,[o("div",Jl,[Xl,o("div",Zl,[o("div",ea,d(n.qrid.ownerAddress),1)])])])])])]),_:1})):(_(),b(v,{key:1},{default:s(()=>[ta]),_:1}))]),_:1}),r.isActive?(_(),b(h,{key:0},{default:s(()=>[ia]),_:1})):C("",!0),o("div",oa,[o("ul",null,[(_(!0),I(R,null,B(n.history,g=>(_(),I("li",{key:g.id},[o("a",{onClick:Uc=>r.clickViewActivity(g),class:"item-link item-content chevron-center"},[o("div",na,[o("img",{style:{border:"1px solid #ccc"},src:g.imageUrls&&g.imageUrls[0]?g.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,la)]),o("div",aa,[o("div",ra,d(r.formatDateTime(g.modified)),1),o("div",ca,[o("div",{class:ee(r.getActivityColor(g)),style:{"font-size":"16px"}},d(r.getActivityName(g)),3),da]),o("div",ua,d(g.title),1),o("div",_a,d(g.description),1),o("div",pa,d(g.money>0?r.formatMoney(g.money):" "),1)])],8,sa)]))),128))])]),r.isActive?C("",!0):(_(),b(A,{key:1},{default:s(()=>[t(k,null,{default:s(()=>[ha]),_:1}),t(v,null,{default:s(()=>[t(p,null,{default:s(()=>[t(S,null,{default:s(()=>[c(d(n.supporter.name),1)]),_:1})]),_:1})]),_:1})]),_:1})),!r.isActive&&!r.isEdit?(_(),b(W,{key:2,position:"center-bottom",text:"\u0110\u0103ng nh\u1EADp",color:"red",onClick:i[2]||(i[2]=g=>r.clickLogin())},{default:s(()=>[t(K,{ios:"f7:lock_open",aurora:"f7:lock_open",md:"material:lock_open"})]),_:1})):C("",!0),!r.isActive&&r.isEdit&&r.hasData?(_(),b(W,{key:3,position:"center-bottom",text:"K\xEDch ho\u1EA1t",color:"red",onClick:i[3]||(i[3]=g=>r.clickActive())},{default:s(()=>[t(K,{ios:"f7:house",aurora:"f7:house",md:"material:house"})]),_:1})):C("",!0),r.isActive&&r.isEdit?(_(),b(W,{key:4,position:"center-bottom",text:"C\xF4ng vi\u1EC7c",color:"blue",onClick:i[4]||(i[4]=g=>r.clickNewActivity("SUBMIT_TASK"))},{default:s(()=>[t(K,{f7:"bell_fill"})]),_:1})):C("",!0),r.isActive&&!r.isEdit?(_(),b(W,{key:5,position:"left-bottom",text:"Ghi ch\xFA",color:"green",onClick:i[5]||(i[5]=g=>r.clickNewActivity("ADD_NOTE"))},{default:s(()=>[t(K,{f7:"pencil_ellipsis_rectangle"})]),_:1})):C("",!0),r.isActive&&!r.isEdit?(_(),b(W,{key:6,position:"right-bottom",text:"Y\xEAu c\u1EA7u",color:"blue",onClick:i[6]||(i[6]=g=>r.clickNewActivity("SEND_REQUEST"))},{default:s(()=>[t(K,{f7:"paperplane_fill"})]),_:1})):C("",!0),t(Z,{id:"edit-device",opened:n.enablePopup.editDevice,"onUpdate:opened":i[10]||(i[10]=g=>n.enablePopup.editDevice=g)},{default:s(()=>[t(U,null,{default:s(()=>[t(w,null,{default:s(()=>[t(f,{title:"C\u1EADp nh\u1EADt thi\u1EBFt b\u1ECB"}),t(m,null,{default:s(()=>[t(p,null,{default:s(()=>[t(N,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"T\xEAn thi\u1EBFt b\u1ECB","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.qrid.title,"onUpdate:value":i[7]||(i[7]=g=>n.qrid.title=g)},null,8,["value"])]),_:1})]),_:1}),t(m,null,{default:s(()=>[t(Y,{ref:"deviceImages",countImages:n.deviceImages,maxImages:n.maxDeviceImages,onToggleCamera:r.toggleCamera,onUploaded:r.addImageDevices},null,8,["countImages","maxImages","onToggleCamera","onUploaded"]),t(H,{"no-gap":""},{default:s(()=>[(_(!0),I(R,null,B(n.qrid.imageUrls,g=>(_(),b(Q,{width:"50",key:g},{default:s(()=>[o("img",{width:"100",src:g},null,8,fa)]),_:2},1024))),128))]),_:1}),t(p,null,{default:s(()=>[t(N,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:n.qrid.description,"onUpdate:value":i[8]||(i[8]=g=>n.qrid.description=g)},null,8,["value"])]),_:1}),t(p,{"media-list":""},{default:s(()=>[t(S,{checkbox:"",checked:"","onUpdate:checked":i[9]||(i[9]=g=>n.isSellProduct=g),title:"S\u1EA3n ph\u1EA9m c\u1EE7a",after:"",subtitle:n.supporter.name,text:n.supporter.address},null,8,["checked","subtitle","text"])]),_:1})]),_:1}),t(H,null,{default:s(()=>[t(Q,{width:"40"},{default:s(()=>[t($,{round:"",large:"",color:"gray",onClick:r.cancelEditDevice},{default:s(()=>[ga,ma]),_:1},8,["onClick"])]),_:1}),t(Q,{width:"60"},{default:s(()=>[t($,{fill:"",round:"",large:"",onClick:r.processEditDevice},{default:s(()=>[va,ya]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),t(Z,{id:"edit-user",opened:n.enablePopup.editUser,"onUpdate:opened":i[14]||(i[14]=g=>n.enablePopup.editUser=g)},{default:s(()=>[t(U,null,{default:s(()=>[t(w,null,{default:s(()=>[t(f,{title:"Th\xF4ng tin ng\u01B0\u1EDDi s\u1EED d\u1EE5ng"}),t(m,null,{default:s(()=>[t(h,null,{default:s(()=>[ba]),_:1}),t(p,{"no-hairlines-md":""},{default:s(()=>[t(N,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:n.qrid.ownerName,"onUpdate:value":i[11]||(i[11]=g=>n.qrid.ownerName=g)},null,8,["value"]),t(N,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:n.qrid.ownerPhoneNumber,"onUpdate:value":i[12]||(i[12]=g=>n.qrid.ownerPhoneNumber=g)},null,8,["value"]),t(N,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:n.qrid.ownerAddress,"onUpdate:value":i[13]||(i[13]=g=>n.qrid.ownerAddress=g)},null,8,["value"])]),_:1})]),_:1}),t(H,null,{default:s(()=>[t(Q,{width:"40"},{default:s(()=>[t($,{round:"",large:"",color:"gray","popup-close":""},{default:s(()=>[ka,Ia]),_:1})]),_:1}),t(Q,{width:"60"},{default:s(()=>[t($,{fill:"",round:"",large:"",onClick:r.editUser},{default:s(()=>[wa]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),t(Z,{id:"active-using",opened:n.enablePopup.activeUsing,"onUpdate:opened":i[15]||(i[15]=g=>n.enablePopup.activeUsing=g)},{default:s(()=>[t(U,null,{default:s(()=>[t(w,null,{default:s(()=>[t(f,{title:"C\u1EA3nh b\xE1o"}),t(A,{strong:""},{default:s(()=>[t(k,null,{default:s(()=>[Ca]),_:1}),t(v,null,{default:s(()=>[Ta]),_:1}),t(ye,null,{default:s(()=>[t(Q,null,{default:s(()=>[t($,{"popup-close":""},{default:s(()=>[Aa,Ea]),_:1})]),_:1}),t(Q,null,{default:s(()=>[t($,{fill:"",onClick:r.activeUsing},{default:s(()=>[Ua,xa]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),t(Z,{id:"new-activity",opened:n.enablePopup.activity,"onUpdate:opened":i[22]||(i[22]=g=>n.enablePopup.activity=g)},{default:s(()=>[t(U,null,{default:s(()=>[t(w,null,{default:s(()=>[t(f,{title:n.ACT_POPUP.nar_bar_title},null,8,["title"]),t(A,null,{default:s(()=>[t(k,{"bg-color":"green"},{default:s(()=>[c(d(n.ACT_POPUP.content),1)]),_:1}),t(v,null,{default:s(()=>[t(p,null,{default:s(()=>[t(N,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"Ti\xEAu \u0111\u1EC1","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.activity.title,"onUpdate:value":i[16]||(i[16]=g=>n.activity.title=g)},null,8,["value"]),t(N,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:n.activity.description,"onUpdate:value":i[17]||(i[17]=g=>n.activity.description=g)},null,8,["value"]),n.activity.type=="ACTIVITY.QRTASK"?(_(),b(N,{key:0,outline:"",type:"number",label:"Ti\u1EC1n \u0111\xE3 thu","floating-label":"",placeholder:"","clear-button":"",value:n.activity.money,"onUpdate:value":i[18]||(i[18]=g=>n.activity.money=g)},null,8,["value"])):C("",!0),n.activity.type=="ACTIVITY.QRTASK"?(_(),b(S,{key:1},{default:s(()=>[c("V\xE0o l\xFAc : "+d(r.formatDateTime(n.activity.created)),1)]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1}),t(m,null,{default:s(()=>[t(Y,{ref:"activityImages",countImages:n.activityImages,maxImages:n.maxActivityImages,onToggleCamera:r.toggleCamera2,onUploaded:r.addImageActivity},null,8,["countImages","maxImages","onToggleCamera","onUploaded"]),t(H,{"no-gap":""},{default:s(()=>[(_(!0),I(R,null,B(n.activity.imageUrls,g=>(_(),b(Q,{width:"50",key:g},{default:s(()=>[o("img",{width:"100",src:g},null,8,Da)]),_:2},1024))),128))]),_:1})]),_:1}),t(A,null,{default:s(()=>[t(k,{"bg-color":"green"},{default:s(()=>[c(d(n.ACT_POPUP.sender),1)]),_:1}),t(v,null,{default:s(()=>[t(p,{"no-hairlines-md":""},{default:s(()=>[t(N,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:n.activity.customerName,"onUpdate:value":i[19]||(i[19]=g=>n.activity.customerName=g)},null,8,["value"]),n.activity.type=="ACTIVITY.QR_REQUEST"?(_(),b(N,{key:0,outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EC3 li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:n.activity.customerPhoneNumber,"onUpdate:value":i[20]||(i[20]=g=>n.activity.customerPhoneNumber=g)},null,8,["value"])):C("",!0),t(N,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:n.activity.customerAddress,"onUpdate:value":i[21]||(i[21]=g=>n.activity.customerAddress=g)},null,8,["value"])]),_:1})]),_:1})]),_:1}),n.activity.type=="ACTIVITY.QR_REQUEST"?(_(),b(A,{key:0},{default:s(()=>[t(k,{"bg-color":"blue"},{default:s(()=>[c(d(n.ACT_POPUP.receiver),1)]),_:1}),t(v,null,{default:s(()=>[t(k,null,{default:s(()=>[c(d(n.supplier.name),1)]),_:1}),t(v,null,{default:s(()=>[c(d(n.supplier.address),1)]),_:1})]),_:1})]),_:1})):C("",!0),t(m,null,{default:s(()=>[t(H,null,{default:s(()=>[t(Q,{width:"30"},{default:s(()=>[t($,{raised:"",round:"",large:"",color:"gray",onClick:r.closeNewActivity},{default:s(()=>[Ra,Pa]),_:1},8,["onClick"])]),_:1}),t(Q,{width:"60"},{default:s(()=>[t($,{raised:"",round:"",fill:"",large:"",onClick:r.postActivity},{default:s(()=>[Sa,c(d(n.ACT_POPUP.action),1)]),_:1},8,["onClick"])]),_:1})]),_:1}),t(ae,null,{default:s(()=>[c(d(n.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),t(Z,{id:"view-activity",opened:n.enablePopup.view_activity,"onUpdate:opened":i[26]||(i[26]=g=>n.enablePopup.view_activity=g)},{default:s(()=>[t(U,null,{default:s(()=>[t(w,null,{default:s(()=>[t(f,{title:n.ACT_POPUP.nar_bar_title},null,8,["title"]),t(A,null,{default:s(()=>[t(k,{"bg-color":"green"},{default:s(()=>[c(d(n.ACT_POPUP.content),1)]),_:1}),t(v,null,{default:s(()=>[t(p,{"no-hairlines-md":""},{default:s(()=>[t(S,null,{default:s(()=>[c(d(n.view_activity.title),1)]),_:1}),t(S,null,{default:s(()=>[c(d(n.view_activity.description),1)]),_:1}),n.view_activity.type=="ACTIVITY.QRTASK"?(_(),b(S,{key:0},{default:s(()=>[c("\u0110\xE3 thu: "+d(r.formatMoney(n.view_activity.money)),1)]),_:1})):C("",!0),n.view_activity.type=="ACTIVITY.QRTASK"?(_(),b(S,{key:1},{default:s(()=>[c("Th\u1EF1c hi\u1EC7n l\xFAc: "+d(r.formatDateTime(n.view_activity.created)),1)]),_:1})):(_(),b(S,{key:2},{default:s(()=>[c("G\u1EEDi l\xFAc: "+d(r.formatDateTime(n.view_activity.created)),1)]),_:1})),t(m,null,{default:s(()=>[t(H,{"no-gap":""},{default:s(()=>[(_(!0),I(R,null,B(n.view_activity.imageUrls,g=>(_(),b(Q,{width:"50",key:g},{default:s(()=>[o("img",{width:"100",src:g},null,8,$a)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(A,null,{default:s(()=>[t(k,{"bg-color":"green"},{default:s(()=>[c(d(n.ACT_POPUP.sender),1)]),_:1}),t(v,null,{default:s(()=>[t(p,{"no-hairlines-md":""},{default:s(()=>[t(S,null,{default:s(()=>[c(d(n.view_activity.customerName),1)]),_:1}),t(S,null,{default:s(()=>[c(d(n.view_activity.customerPhoneNumber),1)]),_:1}),t(S,null,{default:s(()=>[c(d(n.view_activity.customerAddress),1)]),_:1}),n.view_activity.type=="ACTIVITY.QRTASK"&&n.view_activity.status=="CONFIRMED"?(_(),b(S,{key:0},{default:s(()=>[c("X\xE1c nh\u1EADn l\xFAc "+d(r.formatDateTime(n.view_activity.modified)),1)]),_:1})):C("",!0),n.view_activity.type=="ACTIVITY.QRTASK"&&n.view_activity.status=="REJECTED"?(_(),b(S,{key:1},{default:s(()=>[c("T\u1EEB ch\u1ED1i l\xFAc "+d(r.formatDateTime(n.view_activity.modified)),1)]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1}),n.view_activity.type=="ACTIVITY.QRTASK"&&(n.view_activity.status=="CONFIRMED"||n.view_activity.status=="REJECTED")?(_(),b(A,{key:0},{default:s(()=>[t(k,{"bg-color":"green"},{default:s(()=>[Oa]),_:1}),t(v,null,{default:s(()=>[n.view_activity.userComment?(_(),b(p,{key:0},{default:s(()=>[t(S,null,{default:s(()=>[c(d(n.view_activity.userComment),1)]),_:1})]),_:1})):(_(),b(p,{key:1},{default:s(()=>[t(S,null,{default:s(()=>[qa]),_:1})]),_:1}))]),_:1})]),_:1})):C("",!0),n.view_activity.type=="ACTIVITY.QR_REQUEST"||n.view_activity.type=="ACTIVITY.QRTASK"?(_(),b(A,{key:1},{default:s(()=>[t(k,{"bg-color":"blue"},{default:s(()=>[c(d(n.ACT_POPUP.receiver)+" ",1),t(K,{f7:n.supplier.status=="ACTIVE"?"star_circle":"star_slash"},null,8,["f7"])]),_:1}),t(v,null,{default:s(()=>[t(p,null,{default:s(()=>[t(S,null,{default:s(()=>[c(d(n.supplier.name),1)]),_:1}),t(S,null,{default:s(()=>[c(d(n.supplier.address),1)]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0),n.view_activity.type=="ACTIVITY.QRTASK"&&n.view_activity.status=="CREATED"?(_(),b(A,{key:2},{default:s(()=>[t(k,{"bg-color":"green"},{default:s(()=>[La]),_:1}),t(v,null,{default:s(()=>[t(p,null,{default:s(()=>[t(N,{type:"textarea",outline:"",label:"Nh\u1EADn x\xE9t","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","error-message":"b\u1EA1n \u0111\xE3 nh\u1EADp qu\xE1 d\xE0i!","clear-button":"",value:n.view_activity.userComment,"onUpdate:value":i[23]||(i[23]=g=>n.view_activity.userComment=g)},null,8,["value"])]),_:1})]),_:1})]),_:1})):C("",!0),t(m,null,{default:s(()=>[n.view_activity.type=="ACTIVITY.QRTASK"&&n.view_activity.status=="CREATED"?(_(),b(H,{key:0},{default:s(()=>[t(Q,{width:"40"},{default:s(()=>[t($,{raised:"",round:"",large:"",color:"gray",onClick:i[24]||(i[24]=g=>r.rejectQRTask())},{default:s(()=>[Na]),_:1})]),_:1}),t(Q,{width:"60"},{default:s(()=>[t($,{fill:"",large:"",onClick:i[25]||(i[25]=g=>r.confirmQRTask())},{default:s(()=>[Qa,Ba]),_:1})]),_:1})]),_:1})):(_(),b(H,{key:1},{default:s(()=>[t(Q,{width:"100"},{default:s(()=>[t($,{fill:"",round:"",large:"","popup-close":""},{default:s(()=>[Va,za]),_:1})]),_:1})]),_:1})),t(ae,null,{default:s(()=>[c(d(n.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var Ya=x(ul,[["render",Ma]]);const Fa={props:{f7route:Object,f7router:Object}};function ja(e,i,a,u,n,r){const f=l("f7-navbar"),y=l("f7-block"),p=l("f7-page");return _(),b(p,null,{default:s(()=>[t(f,{title:"V\xF2ng \u0111\u1EDDi thi\u1EBFt b\u1ECB","back-link":"Back"}),t(y,null,{default:s(()=>[o("h2",null,d(a.f7route.params.id),1)]),_:1})]),_:1})}var Ka=x(Fa,[["render",ja]]);const Ha={},Ga={color:"green"};function Wa(e,i,a,u,n,r){const f=l("f7-navbar"),y=l("f7-block"),p=l("f7-page");return _(),b(p,null,{default:s(()=>[t(f,{title:"Th\xF4ng tin Ch\xEDnh h\xE3ng","back-link":"Back"}),t(y,null,{default:s(()=>[o("h2",Ga,d(e.f7route.params.id),1)]),_:1})]),_:1})}var Ja=x(Ha,[["render",Wa]]);const Xa={data(){return{user:{fullName:"H\u1ECD t\xEAn c\u1EE7a: B888.1a",roleId:2,roleCode:"BOSS",organizationId:888,teamId:0,personId:0,status:"ACTIVE",metadata:null,created:"2021-04-20T04:22:20.533Z",createdBy:1,modified:null,modifiedBy:null,realm:null,username:"B888.1",email:"B888.1@qrcare.net",emailVerified:!1,id:171},org:{name:"C\xF4ng ty TNHH ph\u1EA7n m\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam",type:"COMPANY",parties:["PARTY.SUPPLIER.SELLER","PARTY.SUPPLIER.SERVICE"],categories:null,fullname:"C\xF4ng ty TNHH ph\u1EA7n m\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam",address:"305 H\u1ED3ng L\u1EA1c, Ph\u01B0\u1EDDng 10, Qu\u1EADn T\xE2n B\xECnh, TP H\u1ED3 Ch\xED Minh",logoUrl:"http://apps.vinaas.com/file/Isu2ck3Pe",website:"http://vinaas.com/",content:"CCCC",imageUrls:null,taxCode:"null",hotline:"0906826807",email:"contact@vinaas.com",facebook:"null",youtube:"null",gpsLocation:{lng:0,lat:0},directorId:0,QRCARE_Verified:0,QRCare_Rating:0,parentId:0,rootId:0,pdfUrl:"https://backend.qrcare.net/api/Containers/pdf/download/888-qraccount-2021-04-20-04-22-42-548Z.pdf",status:"ACTIVE",metadata:{},created:"2021-04-20T04:22:19.920Z",createdBy:null,modified:"2021-04-20T04:22:19.920Z",modifiedBy:null,id:888}}}},Za={class:"page-content no-padding-top",style:{"padding-bottom":"80px"}},er={class:"bg-color-blue"},tr={class:"block no-margin no-padding"},ir={class:"list media-list no-hairlines no-margin"},or={style:{background:"transparent"}},sr=["href"],nr={class:"item-media"},lr={class:"style-role"},ar={class:"item-inner align-self-center"},rr=o("div",{class:"item-title-row"},[o("div",{class:"item-title text-color-white text-uppercase fs-14"},"Ch\xE0o m\u1EEBng t\u1EDBi QRCare"),o("div",{class:"item-after"})],-1),cr={class:"item-subtitle fs-16 text-color-white"},dr={class:"item-text text-color-white"},ur={class:"item-text fs-14 text-color-white"},_r={class:"block-info-org"},pr={class:"block no-margin"},hr={class:"inner-info-org bg-color-white"},fr={class:"logo"},gr=["src"],mr={class:"fs-20",style:{"font-weight":"700"}},vr={class:"fs-14",style:{color:"#999"}},yr={class:"fs-14",style:{color:"#999"}},br={key:0,style:{"margin-top":"15px"}},kr=["href"],Ir={key:0,class:"block no-margin-bottom",style:{"margin-top":"15px"}},wr={class:"row"},Cr={class:"col-50"},Tr=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12 display-flex justify-content-space-between",style:{"padding-bottom":"15px"}},[c(" C\xF4ng vi\u1EC7c "),o("span",{class:"badge color-orange fs-10"}," 20")]),o("div",{class:"row"},[o("div",{class:"col-50"}," Tu\u1EA7n "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")]),o("hr",{style:{"border-top":"1px dotted #ccc","border-bottom":"0"}}),o("div",{class:"row"},[o("div",{class:"col-50"}," Th\xE1ng "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")])],-1),Ar={class:"col-50"},Er=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12 display-flex justify-content-space-between",style:{"padding-bottom":"15px"}},[c(" Y\xEAu c\u1EA7u ph\xE1t sinh "),o("span",{class:"badge color-orange fs-10"},"10")]),o("div",{class:"row"},[o("div",{class:"col-50"}," Tu\u1EA7n "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")]),o("hr",{style:{"border-top":"1px dotted #ccc","border-bottom":"0"}}),o("div",{class:"row"},[o("div",{class:"col-50"}," Th\xE1ng "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")])],-1),Ur={class:"col-50"},xr=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng th\u1EBB ph\xE1t h\xE0nh "),o("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," 0 ")],-1),Dr={class:"col-50"},Rr=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng s\u1ED1 s\u1EA3n ph\u1EA9m "),o("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," 0 ")],-1),Pr={class:"col-100"},Sr=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng s\u1ED1 nh\xE2n vi\xEAn "),o("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," users.length ")],-1);function $r(e,i,a,u,n,r){const f=l("f7-icon"),y=l("f7-fab"),p=l("f7-link"),m=l("f7-page");return _(),b(m,{"page-content":!1},{default:s(()=>[t(y,{position:"center-bottom",text:" Qu\xE9t",color:"green"},{default:s(()=>[t(f,{f7:"qrcode_viewfinder"})]),_:1}),o("div",Za,[o("div",er,[o("div",tr,[o("div",ir,[o("ul",or,[o("li",null,[o("a",{href:"/my-account/"+n.user.id,class:"item-link item-content chevron-center",style:{"padding-top":"20px","padding-bottom":"50px"}},[o("div",nr,[o("div",lr,d(n.user.roleCode),1)]),o("div",ar,[rr,o("div",cr,d(n.user.fullName),1),o("div",dr,"Username: "+d(n.user.username),1),o("div",ur,"Email "+d(n.user.email),1)])],8,sr)])])])])]),o("div",_r,[o("div",pr,[o("div",hr,[o("div",fr,[o("img",{src:n.org.logoUrl,width:"100",alt:""},null,8,gr)]),o("div",mr,d(n.org.fullname),1),o("div",vr," \u0110\u1ECBa ch\u1EC9: "+d(n.org.address),1),o("div",yr," Hotline: "+d(n.org.hotline),1),n.user.roleCode=="BOSS"?(_(),I("div",br,[o("a",{href:"/edit-supplier/"+n.org.id,class:"col button button-fill button-large fs-14"},"C\u1EADp nh\u1EADt th\xF4ng tin",8,kr)])):C("",!0)])])]),n.user.roleCode=="BOSS"?(_(),I("div",Ir,[o("div",wr,[o("div",Cr,[t(p,{href:"/list-work-history",class:"w-100"},{default:s(()=>[Tr]),_:1})]),o("div",Ar,[t(p,{href:"/list-request",class:"w-100"},{default:s(()=>[Er]),_:1})]),o("div",Ur,[t(p,{href:"",class:"w-100"},{default:s(()=>[xr]),_:1})]),o("div",Dr,[t(p,{class:"w-100"},{default:s(()=>[Rr]),_:1})]),o("div",Pr,[t(p,{href:"/list-staff",class:"w-100"},{default:s(()=>[Sr]),_:1})])])])):C("",!0)])]),_:1})}var Or=x(Xa,[["render",$r]]);const qr=ne({name:"QrLogin",emits:["detect","warning"],components:{QrStream:ue.exports.QrStream,QrCapture:ue.exports.QrCapture},data(){return{qrUrl:"",warning:!1}},methods:{async onDecode(e){console.log("onDecode",e),e.includes("backend.qrcare.net/api/ApplicationUsers/")||e.includes("m.qrcare.vn/u/")?(this.qrUrl=e,this.$emit("detect",e)):e&&this.$emit("warning",e)}}}),Lr=e=>(ce("data-v-4dd3d254"),e=e(),de(),e),Nr={class:"reader"},Qr={class:"center stream"},Br=Lr(()=>o("div",{style:{color:"red"},class:"frame"},null,-1)),Vr={key:0,"text-color":"red"};function zr(e,i,a,u,n,r){const f=l("qr-stream");return _(),I("div",Nr,[o("div",null,[o("div",Qr,[t(f,{onDecode:e.onDecode,class:"mb"},{default:s(()=>[Br]),_:1},8,["onDecode"])])]),e.warning?(_(),I("h3",Vr,"M\xE3 QRCode kh\xF4ng \u0111\xFAng.")):C("",!0)])}var ve=x(qr,[["render",zr],["__scopeId","data-v-4dd3d254"]]);const Mr=ne({props:{f7route:Object,f7router:Object},components:{QrScanOne:ve},data(){const e=se();e.desktop?console.log("It is desktop"):console.log("It is mobile");let i="",a="";return j("isDemoCard")&&(i="888.10",a="QRcare888.10"),{qrUrl:"",device:e,username:i,password:a}},methods:{detectURl(e){console.log(e),this.qrUrl=e,this.clickLogin()},showWarning(e){z.dialog.alert("qrcode kh\xF4ng h\u1EE3p l\u1EC7!<br>",e)},async clickLogin(){if(this.qrUrl){let e=this.qrUrl;if(this.qrUrl.includes("backend.qrcare.net"))e=this.qrUrl.replace("backend.qrcare.net","api.qrcare.net");else if(this.qrUrl.includes("m.qrcare.vn/u")){let i=this.qrUrl.replace("/u/","/ApplicationUsers/");i=i.replace("/t/","?access_token="),e=i}await this.loginByUrl(e)}else await this.loginByAccount()},async loginByUrl(e){let i=await this.$axios.get(e);i&&i.data&&(console.log(i.data),O.dispatch("login",i.data),this.f7router.back())},async loginByAccount(){var e={username:this.username,password:this.password};let a=(await this.$axios.post(M.BASE_URL+"ApplicationUsers/login",e)).data;if(a.id&&a.userId){console.log("loginAction",a);let u=M.BASE_URL+"ApplicationUsers/"+a.userId+"?access_token="+a.id;await this.loginByUrl(u)}}}}),Yr=c("Qu\xE9t Th\u1EBB QRLogin \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng \u0111\u0103ng nh\u1EADp "),Fr=c("Ho\u1EB7c cung c\u1EA5p th\xF4ng tin"),jr=c("\u0110\u0103ng nh\u1EADp"),Kr=o("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),Hr=o("p",null,"Email: sales@qrcare.net ",-1),Gr=o("p",null,"Phone: +84 906 826 807",-1);function Wr(e,i,a,u,n,r){const f=l("qr-scan-one"),y=l("f7-block-footer"),p=l("f7-block"),m=l("f7-block-title"),h=l("f7-list-input"),k=l("f7-list"),v=l("f7-button"),A=l("f7-page");return _(),b(A,{name:"Login Desktop"},{default:s(()=>[e.device.desktop?C("",!0):(_(),b(p,{key:0},{default:s(()=>[t(f,{onDetect:e.detectURl,onWarning:e.showWarning},null,8,["onDetect","onWarning"]),t(y,{style:{"margin-top":"20px"}},{default:s(()=>[Yr]),_:1})]),_:1})),t(p,null,{default:s(()=>[t(m,null,{default:s(()=>[Fr]),_:1}),t(k,{form:""},{default:s(()=>[t(h,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:e.username,"onUpdate:value":i[0]||(i[0]=w=>e.username=w)},null,8,["value"]),t(h,{type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:e.password,"onUpdate:value":i[1]||(i[1]=w=>e.password=w)},null,8,["value"])]),_:1}),t(v,{fill:"",large:"",round:"",onClick:e.clickLogin},{default:s(()=>[jr]),_:1},8,["onClick"]),t(k,null,{default:s(()=>[t(y,null,{default:s(()=>[Kr,Hr,Gr]),_:1})]),_:1})]),_:1})]),_:1})}var Jr=x(Mr,[["render",Wr]]);const Xr=ne({props:{f7route:Object,f7router:Object},components:{QrScanOne:ve},data(){const e=se();e.desktop?console.log("It is desktop"):console.log("It is mobile");let i="",a="";return i="888.10",a="QRcare888.10",{qrUrl:"",device:e,username:i,password:a}},methods:{detectURl(e){console.log(e),this.qrUrl=e,this.clickLogin()},showWarning(e){z.dialog.alert("qrcode kh\xF4ng h\u1EE3p l\u1EC7!")},async clickLogin(){if(console.log("clickLogin()",this.qrUrl),this.qrUrl){let e=this.qrUrl;this.qrUrl.includes("backend.qrcare.net")&&(e=this.qrUrl.replace("backend.qrcare.net","api.qrcare.net")),await this.loginByUrl(e)}else await this.loginByAccount()},async loginByUrl(e){let i=await this.$axios.get(e);i&&i.data&&(console.log(i.data),O.dispatch("login",i.data),this.f7router.back())},async loginByAccount(){var e={username:this.username,password:this.password};await this.$authen.loginByAccount(e)&&(console.log("to home()"),this.f7router.navigate("/"))}}}),Zr=c("Qu\xE9t Th\u1EBB QRLogin \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng \u0111\u0103ng nh\u1EADp "),ec=c("Ho\u1EB7c cung c\u1EA5p th\xF4ng tin"),tc=c("\u0110\u0103ng nh\u1EADp"),ic=o("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),oc=o("p",null,"Email: sales@qrcare.net ",-1),sc=o("p",null,"Phone: +84 906 826 807",-1);function nc(e,i,a,u,n,r){const f=l("qr-scan-one"),y=l("f7-block-footer"),p=l("f7-block"),m=l("f7-block-title"),h=l("f7-list-input"),k=l("f7-list"),v=l("f7-button"),A=l("f7-page");return _(),b(A,{name:"Login Desktop"},{default:s(()=>[e.device.desktop?C("",!0):(_(),b(p,{key:0},{default:s(()=>[t(f,{onDetect:e.detectURl,onWarning:e.showWarning},null,8,["onDetect","onWarning"]),t(y,{style:{"margin-top":"20px"}},{default:s(()=>[Zr]),_:1})]),_:1})),t(p,null,{default:s(()=>[t(m,null,{default:s(()=>[ec]),_:1}),t(k,null,{default:s(()=>[t(h,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:e.username,"onUpdate:value":i[0]||(i[0]=w=>e.username=w)},null,8,["value"]),t(h,{outline:"",label:"m\u1EADt kh\u1EA9u","floating-label":"",type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:e.password,"onUpdate:value":i[1]||(i[1]=w=>e.password=w)},null,8,["value"])]),_:1}),t(v,{fill:"",large:"",round:"",onClick:e.clickLogin},{default:s(()=>[tc]),_:1},8,["onClick"]),t(k,null,{default:s(()=>[t(y,null,{default:s(()=>[ic,oc,sc]),_:1})]),_:1})]),_:1})]),_:1})}var lc=x(Xr,[["render",nc]]);const ac={props:{f7route:Object,f7router:Object},setup(){return{isAuthen:O.state.isLogged,login:()=>{O.dispatch("login")},logout:()=>{O.dispatch("logout")}}},methods:{changeStatus(){this.isAuthen?this.logout():this.login()}},mounted(){const e=localStorage.getItem("fcm-token");console.log("home()",e)},async created(){}},rc=c("QRCare VN"),cc=o("p",null,"\u0110\xE2y l\xE0 Trang ch\u01B0a \u0111\u0103ng nh\u1EADp c\u1EE7a \u1EE9ng d\u1EE5ng QRCare",-1),dc=c("\u0110\u0103ng nh\u1EADp"),uc=c("Demo Ch\u1EE5p h\xECnh "),_c=c("Danh s\xE1ch Th\u1EBB Thi\u1EBFt b\u1ECB"),pc=c("Danh s\xE1ch Th\u1EBB T\xE0i s\u1EA3n "),hc=c("Danh s\xE1ch Th\u1EBB s\u1EA3n ph\u1EA9m"),fc=c("Danh s\xE1ch Th\u1EBB tr\xEAn Th\xF9ng s\u1EA3n ph\u1EA9m");function gc(e,i,a,u,n,r){const f=l("f7-link"),y=l("f7-nav-left"),p=l("f7-nav-title"),m=l("f7-navbar"),h=l("f7-block"),k=l("f7-block-title"),v=l("f7-button"),A=l("f7-row"),w=l("f7-list-item"),U=l("f7-list"),T=l("f7-page");return _(),b(T,{name:"home"},{default:s(()=>[t(m,{sliding:!1},{default:s(()=>[t(y,null,{default:s(()=>[t(f,{"icon-ios":"f7:menu","icon-aurora":"f7:menu","icon-md":"material:menu","panel-open":"left"})]),_:1}),t(p,{sliding:""},{default:s(()=>[rc]),_:1})]),_:1}),t(h,{strong:""},{default:s(()=>[cc]),_:1}),t(k,null,{default:s(()=>[dc]),_:1}),t(h,{strong:""},{default:s(()=>[t(A,null,{default:s(()=>[t(v,{fill:"",raised:"",href:"/about/"},{default:s(()=>[uc]),_:1})]),_:1})]),_:1}),t(k,null,{default:s(()=>[_c]),_:1}),t(U,null,{default:s(()=>[t(w,{link:"/d/100010010200011/p/39036827",title:"GENERATED"}),t(w,{link:"/d/100010010200006/p/29237987",title:"GENERATED"}),t(w,{link:"/d/100010010200007/p/43199603",title:"GENERATED"}),t(w,{link:"/d/100010010200008/p/32790292",title:"GENERATED"}),t(w,{link:"/d/100010010200184/p/62537836",title:"ACTIVE"}),t(w,{link:"/d/100010010200001/p/27975695",title:"ACTIVE"}),t(w,{link:"/d/100010010200040/p/26483375",title:"ACTIVE"}),t(w,{link:"/d/100010010200054/p/26358531",title:"ACTIVE"})]),_:1}),t(k,null,{default:s(()=>[pc]),_:1}),t(U,null,{default:s(()=>[t(w,{link:"/a/100010010200184/p/62537836",title:"ACTIVE"})]),_:1}),t(k,null,{default:s(()=>[hc]),_:1}),t(U,null,{default:s(()=>[t(w,{link:"/p/100010010200184/p/62537836",title:"ACTIVE"}),t(w,{link:"/p/100010010200184/p/62537836",title:"ACTIVE"})]),_:1}),t(k,null,{default:s(()=>[fc]),_:1}),t(U,null,{default:s(()=>[t(w,{link:"/pb/100010010200184/p/62537836",title:"ACTIVE"}),t(w,{link:"/pb/100010010200184/p/62537836",title:"ACTIVE"})]),_:1})]),_:1})}var mc=x(ac,[["render",gc]]);const vc={};function yc(e,i){return null}var bc=x(vc,[["render",yc]]),kc=[{path:"/",component:Ls},{path:"/m/:id/p/:privateCode",component:ge},{path:"/u/:id/t/:access_token",component:bc},{path:"/d/:id/p/:privateCode",component:Ya},{path:"/p/:id/p/:privateCode",component:Ka},{path:"/pb/:id/p/:privateCode",component:Ja},{path:"/a/:id/p/:privateCode",component:Or},{path:"/about/",component:$n},{path:"/qr-login/",component:Jr},{path:"/login/",component:lc},{path:"/test/",component:mc},{path:"/form/",component:nl,beforeEnter({app:e,resolve:i,reject:a,router:u}){localStorage.getItem("userId"),localStorage.get("access_token"),console.log("beforeEnter()"),a(),u.navigate("/login/")}},{path:"(.*)",component:dl}],Ic={apiKey:"AIzaSyCpP1I0ELs9-4hwYzbprww_AmWXWZXSxBA",authDomain:"qrcare-aab37.firebaseapp.com",projectId:"qrcare-aab37",storageBucket:"qrcare-aab37.appspot.com",messagingSenderId:"778751086282",appId:"1:778751086282:web:2ab7ddf07bf029a14a2e33",measurementId:"G-D1ZE9SQ2TH"};const wc=we(Ic),ie=Ce(wc);Te(ie,{vapidKey:"BGxx-fjPINkBky_OPMHnaEt5I-Nw6T4b-tyQC9BBoXXGF3a0Romv0Y4PP2oB9heOK4pCh6EgNEXYj9yWWEAba6I"}).then(e=>{if(e){localStorage.setItem("fcm-token",e);const i=localStorage.getItem("userId");i>0?te.postUserDeviceToken(e,i).then(a=>{console.log("post getToken()",e)}):console.log("nothing getToken()",e)}else console.log("No registration token available. Request permission to generate one.")}).catch(e=>{console.log("An error occurred while retrieving token. ",e)});Ae(ie,e=>{console.log("baotnq Message received. ",e),window.alert(e.data)});const Cc={setup(){return Ee("messaging",ie),{f7params:{name:"QRCare.vn",theme:"auto",version:"1.1.2",view:{browserHistory:!0},store:O,routes:kc,serviceWorker:{path:"/service-worker.js"}}}},data(){return{}},methods:{},mounted(){let e=j("isLogged");console.log("isLogged",e),e||console.log("go to mounted")}};function Tc(e,i,a,u,n,r){const f=l("f7-view"),y=l("f7-app");return _(),b(y,Ue(xe(u.f7params)),{default:s(()=>[t(f,{main:"",class:"safe-areas",url:"/"})]),_:1},16)}var Ac=x(Cc,[["render",Tc]]),D=J.create({baseURL:M.BASE_URL,headers:{"content-type":"application/json"}});let oe={getFilename(e){if(e){var i=e.toString().match(/.*\/(.+?)\./);if(i&&i.length>1)return i[1]}return""},blobCreationFromURL(e){const i=e.split(","),a=i[0].indexOf("base64")>=0?atob(i[1]):decodeURI(i[1]),u=i[0].split(":")[1].split(";")[0],n=new Uint8Array(a.length);for(let r=0;r<a.length;r++)n[r]=a.charCodeAt(r);return new Blob([n],{type:u})},getActivityName(e){let i="";return e.type==="ACTIVITY.QR_REQUEST"&&(i+="Y\xEAu c\u1EA7u",e.status=="CREATED"&&(i+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRTASK"&&(i+="C\xF4ng vi\u1EC7c",e.status=="CREATED"&&(i+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(i="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(i="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),e.type==="ACTIVITY.QRNOTE"&&(i+="Ghi ch\xFA",e.status=="CREATED"&&(i+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRDelivery"&&(i+="B\xE0n giao",e.status=="CREATED"&&(i+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(i+="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(i+="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),i},getActivityColor(e){if(e.type==="ACTIVITY.QR_REQUEST")return"item-title text-color-orange";if(e.type==="ACTIVITY.QRTASK"){if(e.status==="CONFIRMED")return"item-title text-color-green";if(e.status==="CREATED")return"item-title text-color-blue"}return e.type==="ACTIVITY.QRNOTE"?"item-title text-color-blue":"item-title text-color-black"},getFilter(e=null){return e||{skip:0,limit:10}},formatDate(e){if(e)return _e(new Date(e),"dd-MM-yyyy")},formatDateTime(e){return e?_e(new Date(e),"dd-MM-yyyy hh:mm"):""},formatMoney(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(e)}},Ec={async getQRID(e){if(e>0)return(await D.get(`Organizations/${e}/supportQRIDs`,{params:{filter:{limit:20,where:{status:"ACTIVE"}}}})).data||[]},async getSellProducts(e,i={}){if(e>0)return(await D.get(`Organizations/${e}/sellProducts`,{params:{filter:{limit:20}}})).data||[]},async getProduct(e){if(e>0)return(await D.get(`Products/${e}`)).data||{}},async updateProduct(e,i){return e>0?(i.modified=new Date,(await D.patch(`Products/${e}`,i)).data||{}):(i.created=new Date,i.createdBy=O.state.user.id,i.status="CREATED",(await D.post("Products",i)).data||{})},async getQRTask(e,i=0,a={}){if(e>0){let u={};u.type={inq:["ACTIVITY.QRTASK","ACTIVITY.QRDELIVERY"]},i>0&&(u.supplierStaffId=i);let n={order:"id desc",where:u};return n=pe(n,a),await this.getQRActivities(e,n)}},async getRequest(e,i={}){if(e>0){let a={};a.type={inq:["ACTIVITY.QR_FEEDBACK","ACTIVITY.QR_REQUEST","ACTIVITY.SUPPLIER_REQUEST","QRCARE_REQUEST"]};let u={order:"id desc",where:a};return u=pe(u,i),await this.getQRActivities(e,u)}},async getQRActivities(e,i){return(await D.get("/Organizations/"+e+"/supplierActivities",{params:{filter:i}})).data},async countQRTask(e,i=0,a={}){let u={};return u.type={inq:["ACTIVITY.QRTASK","ACTIVITY.QRDELIVERY"]},i>0&&(u.supplierStaffId=i),await this.countQRActivities(e,u)},async countRequest(e,i={}){let a={};return a.type={inq:["ACTIVITY.QR_FEEDBACK","ACTIVITY.QR_REQUEST","ACTIVITY.SUPPLIER_REQUEST","QRCARE_REQUEST"]},await this.countQRActivities(e,a)},async countQRActivities(e,i){return(await D.get("/Organizations/"+e+"/supplierActivities/count",{params:{where:i}})).data},async validateQRUrl(e){let i=["https://qrcare.net/#!/lifecycle/100010010000000/private/24135380","https://qrcare.net/#!/authentic/100010010000000/private/241353","https://qrcare.net/#!/lifecycle/100010010000002/private/20549215","https://qrcare.net/#!/authentic/100010010000002/private/205492","https://qrcare.net/#!/lifecycle/100010010000001/private/24197092","https://qrcare.net/#!/authentic/100010010000001/private/24197092","https://qrcare.net/#!/lifecycle/100010010020000/private/33249616","https://qrcare.net/#!/lifecycle/100010010020002/private/19647305","https://qrcare.net/#!/lifecycle/100010010020001/private/87957579","https://qrcare.net/#!/lifecycle/100010010020003/private/36250781"];try{let a=parseInt(e);a<i.length&&(e=i[a]);const u=await D.post("/QRPackages/validateQRUrl",{qrUrl:e});return console.log("validate",u),u.data}catch(a){return}},async getInfo(e,i={}){if(e>0){const a=await D.get("Organizations/"+e);return a.data&&a.data.id?a.data:{}}},async updateSupplier(e,i){let a={name:i.name,fullname:i.fullname,address:i.address,logoUrl:i.logoUrl,website:i.website,taxCode:i.taxCode,hotline:i.hotline,modified:new Date,content:i.content};return await D.patch("Organizations/"+e,a)},async changeInactive(e){if(e>0){const i=await D.patch("Organizations/"+e,{status:"INACTIVE",modified:new Date});return i.data&&i.data.id?i.data:{}}},async getUsers(e,i={}){if(e>0)return(await D.get("/Organizations/"+e+"/users",{params:{filter:oe.getFilter(i)}})).data},async getUser(e){if(orgId>0)return(await D.get("/Organizations/"+orgId+"/users",{params:{filter:oe.getFilter(filter)}})).data},async getPackages(e,i={}){if(e>0)return(await D.get("/Organizations/"+e+"/generatedPackages",{params:{filter:oe.getFilter(i)}})).data},async getProductForSearch(e){let i="",a={fields:{id:!0,title:!0,imageUrls:!0,description:!0,experyDays:!0},limit:10};return e&&e.length>2&&(i="%"+e+"%",a={fields:{id:!0,title:!0,imageUrls:!0,description:!0},where:{title:{ilike:i}},limit:10}),await this.getSellProducts(a)},async getStaffForSearch(e,i){let a="",u={fields:{id:!0,fullName:!0},where:{}};return i&&(a="%"+i+"%",u.where.fullName={ilike:a}),await this.getUsers(e,u)},async getLifeCycle(e,i=null){return(await D.get("/QRIDs/"+e,{params:{filter:{include:["history"]}}})).data},async getQRID_CustomerInfo(e){return(await D.get("/QRIDs/"+e,{params:{filter:{fields:{id:!0,cardType:!0,status:!0,ownerName:!0,ownerPhoneNumber:!0,ownerAddress:!0}}}})).data},async updateDevice(e){return e.status=e.status?e.status:"QRID_STATUS.CREATED",e.modified=new Date().toISOString(),e.id>0?await D.patch("/QRIDs/"+e.id,e):!1},async updateOwner(e){return e.id>0?await D.patch("/QRIDs/"+e.id,e):!1},async activeUsing(e){return e.status="QRID_STATUS.ACTIVE",e.activatedDate=new Date().toISOString(),e.id>0?await D.patch("/QRIDs/"+e.id,e):null},async addActivateTask(e){return e.type="ACTIVITY.QRDELIVERY",await this.createQRActivity(e)},async addTask(e){return e.type="ACTIVITY.QRTASK",await this.createQRActivity(e)},async createQRActivity(e){return e.status="CREATED",e.created=new Date().toISOString(),e.supplierOrganizationId=O.state.org.id||0,e.supplierStaffId=O.state.user.id||0,e.createdBy=O.state.user.id,await D.post("/QRActivities",e)},async updateQRActivity(e){return await D.patch("/QRActivities/"+e.id,e)},async createQRDelivery(e){},async removeUserDeviceToken(e){let a=(await D.get("/UserDeviceTokens/",{params:{filter:{where:{userId:e}}}})).data;a&&a.length&&a.forEach(u=>{D.delete("/UserDeviceTokens/"+u.id)})},async getFireBaseToken(e){try{const i=localStorage.getItem("fcm-token");console.log("home()",i),this.postUserDeviceToken(token,e),await FCM.subscribeToTopic("latest_news")}catch(i){console.log(i)}},async sendPushNoti(e,i,a){await D.get("/UserDeviceTokens/sendPushNotificationToUserId",{params:{userid:e,title:i,body:a}})}};De.use(Re);const G=Pe(Ac);G.config.globalProperties.$axios=D;G.config.globalProperties.$store=O;G.config.globalProperties.$utils=oe;G.config.globalProperties.$authen=te;G.config.globalProperties.$supplier=Ec;G.config.globalProperties.$messaging=ie;Se(G);G.mount("#app");
