import{a as W,g as ne,c as ye,u as M,f as Q,r as l,o as p,b as y,w as s,d as i,e as O,v as L,h as o,t as d,i as c,j as w,F as S,k as B,l as E,m as ce,n as ee,p as ke,q as Ie,s as de,x as ue,y as se,z as pe,A as we,B as Ce,C as Te,D as Ee,E as Ue,G as Ae,H as xe,I as _e,J as he,K as De,L as Re,M as Pe,N as Se}from"./vendor.408b1eb5.js";const $e=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}};$e();const Y={BASE_URL:"https://api.qrcare.net/api/",IS_M_QRCARE:!0,IS_ORG_QRCARE:!0,DEV_ENV(){return!1},DEMO_CARD(){return!1}};let te={async loadUserAndOrganization(e,t){let a={headers:{Authorization:t},params:{filter:{include:{relation:"organization",scope:{fields:["name","address","hotline","fullname","logoUrl","status","email","website"]}}}}},u=await W.get(Y.BASE_URL+"ApplicationUsers/"+e,a);return u&&u.data?(localStorage.setItem("user",JSON.stringify(u.data)),u.data):{}},async loginByUrl(e){let t=await W.get(e);return t&&t.data?(localStorage.setItem("user",JSON.stringify(t.data)),t.data):{}},async loginById(e,t){return e>0&&t?(localStorage.setItem("userId",e),localStorage.setItem("access_token",t),await this.loadUserAndOrganization(e,t)):{}},async loginByAccount(e){try{let a=(await W.post(Y.BASE_URL+"ApplicationUsers/login",e)).data;if(a.id&&a.userId)return localStorage.setItem("userId",a.userId),localStorage.setItem("access_token",a.id),await this.loadUserAndOrganization(a.userId,a.id)}catch(t){return console.log("loginByAccount()",t),{}}},async logout(){localStorage.removeItem("access_token"),localStorage.removeItem("userId"),localStorage.removeItem("user")},register(e){return W.post(Y.BASE_URL+"ApplicationUsers",{username:e.username,email:e.email,password:e.password})},async postUserDeviceToken(e,t){const a=ne();console.log("getDevice()",a);let u={where:{userId:t,deviceToken:e}},n=await W.get(Y.BASE_URL+"/UserDeviceTokens/count",{params:u});if(n&&n.data&&n.data.count){console.log("NOT RUN postUserDeviceToken()");return}let r={platform:"Mobile Web"},m=new Date,b={deviceToken:e,userId:t,created:m,deviceInfo:r};try{let h=await W.post(Y.BASE_URL+"/UserDeviceTokens",b);console.log("postUserDeviceToken()",h)}catch(h){console.log(h)}}};const le=JSON.parse(localStorage.getItem("user")),N=ye({state:{isLoading:!0,user:le,isAuthen:!!(le&&le.id>0),isDemoCard:!1},getters:{loading({state:e}){return e.isLoading},isLogged({state:e}){return e.isAuthen},getUser({state:e}){return e.user},getOrganization({state:e}){return e.user&&e.user.organization&&e.user.organization.id?e.user.organization:{}},getOrgId({state:e}){return e.user&&e.user.organizationId?e.user.organizationId:0},isBoss({state:e}){return e.user.roleCode=="BOSS"},isSale({state:e}){return e.user.roleCode=="SALE"},isWorker({state:e}){return e.user.roleCode=="WORKER"}},actions:{setLoading({state:e},t){e.isLoading=t},getUser({state:e,dispatch:t}){t("setLoading",!0);let a=localStorage.getItem("userId"),u=localStorage.getItem("access_token");if(a>0&&u){let n=Y.BASE_URL+`ApplicationUsers/${a}?access_token=${u}`;console.log(a,u,n),fetch(n).then(r=>r.json()).then(r=>{e.user=r,console.log("getUser()",r),t("setLoading",!1)})}},getSupplierUser({state:e,dispatch:t}){t("setLoading",!0);let a=localStorage.getItem("userId"),u=localStorage.getItem("access_token");a>0&&u&&AuthenAPI.loadUserAndOrganization(a,u).then(n=>{e.user=n,e.org=n.organization||{},t("setLoading",!1)}).catch(n=>{console.log("Error_getSupplierUser()",n)})},logout({state:e}){e.user={},localStorage.removeItem("user"),localStorage.removeItem("access_token"),localStorage.removeItem("userId"),e.isAuthen=!1},async login({state:e},t){await te.loginByAccount(t).then(a=>{console.log("store-login()",a),localStorage.setItem("user",JSON.stringify(a)),e.user=a,e.isAuthen=!0})},loginById({state:e},t,a){te.loginById(t,a).then(u=>{console.log("store-loginById()",u),localStorage.setItem("user",JSON.stringify(u)),e.user=u,e.isAuthen=!0})},updateDemoCard({state:e},t){e.isDemoCard=t}}});var x=(e,t)=>{for(const[a,u]of t)e[a]=u;return e};const Oe={props:{packageId:Number},setup(){return{orgId:M("getOrgId")}},emits:["updated"],data(){return{isLoading:!1,item:{},imageUrl:""}},watch:{packageId:"getPackage"},computed:{listImages(){return this.item.imageUrls||[]},pageTitle(){return this.packageId>0?`Chi ti\u1EBFt s\u1EA3n ph\u1EA9m v\u1EDBi Id: ${this.packageId}`:"T\u1EA1o m\u1EDBi s\u1EA3n ph\u1EA9m"}},methods:{getPackage(){let e={title:"Gi\u1EA3i ph\xE1p QRCare",cardType:"CARD_TYPE.EXIST_DEVICE",type:"MANY",count:103,organizationId:111,productId:0,generatedParty:"PARTY.SUPPLIER.SELLER",phase:"NEW_PRODUCT",organizationStaffId:0,pdfUrl:"",status:"GENERATED",metadata:{},created:new Date,modified:new Date};if(this.packageId>0){console.log("getPackage():"+this.packageId);let t=this;this.$supplier.getPackage(this.packageId).then(a=>{this.isLoading=!0,t.isLoading=!1,t.item=a})}else this.item=e},uploadImage(){this.imageUrl&&this.item.imageUrls.push(this.imageUrl)},async processUpdate(){const e=this;this.$supplier.updatePackage(this.packageId,this.item).then(t=>{Q.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{Q.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getPackage()}},Le=c("Close"),qe={class:"card"},Ne={class:"card-content"},Qe=o("i",{class:"f7-icons"},"xmark_circle",-1),Be=c("Cancel"),Ve=o("i",{class:"f7-icons"},"cloud_upload",-1),ze=c("Save");function Me(e,t,a,u,n,r){const m=l("f7-link"),b=l("f7-nav-right"),h=l("f7-navbar"),g=l("f7-preloader"),_=l("f7-list-input"),k=l("f7-button"),f=l("f7-col"),T=l("f7-row"),C=l("f7-list"),U=l("f7-page");return p(),y(U,null,{default:s(()=>[i(h,{title:r.pageTitle},{default:s(()=>[i(b,null,{default:s(()=>[i(m,{"popup-close":""},{default:s(()=>[Le]),_:1})]),_:1})]),_:1},8,["title"]),O(i(g,null,null,512),[[L,n.isLoading]]),O(o("div",qe,[o("div",Ne,[i(C,null,{default:s(()=>[i(_,{type:"text",placeholder:"nh\u1EADp",label:"T\xEAn s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.item.title,"onUpdate:value":t[0]||(t[0]=I=>n.item.title=I)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Nh\xE0 s\u1EA3n xu\u1EA5t",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:n.item.cardType,"onUpdate:value":t[1]||(t[1]=I=>n.item.cardType=I)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Lo\u1EA1i package",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:n.item.type,"onUpdate:value":t[2]||(t[2]=I=>n.item.type=I)},null,8,["value"]),i(_,{type:"number",placeholder:"nh\u1EADp",label:"T\u1ED5ng s\u1ED1 Th\u1EBB",outline:"","floating-label":"","clear-button":"",value:n.item.count,"onUpdate:value":t[3]||(t[3]=I=>n.item.count=I)},null,8,["value"]),i(_,{disabled:"",type:"text",placeholder:"nh\u1EADp",label:"Link s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:n.item.pdfUrl,"onUpdate:value":t[4]||(t[4]=I=>n.item.pdfUrl=I)},null,8,["value"]),i(_,{disabled:"",type:"text",placeholder:"",label:"tr\u1EA1ng th\xE1i",outline:"","floating-label":"",required:"",value:n.item.status,"onUpdate:value":t[5]||(t[5]=I=>n.item.status=I)},null,8,["value"]),o("p",null,"organizationId "+d(n.item.organizationId),1),o("p",null,"productId "+d(n.item.productId),1),o("p",null,"Ng\xE0y t\u1EA1o: "+d(e.$utils.formatDate(n.item.created)),1),o("p",null,"Modified: "+d(e.$utils.formatDate(n.item.modified)),1),i(T,null,{default:s(()=>[i(f,{width:"30"},{default:s(()=>[i(k,{round:"",large:"",color:"gray",onClick:t[6]||(t[6]=I=>r.close())},{default:s(()=>[Qe,Be]),_:1})]),_:1}),i(f,{width:"40"},{default:s(()=>[i(k,{fill:"",round:"",large:"",onClick:t[7]||(t[7]=I=>r.processUpdate())},{default:s(()=>[Ve,ze]),_:1})]),_:1})]),_:1})]),_:1})])],512),[[L,!n.isLoading]])]),_:1})}var Ye=x(Oe,[["render",Me]]);const Fe={components:{Package:Ye},props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,packages:[],item:{},itemId:0,iItemLoading:!1,qrid:[],popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getOrganizationPackages"},methods:{selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getOrganizationPackages(){if(this.orgId){let e=Y.BASE_URL+`Organizations/${this.orgId}/generatedPackages`,t=this;this.isLoading=!0,fetch(e).then(a=>a.json()).then(a=>{t.packages=a,console.log("fetch()",a),t.isLoading=!1})}}},mounted(){this.getOrganizationPackages()}},je={class:"card"},Ke={class:"card-header"},He={class:"card-content card-content-padding scrollable"},Ge={class:"list media-list"},We=["onClick"],Je=o("div",{class:"item-media"},[o("i",{class:"icon f7-icons text-color-yellow"},"document_text_fill")],-1),Xe={class:"item-inner"},Ze={class:"item-title-row"},et={class:"item-title"},tt={class:"item-after"},it={class:"item-subtitle"},ot={class:"item-text"},nt=o("br",null,null,-1);function st(e,t,a,u,n,r){const m=l("f7-preloader"),b=l("package"),h=l("f7-popup");return p(),w(S,null,[o("div",je,[o("div",Ke,[c(d(n.packages.length)+" B\u1ED9 A4 c\u1EE7a "+d(a.orgId)+" ",1),O(i(m,null,null,512),[[L,n.isLoading]])]),o("div",He,[o("div",Ge,[o("ul",null,[(p(!0),w(S,null,B(n.packages,g=>(p(),w("li",{key:g.id},[o("a",{onClick:_=>r.selected(g),class:"item-link item-content chevron-center"},[Je,o("div",Xe,[o("div",Ze,[o("div",et,d(g.id),1),o("div",tt,d(g.count),1)]),o("div",it,d(g.cardType)+" : "+d(g.status),1),o("div",ot,[c(d(g.created),1),nt])])],8,We)]))),128))])])])]),i(h,{class:"edit-package",opened:n.popupOpened,"onPopup:closed":t[0]||(t[0]=g=>n.popupOpened=!1)},{default:s(()=>[i(b,{packageId:n.itemId},null,8,["packageId"])]),_:1},8,["opened"])],64)}var lt=x(Fe,[["render",st]]);const at={props:{orgId:Number},emits:["updated"],data(){return{isLoading:!1,popupOpened:!1,item:{},content:""}},watch:{orgId:"getOrganization"},computed:{pageTitle(){return this.orgId>0?`Chi ti\u1EBFt Doanh nghi\u1EC7p c\xF3 Id: ${this.orgId}`:"T\u1EA1o m\u1EDBi Doanh nghi\u1EC7p"}},methods:{getOrganization(){if(this.orgId){console.log("getOrganization():"+this.orgId);let e=this;this.isLoading=!0,this.$supplier.getInfo(this.orgId).then(t=>{e.isLoading=!1,e.item=t,e.content=t.content})}else{let e={name:"",type:"COMPANY",parties:["PARTY.SUPPLIER.SELLER","PARTY.SUPPLIER.SERVICE"],categories:["B\xE1n h\xE0ng \u0111i\u1EC7n m\xE1y, \u0111i\u1EC7n l\u1EA1nh","D\u1ECBch v\u1EE5 v\u1EC7 sinh, b\u1EA3o tr\xEC thi\u1EBFt b\u1ECB c\u0169","D\u1ECBch v\u1EE5 thu mua, thanh l\xFD thi\u1EBFt b\u1ECB c\u0169"],fullname:"",address:"",logoUrl:"",website:"",content:"",imageUrls:[],taxCode:"",hotline:"",email:"",facebook:"",youtube:"",gpsLocation:{lat:0,lng:0},directorId:0,QRCARE_Verified:0,QRCare_Rating:0,parentId:0,rootId:0,status:"CREATED"};this.item=e}},changeInactive(){this.$supplier.changeInactive(this.orgId)},async clickEdit(){const e=this;this.$supplier.updateSupplier(this.orgId,this.item).then(t=>{Q.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{Q.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getOrganization()}},rt={class:"card"},ct={class:"card-content"},dt={key:0,class:"item-content"},ut={class:"item-media"},pt=["src"],_t=o("div",{class:"item-inner"},[o("div",{class:"item-title-row"},[o("div",{class:"item-title"},"logo hi\u1EC3n th\u1ECB")])],-1),ht=o("i",{class:"f7-icons"},"xmark_circle",-1),gt=c("Cancel"),mt=o("i",{class:"f7-icons"},"cloud_upload",-1),ft=c("Save");function vt(e,t,a,u,n,r){const m=l("f7-navbar"),b=l("f7-preloader"),h=l("f7-list-input"),g=l("f7-text-editor"),_=l("f7-list"),k=l("f7-button"),f=l("f7-col"),T=l("f7-row"),C=l("f7-block"),U=l("f7-page");return p(),y(U,null,{default:s(()=>[i(m,{title:r.pageTitle},null,8,["title"]),O(i(b,null,null,512),[[L,n.isLoading]]),o("div",null,[o("div",rt,[o("div",ct,[i(_,null,{default:s(()=>[i(h,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn c\xF4ng ty (ng\u1EAFn g\u1ECDn)","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.item.name,"onUpdate:value":t[0]||(t[0]=I=>n.item.name=I)},null,8,["value"]),i(h,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn c\xF4ng ty (\u0111\u1EA7y \u0111\u1EE7)","floating-label":"",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.item.fullname,"onUpdate:value":t[1]||(t[1]=I=>n.item.fullname=I)},null,8,["value"]),i(h,{outline:"",label:"\u0110\u1ECBa ch\u1EC9 c\xF4ng ty","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"150","clear-button":"",value:n.item.address,"onUpdate:value":t[2]||(t[2]=I=>n.item.address=I)},null,8,["value"]),i(h,{outline:"",label:"Website gi\u1EDBi thi\u1EC7u","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:n.item.website,"onUpdate:value":t[3]||(t[3]=I=>n.item.website=I)},null,8,["value"]),i(h,{outline:"",label:"Logo c\xF4ng ty","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:n.item.logoUrl,"onUpdate:value":t[4]||(t[4]=I=>n.item.logoUrl=I)},null,8,["value"]),n.item.logoUrl?(p(),w("li",dt,[o("div",ut,[o("img",{src:n.item.logoUrl,width:"120"},null,8,pt)]),_t])):E("",!0),i(h,{outline:"",label:"Email li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp","clear-button":"",value:n.item.email,"onUpdate:value":t[5]||(t[5]=I=>n.item.email=I)},null,8,["value"]),i(h,{outline:"",label:"Hotline h\u1ED7 tr\u1EE3","floating-label":"",type:"text",placeholder:"s\u1ED1 \u0111i\u1EC7n tho\u1EA1i",maxlength:"30","clear-button":"",value:n.item.hotline,"onUpdate:value":t[6]||(t[6]=I=>n.item.hotline=I)},null,8,["value"]),i(h,{type:"text",outline:"","floating-label":"",label:"M\xE3 s\u1ED1 thu\u1EBF",placeholder:"nh\u1EADp",maxlength:"30","clear-button":"",value:n.item.taxCode,"onUpdate:value":t[7]||(t[7]=I=>n.item.taxCode=I)},null,8,["value"]),i(g,{placeholder:"Enter text...",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:n.item.content,"onTexteditor:change":t[8]||(t[8]=I=>n.item.content=I)},null,8,["value"])]),_:1}),i(C,null,{default:s(()=>[i(T,null,{default:s(()=>[i(f,{width:"30"},{default:s(()=>[i(k,{round:"",large:"",color:"gray",onClick:t[9]||(t[9]=I=>r.close())},{default:s(()=>[ht,gt]),_:1})]),_:1}),i(f,{width:"40"},{default:s(()=>[i(k,{fill:"",round:"",large:"",onClick:t[10]||(t[10]=I=>r.clickEdit())},{default:s(()=>[mt,ft]),_:1})]),_:1})]),_:1})]),_:1})])])])]),_:1})}var ae=x(at,[["render",vt]]);const bt={components:{Organization:ae},emits:["selected"],setup(){return{orgId:M("getOrgId")}},data(){return{isLoading:!1,list:[],itemId:0,item:{},popupOpened:!1,filters:{status:"ALL",limit:50,skip:0},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getOrganization"},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getOrganization(){if(this.orgId==111){let e=Y.BASE_URL+"Organizations",t={limit:40,where:{id:{gt:1e3}}},a=this;this.isLoading=!0,ce.json(e,{filter:t}).then(u=>{a.list=u.data,a.isLoading=!1})}}},mounted(){this.getOrganization()}},yt={class:"card"},kt={class:"card-header"},It=c(" C\xE1c Doanh nghi\u1EC7p \u0111ang s\u1EED d\u1EE5ng QRCare "),wt=c("ADD"),Ct={class:"card-content card-content-padding scrollable"},Tt={class:"list media-list"},Et=["onClick"],Ut={class:"item-media"},At=["src"],xt={class:"item-inner"},Dt={class:"item-title-row"},Rt={class:"item-title"},Pt={class:"item-after"},St={class:"item-subtitle"},$t={class:"item-text"},Ot=o("br",null,null,-1);function Lt(e,t,a,u,n,r){const m=l("f7-preloader"),b=l("f7-button"),h=l("organization"),g=l("f7-popup");return p(),w(S,null,[o("div",yt,[o("div",kt,[It,O(i(m,null,null,512),[[L,n.isLoading]]),i(b,{onClick:t[0]||(t[0]=_=>r.create())},{default:s(()=>[wt]),_:1})]),o("div",Ct,[o("div",Tt,[o("ul",null,[(p(!0),w(S,null,B(n.list,_=>(p(),w("li",{key:_.id},[o("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[o("div",Ut,[o("img",{src:_.logoUrl,width:"40"},null,8,At)]),o("div",xt,[o("div",Dt,[o("div",Rt,d(_.name),1),o("div",Pt,d(e.$utils.formatDate(_.created)),1)]),o("div",St,d(_.status)+" "+d(_.id),1),o("div",$t,[c(d(_.address),1),Ot])])],8,Et)]))),128))])])])]),i(g,{class:"organization-popup",opened:n.popupOpened,"onPopup:closed":t[1]||(t[1]=_=>n.popupOpened=!1)},{default:s(()=>[i(h,{orgId:n.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"])],64)}var qt=x(bt,[["render",Lt]]);const Nt={components:{Organization:ae},emits:["selected"],setup(){return{orgId:M("getOrgId")}},data(){return{isLoading:!1,list:[],itemId:0,item:{},popupOpened:!1,filters:{status:"ALL",limit:50,skip:0},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getOrganization"},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){this.$emit("selected",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getOrganization(){if(this.orgId==111){let e=Y.BASE_URL+"Organizations",t={fields:["id","name","logoUrl","website","fullname","status","address"],where:{rootId:111,status:"ACTIVE"}},a=this;this.isLoading=!0,ce.json(e,{filter:t}).then(u=>{a.list=u.data,a.isLoading=!1})}}},mounted(){this.getOrganization()}},Qt={class:"card"},Bt={class:"card-header"},Vt=c(" C\xE1c \u0110\u1EA1i l\xFD Ph\xE2n ph\u1ED1i gi\u1EA3i ph\xE1p QRCare "),zt=c("ADD"),Mt={class:"card-content card-content-padding scrollable"},Yt={class:"list media-list"},Ft=["onClick"],jt={class:"item-media"},Kt=["src"],Ht={class:"item-inner"},Gt={class:"item-title-row"},Wt={class:"item-title"},Jt={class:"item-after"},Xt={class:"item-subtitle"},Zt={class:"item-text"},ei=o("br",null,null,-1);function ti(e,t,a,u,n,r){const m=l("f7-preloader"),b=l("f7-button"),h=l("organization"),g=l("f7-popup");return p(),w(S,null,[o("div",Qt,[o("div",Bt,[Vt,O(i(m,null,null,512),[[L,n.isLoading]]),i(b,{onClick:t[0]||(t[0]=_=>r.create())},{default:s(()=>[zt]),_:1})]),o("div",Mt,[o("div",Yt,[o("ul",null,[(p(!0),w(S,null,B(n.list,_=>(p(),w("li",{key:_.id},[o("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[o("div",jt,[o("img",{src:_.logoUrl,width:"40"},null,8,Kt)]),o("div",Ht,[o("div",Gt,[o("div",Wt,d(_.name),1),o("div",Jt,d(e.$utils.formatDate(_.created)),1)]),o("div",Xt,d(_.status)+" "+d(_.id),1),o("div",Zt,[c(d(_.address),1),ei])])],8,Ft)]))),128))])])])]),i(g,{class:"organization-popup",opened:n.popupOpened,"onPopup:closed":t[1]||(t[1]=_=>n.popupOpened=!1)},{default:s(()=>[i(h,{orgId:n.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"])],64)}var ii=x(Nt,[["render",ti]]);const oi={components:{Organization:ae},props:{orgId:Number},data(){return{isLoading:!1,item:{},itemId:0,popupOpened:!1}},watch:{orgId:"getOrganization"},methods:{edit(){this.itemId=this.orgId,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},getOrganization(){if(this.orgId){console.log("summary, getOrg()");let e=this;this.isLoading=!0,this.$supplier.getInfo(this.orgId).then(t=>{e.isLoading=!1,e.item=t})}}},mounted(){this.getOrganization()}},ni={class:"card"},si={class:"card-header"},li=c("Edit"),ai={class:"card-content card-content-padding scrollable"},ri={class:"list media-list"},ci={class:"item-link item-content chevron-center"},di={class:"item-media"},ui=["src"],pi={class:"item-inner"},_i={class:"item-title-row"},hi={class:"item-title"},gi={class:"item-after"},mi={class:"item-subtitle"},fi={class:"item-text"},vi=o("br",null,null,-1);function bi(e,t,a,u,n,r){const m=l("f7-preloader"),b=l("f7-button"),h=l("organization"),g=l("f7-popup");return p(),w(S,null,[o("div",ni,[o("div",si,[c(" Th\xF4ng tin c\xF4ng ty "+d(a.orgId),1),O(i(m,null,null,512),[[L,n.isLoading]]),i(b,{onClick:t[0]||(t[0]=_=>r.edit())},{default:s(()=>[li]),_:1})]),o("div",ai,[o("div",ri,[o("ul",null,[o("li",ci,[o("div",di,[o("img",{src:n.item.logoUrl,width:"40"},null,8,ui)]),o("div",pi,[o("div",_i,[o("div",hi,d(n.item.name),1),o("div",gi,d(e.$utils.formatDate(n.item.created)),1)]),o("div",mi,d(n.item.status)+" "+d(n.item.id),1),o("div",fi,[c(d(n.item.address),1),vi])])])])])])]),i(g,{class:"update-supplier",opened:n.popupOpened,"onPopup:closed":t[1]||(t[1]=_=>n.popupOpened=!1)},{default:s(()=>[i(h,{orgId:n.itemId,onUpdated:r.updated},null,8,["orgId","onUpdated"])]),_:1},8,["opened"])],64)}var yi=x(oi,[["render",bi]]);const ki={props:{supplierId:Number,userId:Number},setup(){return{orgId:M("getOrgId")}},emits:["updated"],data(){return{isLoading:!1,item:{},imageUrl:""}},watch:{userId:"getSupplierEmployee"},computed:{listImages(){return this.item.imageUrls||[]},pageTitle(){return this.userId>0?`Chi ti\u1EBFt nh\xE2n vi\xEAn v\u1EDBi Id: ${this.userId}`:"T\u1EA1o m\u1EDBi nh\xE2n vi\xEAn"}},methods:{getSupplierEmployee(){console.log("getSupplierEmployee():"+this.userId,this.supplierId);let e={fullName:"",roleId:2,roleCode:"WORKER",organizationId:888,teamId:0,personId:0,status:"GENERATED",created:new Date,createdBy:1,modified:new Date,username:""};if(this.userId>0&&this.supplierId>0){let t=this;this.$supplier.getSupplierEmployee(this.userId,this.supplierId).then(a=>{this.isLoading=!0,t.isLoading=!1,t.item=a})}else this.item=e},async processUpdate(){},close(){this.$emit("updated","CLOSE")}},mounted(){this.getSupplierEmployee()}},Ii=c("Close"),wi={class:"card"},Ci={class:"card-content"},Ti=o("i",{class:"f7-icons"},"xmark_circle",-1),Ei=c("Cancel"),Ui=o("i",{class:"f7-icons"},"cloud_upload",-1),Ai=c("Save");function xi(e,t,a,u,n,r){const m=l("f7-link"),b=l("f7-nav-right"),h=l("f7-navbar"),g=l("f7-preloader"),_=l("f7-list-input"),k=l("f7-list"),f=l("f7-button"),T=l("f7-col"),C=l("f7-row"),U=l("f7-block"),I=l("f7-page");return p(),y(I,null,{default:s(()=>[i(h,{title:r.pageTitle},{default:s(()=>[i(b,null,{default:s(()=>[i(m,{"popup-close":""},{default:s(()=>[Ii]),_:1})]),_:1})]),_:1},8,["title"]),O(i(g,null,null,512),[[L,n.isLoading]]),O(o("div",wi,[o("div",Ci,[i(k,null,{default:s(()=>[i(_,{disabled:"",type:"text",placeholder:"nh\u1EADp",outline:"",label:"T\xEAn \u0111\u0103ng nh\u1EADp","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.item.username,"onUpdate:value":t[0]||(t[0]=P=>n.item.username=P)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",outline:"",label:"H\u1ECD t\xEAn \u0111\u1EA7y \u0111\u1EE7","floating-label":"",maxlength:"100","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.item.fullName,"onUpdate:value":t[1]||(t[1]=P=>n.item.fullName=P)},null,8,["value"]),i(_,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i","floating-label":"",type:"number",resizable:"","clear-button":"",value:n.item.phoneNumber,"onUpdate:value":t[2]||(t[2]=P=>n.item.phoneNumber=P)},null,8,["value"]),i(_,{outline:"",label:"\u0110\u1ECBa ch\u1EC9 nh\xE0","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"150","clear-button":"",value:n.item.address,"onUpdate:value":t[3]||(t[3]=P=>n.item.address=P)},null,8,["value"]),i(_,{outline:"",label:"Email li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp","clear-button":"",value:n.item.email,"onUpdate:value":t[4]||(t[4]=P=>n.item.email=P)},null,8,["value"]),o("p",null,"Vai tro "+d(n.item.roleCode),1)]),_:1}),i(U,null,{default:s(()=>[i(C,null,{default:s(()=>[i(T,{width:"30"},{default:s(()=>[i(f,{round:"",large:"",color:"gray",onClick:t[5]||(t[5]=P=>r.close())},{default:s(()=>[Ti,Ei]),_:1})]),_:1}),i(T,{width:"40"},{default:s(()=>[i(f,{fill:"",round:"",large:"",onClick:t[6]||(t[6]=P=>e.clickEdit())},{default:s(()=>[Ui,Ai]),_:1})]),_:1})]),_:1})]),_:1})])],512),[[L,!n.isLoading]])]),_:1})}var Di=x(ki,[["render",xi]]);const Ri={components:{Employee:Di},props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},itemId:0,supplierId:0,popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId:"getAppUsers"},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){this.$emit("selected",e),console.log("selected()",e),e.id>0&&(this.itemId=e.id,this.supplierId=this.orgId,this.popupOpened=!0)},async getAppUsers(){this.orgId>0&&(this.isLoading=!0,console.log(this.orgId),this.list=await this.$supplier.getUsers(this.orgId),this.isLoading=!1)}},mounted(){this.getAppUsers()}},Pi={class:"card"},Si={class:"card-header"},$i=c(" Danh s\xE1ch Nh\xE2n vi\xEAn "),Oi={class:"card-content card-content-padding scrollable"},Li={class:"list media-list"},qi=["onClick"],Ni={class:"item-media"},Qi=["src"],Bi={class:"item-inner"},Vi={class:"item-title-row"},zi={class:"item-title"},Mi={class:"item-after"},Yi={class:"item-subtitle"},Fi={class:"item-text"},ji=o("br",null,null,-1);function Ki(e,t,a,u,n,r){const m=l("f7-preloader"),b=l("employee"),h=l("f7-popup");return p(),w(S,null,[o("div",Pi,[o("div",Si,[$i,O(i(m,null,null,512),[[L,n.isLoading]])]),o("div",Oi,[o("div",Li,[o("ul",null,[(p(!0),w(S,null,B(n.list,g=>(p(),w("li",{key:g.id},[o("a",{onClick:_=>r.selected(g),class:"item-link item-content chevron-center"},[o("div",Ni,[o("img",{src:g.logoUrl,width:"40"},null,8,Qi)]),o("div",Bi,[o("div",Vi,[o("div",zi,d(g.fullName),1),o("div",Mi,d(e.$utils.formatDate(g.created)),1)]),o("div",Yi,d(g.roleCode),1),o("div",Fi,[c(d(g.status)+" "+d(g.email),1),ji])])],8,qi)]))),128))])])])]),i(h,{class:"edit-employee",opened:n.popupOpened,"onPopup:closed":t[0]||(t[0]=g=>n.popupOpened=!1)},{default:s(()=>[i(b,{userId:n.itemId,supplierId:n.supplierId},null,8,["userId","supplierId"])]),_:1},8,["opened"])],64)}var Hi=x(Ri,[["render",Ki]]);const Gi={props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getTasks()}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},async getTasks(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getQRTask(this.orgId).then(t=>{console.log("\bgetTasks()",e.list),e.list=t,e.isLoading=!1})}}},mounted(){this.getTasks()}},Wi={class:"card"},Ji={class:"card-header"},Xi={class:"card-content card-content-padding scrollable"},Zi={class:"list media-list"},eo=["onClick"],to={class:"item-media"},io=["src"],oo={class:"item-inner"},no={class:"item-header"},so={class:"item-title-row"},lo=o("div",{class:"item-after"},null,-1),ao={class:"item-subtitle"},ro={class:"item-text"},co={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},uo=c("Close");function po(e,t,a,u,n,r){const m=l("f7-preloader"),b=l("f7-link"),h=l("f7-nav-right"),g=l("f7-navbar"),_=l("f7-page"),k=l("f7-popup");return p(),w(S,null,[o("div",Wi,[o("div",Ji,[c(" C\xF4ng vi\u1EC7c ho\xE0n th\xE0nh: "+d(a.orgId)+" ",1),O(i(m,null,null,512),[[L,n.isLoading]])]),o("div",Xi,[o("div",Zi,[o("ul",null,[(p(!0),w(S,null,B(n.list,f=>(p(),w("li",{key:f.id},[o("a",{onClick:T=>r.selected(f),class:"item-link item-content chevron-center"},[o("div",to,[o("img",{style:{border:"1px solid #ccc"},src:f.imageUrls&&f.imageUrls[0]?f.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,io)]),o("div",oo,[o("div",no,d(e.$utils.formatDateTime(f.modified)),1),o("div",so,[o("div",{class:ee(e.$utils.getActivityColor(f)),style:{"font-size":"16px"}},d(e.$utils.getActivityName(f)),3),lo]),o("div",ao,d(f.title),1),o("div",ro,d(f.description),1),o("div",co,d(f.money>0?e.$utils.formatMoney(f.money):" "),1)])],8,eo)]))),128))])])])]),i(k,{class:"demo-popup",opened:n.popupOpened,"onPopup:closed":t[0]||(t[0]=f=>n.popupOpened=!1)},{default:s(()=>[i(_,null,{default:s(()=>[i(g,{title:"Th\xF4ng tin chi ti\u1EBFt: "+n.item.id},{default:s(()=>[i(h,null,{default:s(()=>[i(b,{"popup-close":""},{default:s(()=>[uo]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1},8,["opened"])],64)}var _o=x(Gi,[["render",po]]);const ho={props:{orgId:Number},emits:["selected"],data(){return{isLoading:!1,list:[],item:{},popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getRequests()}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},getRequests(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getRequest(this.orgId).then(t=>{e.list=t,e.isLoading=!1})}}},mounted(){this.getRequests()}},go={class:"card"},mo={class:"card-header"},fo={class:"card-content card-content-padding scrollable"},vo={class:"list media-list"},bo=["onClick"],yo={class:"item-media"},ko=["src"],Io={class:"item-inner"},wo={class:"item-header"},Co={class:"item-title-row"},To=o("div",{class:"item-after"},null,-1),Eo={class:"item-subtitle"},Uo={class:"item-text"},Ao={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},xo=c("Close");function Do(e,t,a,u,n,r){const m=l("f7-preloader"),b=l("f7-link"),h=l("f7-nav-right"),g=l("f7-navbar"),_=l("f7-page"),k=l("f7-popup");return p(),w(S,null,[o("div",go,[o("div",mo,[c(" Y\xEAu c\u1EA7u m\u1EDBi nh\u1EADn "+d(a.orgId)+" ",1),O(i(m,null,null,512),[[L,n.isLoading]])]),o("div",fo,[o("div",vo,[o("ul",null,[(p(!0),w(S,null,B(n.list,f=>(p(),w("li",{key:f.id},[o("a",{onClick:T=>r.selected(f),class:"item-link item-content chevron-center"},[o("div",yo,[o("img",{style:{border:"1px solid #ccc"},src:f.imageUrls&&f.imageUrls[0]?f.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,ko)]),o("div",Io,[o("div",wo,d(e.$utils.formatDateTime(f.modified)),1),o("div",Co,[o("div",{class:ee(e.$utils.getActivityColor(f)),style:{"font-size":"16px"}},d(e.$utils.getActivityName(f)),3),To]),o("div",Eo,d(f.title),1),o("div",Uo,d(f.description),1),o("div",Ao,d(f.money>0?e.$utils.formatMoney(f.money):" "),1)])],8,bo)]))),128))])])])]),i(k,{class:"demo-popup",opened:n.popupOpened,"onPopup:closed":t[0]||(t[0]=f=>n.popupOpened=!1)},{default:s(()=>[i(_,null,{default:s(()=>[i(g,{title:"Th\xF4ng tin chi ti\u1EBFt: "+n.item.id},{default:s(()=>[i(h,null,{default:s(()=>[i(b,{"popup-close":""},{default:s(()=>[xo]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1},8,["opened"])],64)}var Ro=x(ho,[["render",Do]]);const Po={props:{orgId:{type:Number,default:0}},emits:["selected"],data(){return{isLoading:!1,items:[],item:{},iItemLoading:!1,qrid:[],popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},methods:{selected(e){this.$emit("selected",e),this.item=e,this.popupOpened=!0},getProducts(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getProducts(this.orgId).then(t=>{e.items=t,e.isLoading=!1})}else this.items=[]}},mounted(){this.getProducts()}},So={class:"card"},$o={class:"card-header"},Oo={class:"card-content card-content-padding scrollable"},Lo={class:"list media-list"},qo=["onClick"],No=o("div",{class:"item-media"},[o("i",{class:"icon f7-icons text-color-yellow"},"document_text_fill")],-1),Qo={class:"item-inner"},Bo={class:"item-title-row"},Vo={class:"item-title"},zo={class:"item-subtitle"},Mo={class:"item-text"},Yo=o("br",null,null,-1),Fo=o("br",null,null,-1),jo={class:"card"},Ko={class:"card-header"};function Ho(e,t,a,u,n,r){const m=l("f7-preloader"),b=l("f7-navbar"),h=l("f7-page"),g=l("f7-popup");return p(),w(S,null,[o("div",So,[o("div",$o,[c(" Danh s\xE1ch s\u1EA3n ph\u1EA9m c\u1EE7a "+d(e.ordId)+" ("+d(n.items.length)+")",1),O(i(m,null,null,512),[[L,n.isLoading]])]),o("div",Oo,[o("div",Lo,[o("ul",null,[(p(!0),w(S,null,B(n.items,_=>(p(),w("li",{key:_.id},[o("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[No,o("div",Qo,[o("div",Bo,[o("div",Vo,d(_.title),1)]),o("div",zo,d(_.id),1),o("div",Mo,[c(d(_.status),1),Yo,c(" "+d(_.created),1),Fo])])],8,qo)]))),128))])])])]),i(g,{class:"demo-popup",opened:n.popupOpened,"onPopup:closed":t[0]||(t[0]=_=>n.popupOpened=!1)},{default:s(()=>[i(h,null,{default:s(()=>[i(b,{title:"Chi ti\u1EBFt c\u1EE7a "+n.item.id},null,8,["title"]),o("div",jo,[o("div",Ko," Chi tiet cua id "+d(n.item.title),1)])]),_:1})]),_:1},8,["opened"])],64)}var Go=x(Po,[["render",Ho]]);const Wo={props:{productId:Number},setup(){return{orgId:M("getOrgId")}},emits:["updated"],data(){return{isLoading:!1,item:{},imageUrl:""}},watch:{productId:"getProduct"},computed:{listImages(){return this.item.imageUrls||[]},pageTitle(){return this.productId>0?`Chi ti\u1EBFt s\u1EA3n ph\u1EA9m v\u1EDBi Id: ${this.productId}`:"T\u1EA1o m\u1EDBi s\u1EA3n ph\u1EA9m"}},methods:{getProduct(){let e={title:"",manufacturer:"",type:"",category:[],description:"",content:"",sellerId:this.orgId,sellerUrl:"",originProductId:0,originProductUrl:"",validatedOriginProduct:"SELLER",barCode:"",imageUrls:[],warrantyDays:0,status:"ACTIVE",created:new Date,createdBy:0,modified:new Date,modifiedBy:0};if((this.orgId==111||this.orgId==888)&&(e.manufacturerId=this.orgId,e.manufacturer="QRCare"),this.productId>0){console.log("getProduct():"+this.productId);let t=this;this.$supplier.getProduct(this.productId).then(a=>{this.isLoading=!0,t.isLoading=!1,t.item=a})}else this.item=e},changeInactive(){this.$supplier.changeInactive(this.productId)},uploadImage(){this.imageUrl&&this.item.imageUrls.push(this.imageUrl)},async processUpdate(){const e=this;this.$supplier.updateProduct(this.productId,this.item).then(t=>{Q.dialog.alert("C\u1EADp nh\u1EADt th\xE0nh c\xF4ng"),e.$emit("updated","DONE")}).catch(t=>{Q.dialog.alert("L\u1ED7i khi th\u1EF1c hi\u1EC7n",t)})},close(){this.$emit("updated","CLOSE")}},mounted(){this.getProduct()}},Jo=c("Close"),Xo={class:"card"},Zo={class:"card-content"},en=["src"],tn=c(" Th\xEAm h\xECnh"),on=o("i",{class:"f7-icons"},"xmark_circle",-1),nn=c("Cancel"),sn=o("i",{class:"f7-icons"},"cloud_upload",-1),ln=c("Save");function an(e,t,a,u,n,r){const m=l("f7-link"),b=l("f7-nav-right"),h=l("f7-navbar"),g=l("f7-preloader"),_=l("f7-list-input"),k=l("f7-col"),f=l("f7-input"),T=l("f7-button"),C=l("f7-row"),U=l("f7-text-editor"),I=l("f7-list"),P=l("f7-page");return p(),y(P,null,{default:s(()=>[i(h,{title:r.pageTitle},{default:s(()=>[i(b,null,{default:s(()=>[i(m,{"popup-close":""},{default:s(()=>[Jo]),_:1})]),_:1})]),_:1},8,["title"]),O(i(g,null,null,512),[[L,n.isLoading]]),O(o("div",Xo,[o("div",Zo,[i(I,null,{default:s(()=>[i(_,{type:"text",placeholder:"nh\u1EADp",label:"T\xEAn s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.item.title,"onUpdate:value":t[0]||(t[0]=A=>n.item.title=A)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Nh\xE0 s\u1EA3n xu\u1EA5t",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:n.item.manufacturer,"onUpdate:value":t[1]||(t[1]=A=>n.item.manufacturer=A)},null,8,["value"]),i(_,{type:"text",placeholder:"nh\u1EADp",label:"M\xE3 s\u1EA3n ph\u1EA9m (duy nh\u1EA5t)",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:n.item.barCode,"onUpdate:value":t[2]||(t[2]=A=>n.item.barCode=A)},null,8,["value"]),i(C,null,{default:s(()=>[(p(!0),w(S,null,B(n.item.imageUrls,A=>(p(),y(k,{width:"50",key:A},{default:s(()=>[o("img",{width:"100",src:A},null,8,en)]),_:2},1024))),128)),i(k,{width:"50"},{default:s(()=>[i(f,{type:"text",outline:"","floating-label":"",placeholder:"nh\u1EADp",label:"Link h\xECnh \u1EA3nh",value:n.imageUrl,"onUpdate:value":t[3]||(t[3]=A=>n.imageUrl=A)},null,8,["value"]),i(T,{onClick:t[4]||(t[4]=A=>r.uploadImage())},{default:s(()=>[tn]),_:1})]),_:1})]),_:1}),i(_,{type:"text",placeholder:"nh\u1EADp",label:"Link s\u1EA3n ph\u1EA9m",outline:"","floating-label":"",maxlength:"50","clear-button":"",value:n.item.sellerUrl,"onUpdate:value":t[5]||(t[5]=A=>n.item.sellerUrl=A)},null,8,["value"]),i(U,{placeholder:"Enter text...",label:"Gi\u1EDBi thi\u1EC7u s\u1EA3n ph\u1EA9m",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:n.item.description,"onUpdate:value":t[6]||(t[6]=A=>n.item.description=A)},null,8,["value"]),i(U,{placeholder:"Enter text...",label:"Gi\u1EDBi thi\u1EC7u s\u1EA3n ph\u1EA9m",buttons:[["bold","italic","underline","strikeThrough"],["orderedList","unorderedList"]],value:n.item.content,"onUpdate:value":t[7]||(t[7]=A=>n.item.content=A)},null,8,["value"]),i(_,{type:"number",placeholder:"nh\u1EADp",label:"Th\u1EDDi gian b\u1EA3o h\xE0nh (s\u1ED1 ng\xE0y)",outline:"","floating-label":"","clear-button":"",value:n.item.warrantyDays,"onUpdate:value":t[8]||(t[8]=A=>n.item.warrantyDays=A)},null,8,["value"]),i(_,{disabled:"",type:"text",placeholder:"",label:"tr\u1EA1ng th\xE1i",outline:"","floating-label":"",required:"",value:n.item.status,"onUpdate:value":t[9]||(t[9]=A=>n.item.status=A)},null,8,["value"]),o("p",null,"SellerID "+d(n.item.sellerId),1),o("p",null,"ManufacturID "+d(n.item.manufacturerId),1),o("p",null,"Ng\xE0y t\u1EA1o: "+d(e.$utils.formatDate(n.item.created)),1),o("p",null,"Modified: "+d(e.$utils.formatDate(n.item.modified)),1),i(C,null,{default:s(()=>[i(k,{width:"30"},{default:s(()=>[i(T,{round:"",large:"",color:"gray",onClick:t[10]||(t[10]=A=>r.close())},{default:s(()=>[on,nn]),_:1})]),_:1}),i(k,{width:"40"},{default:s(()=>[i(T,{fill:"",round:"",large:"",onClick:t[11]||(t[11]=A=>r.processUpdate())},{default:s(()=>[sn,ln]),_:1})]),_:1})]),_:1})]),_:1})])],512),[[L,!n.isLoading]])]),_:1})}var ge=x(Wo,[["render",an]]);const rn={props:{orgId:Number},emits:["selected"],components:{Product:ge},data(){return{isLoading:!1,list:[],itemId:0,popupOpened:!1,filters:{},searchQuery:""}},computed:{filteredRepositories(){},repositoriesMatchingSearchQuery(){}},watch:{orgId(e){e>0&&this.getProducts()}},methods:{create(){this.itemId=0,this.popupOpened=!0},updated(e){console.log("updated()",e),this.popupOpened=!1},selected(e){console.log("selected product",e),e.id>0&&(this.itemId=e.id,this.popupOpened=!0)},getProducts(){if(this.orgId>0){let e=this;this.isLoading=!0,this.$supplier.getSellProducts(this.orgId).then(t=>{e.list=t,e.isLoading=!1})}}},mounted(){this.getProducts()}},cn={class:"card"},dn={class:"card-header"},un=c("ADD"),pn={class:"card-content card-content-padding scrollable"},_n={class:"list media-list"},hn=["onClick"],gn={class:"item-media"},mn=["src"],fn={class:"item-inner"},vn={class:"item-header"},bn={class:"item-title-row"},yn={style:{"font-size":"16px"}},kn=o("div",{class:"item-after"},null,-1),In={class:"item-subtitle"},wn={class:"item-text"},Cn={class:"item-footer",style:{"font-size":"14px","font-weight":"600"}};function Tn(e,t,a,u,n,r){const m=l("f7-preloader"),b=l("f7-button"),h=l("product"),g=l("f7-popup");return p(),w(S,null,[o("div",cn,[o("div",dn,[c(" S\u1EA3n ph\u1EA9m \u0111ang b\xE1n "+d(a.orgId)+" ",1),O(i(m,null,null,512),[[L,n.isLoading]]),i(b,{onClick:t[0]||(t[0]=_=>r.create())},{default:s(()=>[un]),_:1})]),o("div",pn,[o("div",_n,[o("ul",null,[(p(!0),w(S,null,B(n.list,_=>(p(),w("li",{key:_.id},[o("a",{onClick:k=>r.selected(_),class:"item-link item-content chevron-center"},[o("div",gn,[o("img",{style:{border:"1px solid #ccc"},src:_.imageUrls&&_.imageUrls[0]?_.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,mn)]),o("div",fn,[o("div",vn,d(_.type),1),o("div",bn,[o("div",yn,d(_.title),1),kn]),o("div",In,d(_.status),1),o("div",wn,d(_.description),1),o("div",Cn,d(e.$utils.formatDate(_.modified)),1)])],8,hn)]))),128))])])])]),i(g,{class:"product-popup",opened:n.popupOpened,"onPopup:closed":t[1]||(t[1]=_=>n.popupOpened=!1)},{default:s(()=>[i(h,{productId:n.itemId,onUpdated:r.updated},null,8,["productId","onUpdated"])]),_:1},8,["opened"])],64)}var En=x(rn,[["render",Tn]]);const Un={setup(){return{item:{id:0,packageId:0,warehouseId:0,private:0,password:"string",cardType:"CARD_TYPE.EXIST_DEVICE",phase:"PRODUCT_STATUS.NEW",displayStatus:"string",title:"Nh\u1EADp t\xEAn c\u1EE7a thi\u1EBFt b\u1ECB",description:"M\xF4 t\u1EA3 ng\u1EAFn g\u1ECDn thi\u1EBFt b\u1ECB",imageUrls:[],productId:0,activatedDate:"$now",warrantyDays:0,nextReminder:"2021-11-08T21:33:23.631Z",endDate:"$now",deviceMetadata:{},locationId:0,location:"string",ownerName:"a B\u1EA3o",ownerAddress:"11 \u0111\u1EB7ng th\u1EBF Phong",ownerPhoneNumber:"string",ownerId:0,ownerOrganizationId:0,ownerMetadata:{},userName:"string",userAddress:"string",userId:0,userOrganizationId:0,userMetadata:{},sellerName:"string",sellerAddress:"string",sellerId:0,distributorId:0,supportId:0,isValidated:!0,sellerMetadata:{},status:"QRID_STATUS.GENERATED",metadata:{},created:"$now",createdBy:0,modified:"$now",modifiedBy:0}}}},An=c("Th\xF4ng tin kh\xE1ch h\xE0ng"),xn={class:"block"},Dn={class:"block-header"},Rn={class:"block-content"},Pn=c("Th\xF4ng tin Ng\u01B0\u1EDDi b\xE1n"),Sn={class:"card"},$n={class:"card-header"},On={class:"card-content card-content-padding scrollable"};function Ln(e,t,a,u,n,r){const m=l("f7-block-title"),b=l("f7-list-item"),h=l("f7-list");return p(),w(S,null,[i(m,null,{default:s(()=>[An]),_:1}),o("div",xn,[o("div",Dn,d(u.item.ownerName),1),o("div",Rn,[i(h,null,{default:s(()=>[i(b,null,{default:s(()=>[c(d(u.item.ownerAddress),1)]),_:1})]),_:1})])]),i(m,null,{default:s(()=>[Pn]),_:1}),o("div",Sn,[o("div",$n,d(u.item.ownerName),1),o("div",On,[i(h,null,{default:s(()=>[i(b,null,{default:s(()=>[c(d(u.item.ownerAddress),1)]),_:1})]),_:1})])])],64)}var me=x(Un,[["render",Ln]]);const qn={props:["title"],template:`
        <h3>{{ title }}</h3>
      `},Nn={inject:["messaging"],setup(){const e=ke("messaging");console.log("Firebase object Setup",e)},components:{ComponentA:qn,Packages:lt,Organizations:qt,Agency:ii,Supplier:yi,OrgUsers:Hi,TasksCard:_o,"lastest-request":Ro,ListProduct:Go,Products:En,DetailProduct:ge,MemberHome:me},props:{f7route:Object,f7router:Object},data(){let e=M("isLogged"),t=M("getUser");console.log("setup() home",e.value,t.value);let a=M("getOrgId");return console.log("orgId",a),{openedLogin:!e.value,user:t,isLogged:e,username:"",password:"",orgId:a,productId:153,packageId:0,qrId:0,activityId:0,userId:0,locationId:0}},computed:{getUserName(){return this.user&&this.user.fullName?this.user.fullName:""},showListOrgs(){return this.orgId==111}},methods:{clickLogin(){let e={username:this.username,password:this.password};Q.preloader.show();const t=this;N.dispatch("login",e).then(a=>{Q.preloader.hide(),t.openedLogin=!1,console.log("f7.loginScreen.close()"),Q.loginScreen.close()})},selectPackage(e){console.log(e)},selectOrganization(e){e.id>0&&(this.orgId=e.id)},selectProduct(e){e.id>0&&(this.productId=e.id)},logout(){N.dispatch("logout"),this.openedLogin=!0}},mounted(){}},Qn={class:"page"},Bn={class:"navbar"},Vn=o("div",{class:"navbar-bg"},null,-1),zn={class:"navbar-inner"},Mn={class:"title"},Yn={class:"right"},Fn={class:"link popover-open","data-popover":".profile-popover"},jn={class:"margin-right-half"},Kn=c("Ch\xE0o,"),Hn={class:"popover profile-popover"},Gn={class:"popover-inner"},Wn={class:"text-align-center"},Jn=o("div",{class:"list no-hairlines no-hairlines-between"},[o("ul",null,[o("li",null,[o("a",{href:"#",class:"item-link item-content"},[o("div",{class:"item-media"},[o("i",{class:"icon f7-icons"},"person_circle_fill")]),o("div",{class:"item-inner"},[o("div",{class:"item-title"},"Th\xF4ng tin c\xE1 nh\xE2n")])])])])],-1),Xn={class:"list no-hairlines no-hairlines-between margin-bottom"},Zn=o("div",{class:"item-media"},[o("i",{class:"icon f7-icons"},"exit_fill")],-1),es=o("div",{class:"item-inner"},[o("div",{class:"item-title"},"\u0110\u0103ng xu\u1EA5t")],-1),ts=[Zn,es],is={class:"page-content"},os={class:"dashboard-cards"},ns={key:0,class:"row margin-horizontal margin-bottom"},ss={class:"col-100 medium-50 margin-top"},ls={class:"col-100 medium-50 margin-top"},as={class:"row margin-horizontal margin-bottom"},rs={class:"col-100 medium-50 margin-top"},cs={class:"col-100 medium-50 margin-top"},ds={class:"row margin-horizontal margin-bottom"},us={class:"col-100 medium-50 margin-top"},ps={class:"col-100 medium-50 margin-top"},_s={class:"row margin-horizontal margin-bottom"},hs={class:"col-100 medium-50 margin-top"},gs={class:"col-100 medium-50 margin-top"},ms=o("div",{class:"row margin-horizontal margin-bottom"},null,-1),fs=c("\u0110\u0103ng nh\u1EADp"),vs=o("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),bs=o("p",null,"Email: sales@qrcare.net ",-1),ys=o("p",null,"Phone: +84 906 826 807",-1);function ks(e,t,a,u,n,r){const m=l("organizations"),b=l("agency"),h=l("supplier"),g=l("products"),_=l("packages"),k=l("org-users"),f=l("lastest-request"),T=l("tasks-card"),C=l("f7-login-screen-title"),U=l("f7-list-input"),I=l("f7-list"),P=l("f7-button"),A=l("f7-block-footer"),q=l("f7-block"),J=l("f7-page"),X=l("f7-login-screen");return p(),y(J,{name:"home"},{default:s(()=>[o("div",Qn,[o("div",Bn,[Vn,o("div",zn,[o("div",Mn,d(a.f7router.app.name+" v"+a.f7router.app.version),1),o("div",Yn,[o("a",Fn,[o("span",jn,[Kn,o("b",null,d(r.getUserName),1)])])])])]),o("div",Hn,[o("div",Gn,[o("h3",Wn,d(r.getUserName),1),Jn,o("div",Xn,[o("ul",null,[o("li",null,[o("a",{onClick:t[0]||(t[0]=R=>r.logout()),class:"item-link item-content"},ts)])])])])]),o("div",is,[o("div",os,[r.showListOrgs?(p(),w("div",ns,[o("div",ss,[i(m,{onSelected:r.selectOrganization},null,8,["onSelected"])]),o("div",ls,[i(b,{onSelected:r.selectOrganization},null,8,["onSelected"])])])):E("",!0),o("div",as,[o("div",rs,[i(h,{orgId:n.orgId},null,8,["orgId"])]),o("div",cs,[i(g,{orgId:n.orgId},null,8,["orgId"])])]),o("div",ds,[o("div",us,[i(_,{orgId:n.orgId,onSelected:r.selectPackage},null,8,["orgId","onSelected"])]),o("div",ps,[i(k,{orgId:n.orgId},null,8,["orgId"])])]),o("div",_s,[o("div",hs,[i(f,{orgId:n.orgId},null,8,["orgId"])]),o("div",gs,[i(T,{orgId:n.orgId},null,8,["orgId"])])]),ms])])]),i(X,{opened:n.openedLogin,"onUpdate:opened":t[3]||(t[3]=R=>n.openedLogin=R)},{default:s(()=>[i(J,null,{default:s(()=>[i(C,null,{default:s(()=>[c("H\u1EC7 th\u1ED1ng qu\u1EA3n tr\u1ECB "+d(a.f7router.app.name+" v"+a.f7router.app.version),1)]),_:1}),i(q,null,{default:s(()=>[i(I,null,{default:s(()=>[i(U,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:n.username,"onUpdate:value":t[1]||(t[1]=R=>n.username=R)},null,8,["value"]),i(U,{outline:"",label:"m\u1EADt kh\u1EA9u","floating-label":"",type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:n.password,"onUpdate:value":t[2]||(t[2]=R=>n.password=R)},null,8,["value"])]),_:1}),i(P,{fill:"",large:"",round:"",onClick:r.clickLogin},{default:s(()=>[fs]),_:1},8,["onClick"]),i(I,null,{default:s(()=>[i(A,null,{default:s(()=>[vs,bs,ys]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var Is=x(Nn,[["render",ks]]);const ws={props:["countImages","maxImages"],emits:["uploaded","toggleCamera"],data(){return{isCameraOpen:!1,isPhotoTaken:!1,isShotPhoto:!1,isLoading:!1,imageUrls:[],video:"",photoTaken:"",photoTakenCtx:"",width:0,height:0,log:"",dataUrl:""}},methods:{doLoad(){this.video=document.getElementById("camera-video"),this.photoTaken=document.getElementById("photoTaken"),this.photoTakenCtx=this.photoTaken.getContext("2d");let e=this;this.video.addEventListener("play",function(){e.width=e.video.videoWidth,e.height=e.video.videoHeight},!1)},computeFrame(){const e=this.video.videoWidth,t=this.video.videoHeight,a=t/4*3,u=(e-a)/2,n=0;this.photoTaken.width=a,this.photoTaken.height=t,this.log="Video:Crop:("+this.photoTaken.width+","+this.photoTaken.height+"("+e+","+t+")",this.photoTakenCtx.drawImage(this.video,u,n,a,t,0,0,a,t)},toggleCamera(){this.isCameraOpen?(this.isCameraOpen=!1,this.$emit("toggleCamera",this.isCameraOpen),this.isPhotoTaken=!1,this.isShotPhoto=!1,this.stopCameraStream()):(this.isCameraOpen=!0,this.$emit("toggleCamera",this.isCameraOpen),this.createCameraElement())},createCameraElement(){console.log("createCameraElement()",this.isCameraOpen);try{this.isLoading=!0,Q.preloader.show();var e={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(e).then(t=>{this.isLoading=!1,Q.preloader.hide(),this.$refs.camera.srcObject=t,this.doLoad()}).catch(t=>{this.isLoading=!1,Q.preloader.hide(),alert("May the browser didn't support or there is some errors.")})}catch(t){console.log("createCameraElement()",t)}},stopCameraStream(){console.log("stopCameraStream()",this.isCameraOpen),this.$refs.camera.srcObject.getTracks().forEach(t=>{t.stop()})},async takePhoto(){if(console.log("takePhoto",this.countImages,this.maxImages),this.countImages>=this.maxImages){Q.dialog.alert("B\u1EA1n \u0111\xE3 ch\u1EE5p t\u1EDBi gi\u1EDBi h\u1EA1n l\xE0 "+this.countImages+" t\u1EA5m!");return}this.isPhotoTaken||(this.isShotPhoto=!0,setTimeout(()=>{this.isShotPhoto=!1},50)),this.computeFrame(),this.isPhotoTaken=!this.isPhotoTaken,this.dataUrl=this.photoTaken.toDataURL(),await this.uploadImage()},async uploadImage(){const e=this.photoTaken.toDataURL("image/jpeg",.9);var t=this.dataURItoBlob(e);const a=new FormData;a.append("canvasImage",t);try{let u="https://media.vinaas.com/upload/qrcare-vn";const{data:n}=await this.$axios.post(u,a,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"}});if(n&&n.id){const r="https://apps.vinaas.com/file/"+n.id;this.imageUrls.push(r),this.$emit("uploaded",r)}}catch(u){console.log("err",u)}finally{}this.isPhotoTaken=!this.isPhotoTaken},dataURItoBlob(e){var t;e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],u=new Uint8Array(t.length),n=0;n<t.length;n++)u[n]=t.charCodeAt(n);return new Blob([u],{type:a})}}},Cs={class:"web-camera-container"},Ts=["width","height"],Es=["src","width","height"],Us={id:"photoTaken"},As=c(" Ch\u1EE5p h\xECnh"),xs=c("Close");function Ds(e,t,a,u,n,r){const m=l("f7-icon"),b=l("f7-button"),h=l("f7-col"),g=l("f7-row"),_=l("f7-block");return p(),y(_,null,{default:s(()=>[o("div",Cs,[n.isCameraOpen?O((p(),w("div",{key:0,class:ee(["camera-box",{flash:n.isShotPhoto}])},[o("div",{class:ee(["camera-shutter",{flash:n.isShotPhoto}])},null,2),O(o("video",{id:"camera-video",ref:"camera",width:n.width/2,height:n.height/2,autoplay:"",muted:"",playsinline:""},null,8,Ts),[[L,!n.isPhotoTaken]]),O(o("img",{src:n.dataUrl,id:"showPhotoTaken",width:n.height/8*3,height:n.height/2},null,8,Es),[[L,n.isPhotoTaken]]),O(o("canvas",Us,null,512),[[L,!1]])],2)),[[L,!n.isLoading]]):E("",!0)]),n.isCameraOpen?(p(),y(g,{key:1},{default:s(()=>[i(h,{width:"30"},{default:s(()=>[n.isCameraOpen?(p(),y(b,{key:0,raised:"",round:"",large:"",color:"gray",onClick:r.toggleCamera},{default:s(()=>[xs]),_:1},8,["onClick"])):E("",!0)]),_:1}),i(h,{width:"10"}),i(h,{width:"60"},{default:s(()=>[n.isCameraOpen?(p(),y(b,{key:0,raised:"",outline:"",round:"",large:"",onClick:r.takePhoto},{default:s(()=>[i(m,{f7:"camera"})]),_:1},8,["onClick"])):E("",!0)]),_:1})]),_:1})):(p(),y(g,{key:0},{default:s(()=>[i(h,{width:"100"},{default:s(()=>[i(b,{raised:"",outline:"",round:"",large:"",onClick:r.toggleCamera},{default:s(()=>[i(m,{f7:"camera"}),As]),_:1},8,["onClick"])]),_:1})]),_:1}))]),_:1})}var fe=x(ws,[["render",Ds],["__scopeId","data-v-01ed4286"]]);const Rs={props:["modelValue","label"],emits:["update:modelValue"],template:`
  <li class="item-content item-input item-input-outline">
    <div class="item-media">
      <i class="f7-icons">house</i>
    </div>
    <div class="item-inner">
      <div class="item-title item-label">{{label}}</div>
      <div class="item-input-wrap">
        <input type="text" name="name" :value="modelValue"
        @input="$emit('update:modelValue', $event.target.value)" />
        <span class="input-clear-button"></span>
      </div>
    </div>
  </li>  
  `},Ps={props:["modelValue","label"],emits:["update:modelValue"],template:`
  <li class="item-content item-input item-input-outline">
    <div class="item-media">
      <i class="f7-icons">house</i>
    </div>
    <div class="item-inner">
      <div class="item-title item-label">{{label}}</div>
      <div class="item-input-wrap">
      <textarea class="resizable" :value="modelValue"
      @input="$emit('update:modelValue', $event.target.value)" ></textarea>
      <span class="input-clear-button"></span>
      </div>
    </div>
  </li> 
  `};const Ss={components:{"image-upload":fe,"title-input":Rs,description:Ps},props:{f7route:Object,f7router:Object},setup(){const e=M("user");return Ie(()=>{N.dispatch("getUser")}),{loading:M("loading"),user:e,loadUsers:()=>{N.dispatch("getUser")}}},data(){return{title:"tieu de",description:"t\xEDnh n\u0103ng ch\xEDnh c\u1EE7a qrcare l\xE0 \u0111\u01A1n gi\u1EA3n",enablePopup:{imageCapture:!1},urls:[],isCameraOpen:!1}},methods:{showUrl(e){},toggleCamera(e){console.log("toggleCamera()",e),this.isCameraOpen=e},clickLogin(){this.f7router.navigate("/login/")},clickClose(){this.toggleCamera(),this.enablePopup.imageCapture=!1},clickImageCapture(){this.enablePopup.imageCapture=!0}}},$=e=>(de("data-v-1e0a81c8"),e=e(),ue(),e),$s=c(" Load Users "),Os=c("Ki\u1EC3m tra t\xEDnh n\u0103ng input"),Ls={class:"list"},qs=$(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Ns=$(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Qs=$(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Bs=c("Swipe To Close"),Vs=c("Show Camera Popup"),zs=c("Login"),Ms=c("H\u01B0\u1EDBng d\u1EABn!"),Ys=$(()=>o("p",null,"QRLogin \u0111\u1EC3 \u0111\u0103ng nh\u1EADp c\xF3 h\xECnh ",-1)),Fs=$(()=>o("img",{height:"200",src:"https://apps.vinaas.com/file/lVqOaFfB1"},null,-1)),js=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Ks=$(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Hs=$(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Gs=$(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),Ws=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),Js=$(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),Xs=$(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),Zs=$(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),el=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),tl=$(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),il=$(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),ol=$(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),nl=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),sl=$(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),ll=$(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),al=$(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),rl=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),cl=$(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),dl=$(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),ul=$(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),pl=c("Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup"),_l=$(()=>o("p",null,"Cho ph\xE9p ch\u1EE5p nhi\u1EC1u h\xECnh, c\xF3 gi\u1EDBi h\u1EA1n t\u1ED1i \u0111a (maxImages = 4), li\xEAn t\u1EE5c ",-1)),hl=$(()=>o("p",null,"H\xECnh \u0111\u01B0\u1EE3c crop v\u1EDBi k\xEDch th\u01B0\u1EDBc mobile 4x3, height kh\xF4ng \u0111\u1ED5i, width \u1EDF gi\u1EEFa",-1)),gl=$(()=>o("p",null,"Upload ngay sau khi ch\u1EE5p, \u0111\u1EC3 ch\u1EE5p t\u1EA5m kh\xE1c",-1)),ml=["src"];function fl(e,t,a,u,n,r){const m=l("f7-navbar"),b=l("f7-button"),h=l("f7-block-title"),g=l("title-input"),_=l("description"),k=l("f7-icon"),f=l("f7-list-input"),T=l("f7-list"),C=l("f7-block"),U=l("f7-card-header"),I=l("f7-card-content"),P=l("f7-card"),A=l("f7-page-content"),q=l("f7-sheet"),J=l("image-upload"),X=l("f7-col"),R=l("f7-row"),j=l("f7-page"),G=l("f7-view"),V=l("f7-popup");return p(),y(j,{name:"about"},{default:s(()=>[i(m,{title:"About","back-link":"Back"}),i(C,null,{default:s(()=>[i(b,{fill:"",preloader:"",loading:u.loading,onClick:u.loadUsers},{default:s(()=>[$s]),_:1},8,["loading","onClick"]),i(h,null,{default:s(()=>[Os]),_:1}),o("div",Ls,[o("ul",null,[o("li",null,d(n.title),1),i(g,{modelValue:n.title,"onUpdate:modelValue":t[0]||(t[0]=F=>n.title=F),label:"ti\xEAu \u0111\u1EC1"},null,8,["modelValue"]),E("",!0),i(_,{modelValue:n.description,"onUpdate:modelValue":t[2]||(t[2]=F=>n.description=F),label:"Mo ta"},null,8,["modelValue"])])]),i(T,{"no-hairlines-md":""},{default:s(()=>[i(f,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"",validate:"","clear-button":""},{default:s(()=>[i(k,{icon:"demo-list-icon",slot:"media"})]),_:1}),i(f,{outline:"",label:"M\u1EADt kh\u1EA9u","floating-label":"",type:"password",placeholder:"nh\u1EADp m\u1EADt kh\u1EA9u","clear-button":""}),i(f,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":""},{default:s(()=>[i(k,{icon:"demo-list-icon",slot:"media"})]),_:1}),i(f,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","error-message":"b\u1EA1n \u0111\xE3 nh\u1EADp qu\xE1 d\xE0i!","clear-button":""})]),_:1})]),_:1}),i(P,null,{default:s(()=>[i(U,null,{default:s(()=>[c(d(a.f7router.app.version)+" "+d(a.f7router.app.name)+" Demo Ch\u1EE5p h\xECnh b\u1EB1ng popup",1)]),_:1}),i(I,null,{default:s(()=>[qs,Ns,Qs]),_:1})]),_:1}),i(b,{fill:"","sheet-open":".demo-sheet-swipe-to-close"},{default:s(()=>[Bs]),_:1}),i(b,{fill:"",onClick:r.clickImageCapture},{default:s(()=>[Vs]),_:1},8,["onClick"]),i(b,{fill:"",onClick:r.clickLogin},{default:s(()=>[zs]),_:1},8,["onClick"]),i(q,{class:"demo-sheet-swipe-to-close",style:{height:"auto","--f7-sheet-bg-color":"#fff"},"swipe-to-close":"",backdrop:""},{default:s(()=>[i(A,null,{default:s(()=>[i(h,{large:""},{default:s(()=>[Ms]),_:1}),i(C,null,{default:s(()=>[Ys,Fs]),_:1})]),_:1})]),_:1}),i(V,{id:"image-capture",opened:n.enablePopup.imageCapture,"onUpdate:opened":t[3]||(t[3]=F=>n.enablePopup.imageCapture=F)},{default:s(()=>[i(G,null,{default:s(()=>[i(j,null,{default:s(()=>[i(P,null,{default:s(()=>[i(U,null,{default:s(()=>[js]),_:1}),i(I,null,{default:s(()=>[Ks,Hs,Gs]),_:1})]),_:1}),i(P,null,{default:s(()=>[i(U,null,{default:s(()=>[Ws]),_:1}),i(I,null,{default:s(()=>[Js,Xs,Zs]),_:1})]),_:1}),i(P,null,{default:s(()=>[i(U,null,{default:s(()=>[el]),_:1}),i(I,null,{default:s(()=>[tl,il,ol]),_:1})]),_:1}),i(P,null,{default:s(()=>[i(U,null,{default:s(()=>[nl]),_:1}),i(I,null,{default:s(()=>[sl,ll,al]),_:1})]),_:1}),i(P,null,{default:s(()=>[i(U,null,{default:s(()=>[rl]),_:1}),i(I,null,{default:s(()=>[cl,dl,ul]),_:1})]),_:1}),i(P,null,{default:s(()=>[i(U,null,{default:s(()=>[pl]),_:1}),i(I,null,{default:s(()=>[_l,hl,gl]),_:1})]),_:1}),i(J,{countImages:"0",maxImages:"4",isCameraOpen:n.isCameraOpen,onToggleCamera:r.toggleCamera,onUploaded:r.showUrl},null,8,["isCameraOpen","onToggleCamera","onUploaded"]),i(R,null,{default:s(()=>[(p(!0),w(S,null,B(n.urls,F=>(p(),y(X,{width:"50",key:F},{default:s(()=>[o("img",{width:"100",src:F},null,8,ml)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var vl=x(Ss,[["render",fl],["__scopeId","data-v-1e0a81c8"]]);const bl={},yl=c("Form Example"),kl=o("option",null,"Male",-1),Il=o("option",null,"Female",-1),wl=c("Buttons"),Cl=c("Button"),Tl=c("Fill"),El=c("Raised"),Ul=c("Raised Fill"),Al=c("Round"),xl=c("Round Fill"),Dl=c("Outline"),Rl=c("Outline Round"),Pl=c("Small"),Sl=c("Small Round"),$l=c("Small"),Ol=c("Small Round"),Ll=c("Large"),ql=c("Large Fill"),Nl=c("Large Red"),Ql=c("Large Green"),Bl=c("Checkbox group"),Vl=c("Radio buttons group");function zl(e,t){const a=l("f7-navbar"),u=l("f7-block-title"),n=l("f7-list-input"),r=l("f7-toggle"),m=l("f7-list-item"),b=l("f7-range"),h=l("f7-list"),g=l("f7-button"),_=l("f7-row"),k=l("f7-block"),f=l("f7-page");return p(),y(f,{name:"form"},{default:s(()=>[i(a,{title:"Form","back-link":"Back"}),i(u,null,{default:s(()=>[yl]),_:1}),i(h,{"no-hairlines-md":""},{default:s(()=>[i(n,{label:"Name",type:"text",placeholder:"Your name"}),i(n,{label:"E-mail",type:"email",placeholder:"E-mail"}),i(n,{label:"URL",type:"url",placeholder:"URL"}),i(n,{label:"Password",type:"password",placeholder:"Password"}),i(n,{label:"Phone",type:"tel",placeholder:"Phone"}),i(n,{label:"Gender",type:"select"},{default:s(()=>[kl,Il]),_:1}),i(n,{label:"Birth date",type:"date",placeholder:"Birth day",defaultValue:"2014-04-30"}),i(m,{title:"Toggle"},{after:s(()=>[i(r)]),_:1}),i(n,{label:"Range",input:!1},{input:s(()=>[i(b,{value:50,min:0,max:100,step:1})]),_:1}),i(n,{type:"textarea",label:"Textarea",placeholder:"Bio"}),i(n,{type:"textarea",label:"Resizable",placeholder:"Bio",resizable:""})]),_:1}),i(u,null,{default:s(()=>[wl]),_:1}),i(k,{strong:""},{default:s(()=>[i(_,{tag:"p"},{default:s(()=>[i(g,{class:"col"},{default:s(()=>[Cl]),_:1}),i(g,{class:"col",fill:""},{default:s(()=>[Tl]),_:1})]),_:1}),i(_,{tag:"p"},{default:s(()=>[i(g,{class:"col",raised:""},{default:s(()=>[El]),_:1}),i(g,{class:"col",raised:"",fill:""},{default:s(()=>[Ul]),_:1})]),_:1}),i(_,{tag:"p"},{default:s(()=>[i(g,{class:"col",round:""},{default:s(()=>[Al]),_:1}),i(g,{class:"col",round:"",fill:""},{default:s(()=>[xl]),_:1})]),_:1}),i(_,{tag:"p"},{default:s(()=>[i(g,{class:"col",outline:""},{default:s(()=>[Dl]),_:1}),i(g,{class:"col",round:"",outline:""},{default:s(()=>[Rl]),_:1})]),_:1}),i(_,{tag:"p"},{default:s(()=>[i(g,{class:"col",small:"",outline:""},{default:s(()=>[Pl]),_:1}),i(g,{class:"col",small:"",round:"",outline:""},{default:s(()=>[Sl]),_:1})]),_:1}),i(_,{tag:"p"},{default:s(()=>[i(g,{class:"col",small:"",fill:""},{default:s(()=>[$l]),_:1}),i(g,{class:"col",small:"",round:"",fill:""},{default:s(()=>[Ol]),_:1})]),_:1}),i(_,{tag:"p"},{default:s(()=>[i(g,{class:"col",large:"",raised:""},{default:s(()=>[Ll]),_:1}),i(g,{class:"col",large:"",fill:"",raised:""},{default:s(()=>[ql]),_:1})]),_:1}),i(_,{tag:"p"},{default:s(()=>[i(g,{class:"col",large:"",fill:"",raised:"",color:"red"},{default:s(()=>[Nl]),_:1}),i(g,{class:"col",large:"",fill:"",raised:"",color:"green"},{default:s(()=>[Ql]),_:1})]),_:1})]),_:1}),i(u,null,{default:s(()=>[Bl]),_:1}),i(h,null,{default:s(()=>[i(m,{checkbox:"",name:"my-checkbox",value:"Books",title:"Books"}),i(m,{checkbox:"",name:"my-checkbox",value:"Movies",title:"Movies"}),i(m,{checkbox:"",name:"my-checkbox",value:"Food",title:"Food"})]),_:1}),i(u,null,{default:s(()=>[Vl]),_:1}),i(h,null,{default:s(()=>[i(m,{radio:"",name:"radio",value:"Books",title:"Books"}),i(m,{radio:"",name:"radio",value:"Movies",title:"Movies"}),i(m,{radio:"",name:"radio",value:"Food",title:"Food"})]),_:1})]),_:1})}var Ml=x(bl,[["render",zl]]);const Yl={},Fl=o("p",null,"Sorry",-1),jl=o("p",null,"Requested content not found.",-1);function Kl(e,t,a,u,n,r){const m=l("f7-navbar"),b=l("f7-block"),h=l("f7-page");return p(),y(h,null,{default:s(()=>[i(m,{title:"Not found","back-link":"Back"}),i(b,{strong:""},{default:s(()=>[Fl,jl]),_:1})]),_:1})}var Hl=x(Yl,[["render",Kl]]);const Gl={components:{ImageUpload:fe},props:{f7route:Object,f7router:Object},setup(){const e=M("isLogged"),t=N.state.user;return{isLogged:e,userInfo:t}},data(){return{activityImages:0,maxActivityImages:2,deviceImages:0,maxDeviceImages:4,isCameraOpen:!1,isCameraOpen2:!1,enablePopup:{editDevice:!1,editUser:!1,activeUsing:!1,sendRequest:!1,addNote:!1,submitTask:!1,confirmTask:!1,activity:!1},listSupplier:[],qrid:{},history:[],supporter:{},supplier:{},activity:{},view_activity:{},ACT_POPUP:{nar_bar_title:"G\u1EEDi y\xEAu c\u1EA7u"},isSellProduct:!0}},computed:{isEdit(){return this.isLogged},isActive(){return this.qrid.status?this.qrid.status=="QRID_STATUS.ACTIVE":!0},hasData(){return this.qrid.title&&this.qrid.ownerName},listHistory(){return this.history}},methods:{formatDate(e){return this.$utils.formatDate(e)},formatDateTime(e){return this.$utils.formatDateTime(e)},formatMoney(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(e)},clickLogin(){this.f7router.navigate("/login/")},clickLogout(){N.dispatch("logout")},clickEditDevice(){if(this.deviceImages=0,this.qrid.imageUrls.length>0){const e=this.maxDeviceImages-this.qrid.imageUrls.length;console.log("diff",e),e>0?this.deviceImages=this.qrid.imageUrls.length:this.deviceImages=this.maxDeviceImages}console.log("clickEditDevice()",this.deviceImages,this.qrid.imageUrls,this.qrid.imageUrls.length),this.enablePopup.editDevice=!0},getActivityName(e){let t="";return e.type==="ACTIVITY.QR_REQUEST"&&(t+="Y\xEAu c\u1EA7u",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRTASK"&&(t+="C\xF4ng vi\u1EC7c",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),e.type==="ACTIVITY.QRNOTE"&&(t+="Ghi ch\xFA",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRDelivery"&&(t+="B\xE0n giao",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t+="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t+="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),t},getActivityColor(e){if(e.type==="ACTIVITY.QR_REQUEST")return"item-title text-color-orange";if(e.type==="ACTIVITY.QRTASK"){if(e.status==="CONFIRMED")return"item-title text-color-green";if(e.status==="CREATED")return"item-title text-color-blue"}return e.type==="ACTIVITY.QRNOTE"?"item-title text-color-blue":"item-title text-color-black"},toggleCamera(e){console.log("toggleCamera()",e),this.isCameraOpen=e},toggleCamera2(e){console.log("toggleCamera2()",e),this.isCameraOpen2=e},async addImageDevices(e){this.qrid.imageUrls||(this.qrid.imageUrls=[]),this.qrid.imageUrls.push(e),this.deviceImages++},async addImageActivity(e){this.activity.imageUrls||(this.activity.imageUrls=[]),this.activity.imageUrls.push(e),this.activityImages++},cancelEditDevice(){this.stopCameraImageUpload(),this.enablePopup.editDevice=!1},stopCameraImageUpload(){this.isCameraOpen&&this.$refs.deviceImages.toggleCamera(),this.isCameraOpen2&&this.$refs.activityImages.toggleCamera()},async processEditDevice(){this.isActive||(this.qrid.status="QRID_STATUS.EDITED",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id,this.isSellProduct?(this.qrid.sellerId=this.supporter.id,this.qrid.sellerName=this.supporter.name,this.qrid.sellerAddress=this.supporter.address):this.qrid.sellerId==this.supporter.id&&(this.qrid.sellerId=0,this.qrid.sellerName="",this.qrid.sellerAddress=""),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("editDevice()",this.qrid)),this.stopCameraImageUpload(),this.enablePopup.editDevice=!1},async editUser(){this.isActive||(this.qrid.status="QRID_STATUS.EDITED",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("editUser()",this.qrid),this.enablePopup.editUser=!1},clickActive(){this.enablePopup.activeUsing=!0},async activeUsing(){this.isActive||(this.qrid.status="QRID_STATUS.ACTIVE",this.qrid.modified=new Date,this.qrid.modifiedBy=this.userInfo.id,this.qrid.activatedDate=new Date),await this.$axios.patch("/QRIDs/"+this.qrid.id,this.qrid),console.log("activeUsing()",this.qrid),this.enablePopup.activeUsing=!1},clickSendRequest(e){e.type="ACTIVITY.QR_REQUEST",this.activity=e,this.ACT_POPUP={nar_bar_title:"Y\xEAu c\u1EA7u m\u1EDBi nh\u1EADn",content:"N\u1ED9i dung y\xEAu c\u1EA7u",sender:"Kh\xE1ch h\xE0ng g\u1EEDi",receiver:"B\xEAn ti\u1EBFp nh\u1EADn",action:"G\u1EEDi y\xEAu c\u1EA7u",action_footer:"Sau khi nh\u1EADn y\xEAu c\u1EA7u, ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},clickAddNote(e){e.type="ACTIVITY.QRNOTE",e.supplierOrganizationId=0,this.activity=e,this.ACT_POPUP={nar_bar_title:"N\u1ED9i dung ghi ch\xFA",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi ghi ch\xFA",receiver:"",action:"L\u01B0u Ghi ch\xFA",action_footer:"Ghi ch\xFA n\xE0y ch\u1EC9 \u0111\u01B0\u1EE3c th\u1EA5y khi qu\xE9t Th\u1EBB"},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},async clickViewActivity(e){if(this.view_activity=e,this.view_activity.supplierOrganizationId||(this.view_activity.supplierOrganizationId=111),this.view_activity.supplierOrganizationId==this.supporter.id)this.supplier=this.supporter;else{var t=await this.$axios.get("/Organizations/"+this.view_activity.supplierOrganizationId);t&&t.data&&(this.supplier=t.data)}this.view_activity.type=="ACTIVITY.QRTASK"&&(this.view_activity.status=="CREATED"&&(this.ACT_POPUP={nar_bar_title:"Ch\u1EDD x\xE1c nh\u1EADn",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"Sau khi x\xE1c nh\u1EADn, c\xF4ng vi\u1EC7c \u0111\xE3 k\u1EBFt th\xFAc."}),this.view_activity.status=="CONFIRMED"&&(this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c \u0111\u01B0\u1EE3c x\xE1c nh\u1EADn",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"X\xE1c nh\u1EADn",action_footer:"C\xF4ng vi\u1EC7c \u0111\xE3 k\u1EBFt th\xFAc, c\u1EA3m \u01A1n qu\xFD kh\xE1ch \u0111\xE3 l\u1EF1a ch\u1ECDn!"}),this.view_activity.status=="REJECTED"&&(this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c b\u1ECB t\u1EEB ch\u1ED1i",content:"N\u1ED9i dung \u0111\xE3 th\u1EF1c hi\u1EC7n",sender:"Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i",receiver:"B\xEAn th\u1EF1c hi\u1EC7n",action:"T\u1EEB ch\u1ED1i",action_footer:""})),this.view_activity.type=="ACTIVITY.QR_REQUEST"&&(this.ACT_POPUP={nar_bar_title:"Y\xEAu c\u1EA7u \u0111\xE3 g\u1EEDi",content:"N\u1ED9i dung y\xEAu c\u1EA7u",sender:"Kh\xE1ch h\xE0ng g\u1EEDi",receiver:"B\xEAn ti\u1EBFp nh\u1EADn",action_footer:"Ch\xFAng t\xF4i \u0111\xE3 ti\u1EBFp nh\u1EADn, s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."}),this.view_activity.type=="ACTIVITY.QRNOTE"&&(this.ACT_POPUP={nar_bar_title:"Ghi ch\xFA \u0111\xE3 l\u01B0u",content:"N\u1ED9i dung",sender:"Ng\u01B0\u1EDDi ghi ch\xFA",receiver:"",action_footer:"Ch\xFAng t\xF4i \u0111\xE3 ti\u1EBFp nh\u1EADn, s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."}),console.log("clickViewActivity()",this.view_activity),this.enablePopup.view_activity=!0},async confirmQRTask(){let e={id:this.view_activity.id,userComment:this.view_activity.userComment,status:"CONFIRMED",modified:new Date};await this.patchActivity(e)},async rejectQRTask(){let e={id:this.view_activity.id,userComment:this.view_activity.userComment,status:"REJECTED",modified:new Date};await this.patchActivity(e)},clickNewActivity(e){const t=this.supporter;let a={qrid:this.qrid.id,title:"",description:"",imageUrls:[],customerName:this.qrid.ownerName,customerPhoneNumber:this.qrid.ownerPhoneNumber,customerAddress:this.qrid.ownerAddress,supplierOrganizationId:t.id,status:"CREATED",created:new Date};this.supplier=t,console.log("clickNewActivity()",a,this.supplier),e=="SEND_REQUEST"&&this.clickSendRequest(a),e=="ADD_NOTE"&&this.clickAddNote(a),e=="SUBMIT_TASK"&&this.clickSubmitTask(a)},clickSubmitTask(e){e.type="ACTIVITY.QRTASK",e.supplierStaffId=this.userInfo.id,this.activity=e,this.ACT_POPUP={nar_bar_title:"C\xF4ng vi\u1EC7c \u0111\xE3 th\u1EF1c hi\u1EC7n",content:"Chi ti\u1EBFt c\xF4ng vi\u1EC7c",sender:"Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn",receiver:"",action:"G\u1EEDi k\u1EBFt qu\u1EA3",action_footer:"Sau khi nh\u1EADn y\xEAu c\u1EA7u, ch\xFAng t\xF4i s\u1EBD g\u1ECDi l\u1EA1i cho qu\xFD kh\xE1ch."},console.log(this.activity),console.log(this.activityImages),this.activityImages=0,this.enablePopup.activity=!0},async closeNewActivity(){this.stopCameraImageUpload(),this.enablePopup.activity=!1},async postActivity(){let e=await this.$axios.post("/QRActivities",this.activity);console.log("rs",e),this.history.unshift(e.data),this.stopCameraImageUpload(),this.enablePopup.activity=!1},async patchActivity(e){let t=await this.$axios.patch("/QRActivities/"+e.id,e);if(console.log("rs",t.data),t.data){for(var a in this.history)if(this.history[a].id==t.data.id){this.history[a]=t.data;break}}this.enablePopup.view_activity=!1},changeDesc(e,t){for(var a in projects)if(projects[a].value==e){projects[a].desc=t;break}},async getDeviceData(){try{var e=this.f7route.params.id,t=this.f7route.params.privateCode;this.$axios.defaults.baseURL=Y.BASE_URL;var a=await this.$axios.get("QRIDs/getLifecycle",{params:{qrid:e,privateCode:t}}),u=a.data;console.log(u),u&&u.id&&(this.qrid=u,this.supporter=this.qrid.supporter,this.history=this.qrid.history)}catch(n){console.log("error",n)}}},async created(){await Promise.all([this.getDeviceData()])}},Wl=c("\u0110\u0103ng nh\u1EADp"),Jl=c("\u0110\u0103ng xu\u1EA5t"),Xl=c("\u0110\u01A1n v\u1ECB ph\xE1t h\xE0nh Th\u1EBB"),Zl={key:0},ea=c("\u0110\xE3 \u0111\u0103ng nh\u1EADp b\u1EDFi"),ta=c("V\xF2ng \u0111\u1EDDi thi\u1EBFt b\u1ECB"),ia={key:0},oa=c(" Th\xF4ng tin thi\u1EBFt b\u1ECB "),na=c("Edit"),sa={class:"list media-list no-hairlines-between"},la={class:"item-content"},aa={class:"item-inner"},ra={class:"item-title"},ca={class:"item-content"},da={class:"item-inner"},ua=["innerHTML"],pa=["src"],_a={key:0},ha={class:"item-content"},ga={class:"item-inner"},ma={class:"item-title"},fa={class:"item-checkbox item-content"},va={class:"item-inner"},ba=o("div",{class:"item-title-row"},[o("div",{class:"item-title"},"S\u1EA3n ph\u1EA9m c\u1EE7a")],-1),ya={class:"item-subtitle"},ka={class:"item-text"},Ia=o("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),wa=c(" Kh\xE1ch h\xE0ng s\u1EED d\u1EE5ng "),Ca=c("Edit"),Ta={class:"list media-list no-hairlines-between"},Ea={class:"item-content"},Ua=o("div",{class:"item-media"},[o("i",{class:"f7-icons"},"person_fill")],-1),Aa={class:"item-inner"},xa={class:"item-title"},Da={key:0},Ra={class:"item-content"},Pa=o("div",{class:"item-media"},[o("i",{class:"f7-icons"},"device_phone_portrait")],-1),Sa={class:"item-inner"},$a={class:"item-subtitle"},Oa={class:"item-content"},La=o("div",{class:"item-media"},[o("i",{class:"f7-icons"},"house")],-1),qa={class:"item-inner"},Na={class:"item-subtitle"},Qa=o("p",null,"Ch\u01B0a c\xF3 th\xF4ng tin",-1),Ba=c("L\u1ECBch s\u1EED ho\u1EA1t \u0111\u1ED9ng"),Va={class:"list media-list medium-inset"},za=["onClick"],Ma={class:"item-media"},Ya=["src"],Fa={class:"item-inner"},ja={class:"item-header"},Ka={class:"item-title-row"},Ha=o("div",{class:"item-after"},null,-1),Ga={class:"item-subtitle"},Wa={class:"item-text"},Ja={class:"item-footer text-color-red",style:{"font-size":"14px","font-weight":"600"}},Xa=c("Th\u1EBB \u0111\u01B0\u1EE3c ph\xE1t h\xE0nh b\u1EDFi "),Za=["src"],er=o("i",{class:"f7-icons"},"xmark_circle",-1),tr=c("Cancel"),ir=o("i",{class:"f7-icons"},"cloud_upload",-1),or=c("L\u01B0u"),nr=c("Ng\u01B0\u1EDDi s\u1EDF h\u1EEFu (mua) thi\u1EBFt b\u1ECB"),sr=o("i",{class:"f7-icons"},"xmark_circle",-1),lr=c("Cancel"),ar=c("C\u1EADp nh\u1EADt"),rr=c("X\xE1c nh\u1EADn th\xF4ng tin"),cr=c("sau khi k\xEDch ho\u1EA1t, kh\xF4ng th\u1EC3 thay \u0111\u1ED5i th\xF4ng tin c\u1EE7a Th\u1EBB. B\u1EA1n c\xF3 d\xE1m ch\u1EAFc"),dr=o("i",{class:"f7-icons"},"xmark_circle",-1),ur=c("Hu\u1EF7"),pr=o("i",{class:"f7-icons"},"checkmark_circle",-1),_r=c(" X\xE1c nh\u1EADn"),hr=["src"],gr=o("i",{class:"f7-icons"},"xmark_circle",-1),mr=c("Hu\u1EF7"),fr=o("i",{class:"f7-icons"},"checkmark_circle",-1),vr=["src"],br=c("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),yr=c("ch\u01B0a c\xF3"),kr=c("Nh\u1EADn x\xE9t t\u1EEB kh\xE1ch h\xE0ng"),Ir=c("T\u1EEB ch\u1ED1i"),wr=o("i",{class:"f7-icons"},"checkmark_circle",-1),Cr=c("X\xE1c nh\u1EADn"),Tr=o("i",{class:"f7-icons"},"xmark_circle",-1),Er=c(" \u0110\xF3ng");function Ur(e,t,a,u,n,r){const m=l("f7-navbar"),b=l("f7-link"),h=l("f7-list"),g=l("f7-block"),_=l("f7-block-title"),k=l("f7-card-header"),f=l("f7-card-content"),T=l("f7-card"),C=l("f7-page"),U=l("f7-view"),I=l("f7-panel"),P=l("f7-nav-right"),A=l("f7-nav-title"),q=l("f7-button"),J=l("f7-swiper-slide"),X=l("f7-swiper"),R=l("f7-list-item"),j=l("f7-icon"),G=l("f7-fab"),V=l("f7-list-input"),F=l("image-upload"),z=l("f7-col"),K=l("f7-row"),Z=l("f7-popup"),be=l("f7-card-footer"),re=l("f7-block-footer");return p(),y(C,null,{default:s(()=>[i(I,{left:"",cover:"","theme-dark":""},{default:s(()=>[i(U,null,{default:s(()=>[i(C,null,{default:s(()=>[i(m,{title:a.f7router.app.name+" v"+a.f7router.app.version},null,8,["title"]),i(g,null,{default:s(()=>[i(h,null,{default:s(()=>[r.isEdit?E("",!0):(p(),y(b,{key:0,onClick:t[0]||(t[0]=v=>r.clickLogin()),"data-view":".view-main",class:"item-content item-link panel-close"},{default:s(()=>[Wl]),_:1})),r.isEdit?(p(),y(b,{key:1,onClick:t[1]||(t[1]=v=>r.clickLogout()),"data-view":".view-main",class:"item-content item-link panel-close"},{default:s(()=>[Jl]),_:1})):E("",!0)]),_:1})]),_:1}),i(_,null,{default:s(()=>[Xl]),_:1}),i(T,null,{default:s(()=>[i(k,null,{default:s(()=>[c(d(n.supporter.name),1)]),_:1}),i(f,null,{default:s(()=>[o("p",null,d(n.supporter.address),1),o("p",null,"Ng\xE0y ph\xE1t h\xE0nh "+d(r.formatDate(n.qrid.created)),1),r.isActive?(p(),w("p",Zl," Ng\xE0y k\xEDch ho\u1EA1t "+d(r.formatDate(n.qrid.activatedDate)),1)):E("",!0)]),_:1})]),_:1}),u.userInfo.id?(p(),y(T,{key:0},{default:s(()=>[i(k,null,{default:s(()=>[ea]),_:1}),i(f,null,{default:s(()=>[c(d(u.userInfo.username)+", vai tr\xF2: "+d(u.userInfo.roleCode)+", id: "+d(u.userInfo.id),1)]),_:1})]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1}),i(m,{sliding:!1},{default:s(()=>[i(P,null,{default:s(()=>[i(b,{"icon-ios":"f7:menu","icon-aurora":"f7:menu","icon-md":"material:menu","panel-open":"left"})]),_:1}),i(A,{sliding:""},{default:s(()=>[ta]),_:1})]),_:1}),i(T,{"bg-color":r.isActive?"blue":"red"},{default:s(()=>[i(k,null,{default:s(()=>[c("ID: "+d(a.f7route.params.id),1),r.isActive?E("",!0):(p(),w("span",ia,"ch\u01B0a k\xEDch ho\u1EA1t"))]),_:1})]),_:1},8,["bg-color"]),i(T,null,{default:s(()=>[i(k,{"bg-color":"green"},{default:s(()=>[oa,!r.isActive&&r.isEdit?(p(),y(q,{key:0,onClick:r.clickEditDevice},{default:s(()=>[na]),_:1},8,["onClick"])):E("",!0)]),_:1}),n.qrid.title?(p(),y(f,{key:0},{default:s(()=>[o("div",sa,[o("ul",null,[o("li",null,[o("div",la,[o("div",aa,[o("div",ra,d(n.qrid.title),1)])])]),o("li",null,[o("div",ca,[o("div",da,[o("div",{class:"item-text",innerHTML:n.qrid.description},null,8,ua)])])]),o("li",null,[i(X,{speed:500,slidesPerView:2,spaceBetween:10},{default:s(()=>[(p(!0),w(S,null,B(n.qrid.imageUrls,v=>(p(),y(J,{key:v},{default:s(()=>[o("img",{class:"small",src:v},null,8,pa)]),_:2},1024))),128))]),_:1})]),r.isActive?(p(),w("li",_a,[o("div",ha,[o("div",ga,[o("div",ma," Ng\xE0y k\xEDch ho\u1EA1t: "+d(r.formatDate(n.qrid.activatedDate)),1)])])])):E("",!0),o("li",null,[o("label",fa,[o("div",va,[ba,o("div",ya,d(n.qrid.sellerName),1),o("div",ka,d(n.qrid.sellerAddress),1)])])])])])]),_:1})):(p(),y(f,{key:1},{default:s(()=>[Ia]),_:1}))]),_:1}),i(T,null,{default:s(()=>[i(k,{"bg-color":"green"},{default:s(()=>[wa,!r.isActive&&r.isEdit?(p(),y(q,{key:0,"popup-open":"#edit-user"},{default:s(()=>[Ca]),_:1})):E("",!0)]),_:1}),n.qrid.ownerName?(p(),y(f,{key:0},{default:s(()=>[o("div",Ta,[o("ul",null,[o("li",null,[o("div",Ea,[Ua,o("div",Aa,[o("div",xa,d(n.qrid.ownerName),1)])])]),n.qrid.ownerPhoneNumber?(p(),w("li",Da,[o("div",Ra,[Pa,o("div",Sa,[o("div",$a,d(n.qrid.ownerPhoneNumber),1)])])])):E("",!0),o("li",null,[o("div",Oa,[La,o("div",qa,[o("div",Na,d(n.qrid.ownerAddress),1)])])])])])]),_:1})):(p(),y(f,{key:1},{default:s(()=>[Qa]),_:1}))]),_:1}),r.isActive?(p(),y(_,{key:0},{default:s(()=>[Ba]),_:1})):E("",!0),o("div",Va,[o("ul",null,[(p(!0),w(S,null,B(n.history,v=>(p(),w("li",{key:v.id},[o("a",{onClick:pd=>r.clickViewActivity(v),class:"item-link item-content chevron-center"},[o("div",Ma,[o("img",{style:{border:"1px solid #ccc"},src:v.imageUrls&&v.imageUrls[0]?v.imageUrls[0]:"https://apps.vinaas.com/file/sBsN149Dh",width:"80"},null,8,Ya)]),o("div",Fa,[o("div",ja,d(r.formatDateTime(v.modified)),1),o("div",Ka,[o("div",{class:ee(r.getActivityColor(v)),style:{"font-size":"16px"}},d(r.getActivityName(v)),3),Ha]),o("div",Ga,d(v.title),1),o("div",Wa,d(v.description),1),o("div",Ja,d(v.money>0?r.formatMoney(v.money):" "),1)])],8,za)]))),128))])]),r.isActive?E("",!0):(p(),y(T,{key:1},{default:s(()=>[i(k,null,{default:s(()=>[Xa]),_:1}),i(f,null,{default:s(()=>[i(h,null,{default:s(()=>[i(R,null,{default:s(()=>[c(d(n.supporter.name),1)]),_:1})]),_:1})]),_:1})]),_:1})),!r.isActive&&!r.isEdit?(p(),y(G,{key:2,position:"center-bottom",text:"\u0110\u0103ng nh\u1EADp",color:"red",onClick:t[2]||(t[2]=v=>r.clickLogin())},{default:s(()=>[i(j,{ios:"f7:lock_open",aurora:"f7:lock_open",md:"material:lock_open"})]),_:1})):E("",!0),!r.isActive&&r.isEdit&&r.hasData?(p(),y(G,{key:3,position:"center-bottom",text:"K\xEDch ho\u1EA1t",color:"red",onClick:t[3]||(t[3]=v=>r.clickActive())},{default:s(()=>[i(j,{ios:"f7:house",aurora:"f7:house",md:"material:house"})]),_:1})):E("",!0),r.isActive&&r.isEdit?(p(),y(G,{key:4,position:"center-bottom",text:"C\xF4ng vi\u1EC7c",color:"blue",onClick:t[4]||(t[4]=v=>r.clickNewActivity("SUBMIT_TASK"))},{default:s(()=>[i(j,{f7:"bell_fill"})]),_:1})):E("",!0),r.isActive&&!r.isEdit?(p(),y(G,{key:5,position:"left-bottom",text:"Ghi ch\xFA",color:"green",onClick:t[5]||(t[5]=v=>r.clickNewActivity("ADD_NOTE"))},{default:s(()=>[i(j,{f7:"pencil_ellipsis_rectangle"})]),_:1})):E("",!0),r.isActive&&!r.isEdit?(p(),y(G,{key:6,position:"right-bottom",text:"Y\xEAu c\u1EA7u",color:"blue",onClick:t[6]||(t[6]=v=>r.clickNewActivity("SEND_REQUEST"))},{default:s(()=>[i(j,{f7:"paperplane_fill"})]),_:1})):E("",!0),i(Z,{id:"edit-device",opened:n.enablePopup.editDevice,"onUpdate:opened":t[10]||(t[10]=v=>n.enablePopup.editDevice=v)},{default:s(()=>[i(U,null,{default:s(()=>[i(C,null,{default:s(()=>[i(m,{title:"C\u1EADp nh\u1EADt thi\u1EBFt b\u1ECB"}),i(g,null,{default:s(()=>[i(h,null,{default:s(()=>[i(V,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"T\xEAn thi\u1EBFt b\u1ECB","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.qrid.title,"onUpdate:value":t[7]||(t[7]=v=>n.qrid.title=v)},null,8,["value"])]),_:1})]),_:1}),i(g,null,{default:s(()=>[i(F,{ref:"deviceImages",countImages:n.deviceImages,maxImages:n.maxDeviceImages,onToggleCamera:r.toggleCamera,onUploaded:r.addImageDevices},null,8,["countImages","maxImages","onToggleCamera","onUploaded"]),i(K,{"no-gap":""},{default:s(()=>[(p(!0),w(S,null,B(n.qrid.imageUrls,v=>(p(),y(z,{width:"50",key:v},{default:s(()=>[o("img",{width:"100",src:v},null,8,Za)]),_:2},1024))),128))]),_:1}),i(h,null,{default:s(()=>[i(V,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:n.qrid.description,"onUpdate:value":t[8]||(t[8]=v=>n.qrid.description=v)},null,8,["value"])]),_:1}),i(h,{"media-list":""},{default:s(()=>[i(R,{checkbox:"",checked:"","onUpdate:checked":t[9]||(t[9]=v=>n.isSellProduct=v),title:"S\u1EA3n ph\u1EA9m c\u1EE7a",after:"",subtitle:n.supporter.name,text:n.supporter.address},null,8,["checked","subtitle","text"])]),_:1})]),_:1}),i(K,null,{default:s(()=>[i(z,{width:"40"},{default:s(()=>[i(q,{round:"",large:"",color:"gray",onClick:r.cancelEditDevice},{default:s(()=>[er,tr]),_:1},8,["onClick"])]),_:1}),i(z,{width:"60"},{default:s(()=>[i(q,{fill:"",round:"",large:"",onClick:r.processEditDevice},{default:s(()=>[ir,or]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(Z,{id:"edit-user",opened:n.enablePopup.editUser,"onUpdate:opened":t[14]||(t[14]=v=>n.enablePopup.editUser=v)},{default:s(()=>[i(U,null,{default:s(()=>[i(C,null,{default:s(()=>[i(m,{title:"Th\xF4ng tin ng\u01B0\u1EDDi s\u1EED d\u1EE5ng"}),i(g,null,{default:s(()=>[i(_,null,{default:s(()=>[nr]),_:1}),i(h,{"no-hairlines-md":""},{default:s(()=>[i(V,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:n.qrid.ownerName,"onUpdate:value":t[11]||(t[11]=v=>n.qrid.ownerName=v)},null,8,["value"]),i(V,{outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i (tu\u1EF3 ch\u1ECDn)","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:n.qrid.ownerPhoneNumber,"onUpdate:value":t[12]||(t[12]=v=>n.qrid.ownerPhoneNumber=v)},null,8,["value"]),i(V,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:n.qrid.ownerAddress,"onUpdate:value":t[13]||(t[13]=v=>n.qrid.ownerAddress=v)},null,8,["value"])]),_:1})]),_:1}),i(K,null,{default:s(()=>[i(z,{width:"40"},{default:s(()=>[i(q,{round:"",large:"",color:"gray","popup-close":""},{default:s(()=>[sr,lr]),_:1})]),_:1}),i(z,{width:"60"},{default:s(()=>[i(q,{fill:"",round:"",large:"",onClick:r.editUser},{default:s(()=>[ar]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(Z,{id:"active-using",opened:n.enablePopup.activeUsing,"onUpdate:opened":t[15]||(t[15]=v=>n.enablePopup.activeUsing=v)},{default:s(()=>[i(U,null,{default:s(()=>[i(C,null,{default:s(()=>[i(m,{title:"C\u1EA3nh b\xE1o"}),i(T,{strong:""},{default:s(()=>[i(k,null,{default:s(()=>[rr]),_:1}),i(f,null,{default:s(()=>[cr]),_:1}),i(be,null,{default:s(()=>[i(z,null,{default:s(()=>[i(q,{"popup-close":""},{default:s(()=>[dr,ur]),_:1})]),_:1}),i(z,null,{default:s(()=>[i(q,{fill:"",onClick:r.activeUsing},{default:s(()=>[pr,_r]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(Z,{id:"new-activity",opened:n.enablePopup.activity,"onUpdate:opened":t[22]||(t[22]=v=>n.enablePopup.activity=v)},{default:s(()=>[i(U,null,{default:s(()=>[i(C,null,{default:s(()=>[i(m,{title:n.ACT_POPUP.nar_bar_title},null,8,["title"]),i(T,null,{default:s(()=>[i(k,{"bg-color":"green"},{default:s(()=>[c(d(n.ACT_POPUP.content),1)]),_:1}),i(f,null,{default:s(()=>[i(h,null,{default:s(()=>[i(V,{type:"text",placeholder:"nh\u1EADp ng\u1EAFn g\u1ECDn",outline:"",label:"Ti\xEAu \u0111\u1EC1","floating-label":"",maxlength:"25","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng",required:"","clear-button":"",value:n.activity.title,"onUpdate:value":t[16]||(t[16]=v=>n.activity.title=v)},null,8,["value"]),i(V,{outline:"",label:"M\xF4 t\u1EA3","floating-label":"",type:"textarea",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:n.activity.description,"onUpdate:value":t[17]||(t[17]=v=>n.activity.description=v)},null,8,["value"]),n.activity.type=="ACTIVITY.QRTASK"?(p(),y(V,{key:0,outline:"",type:"number",label:"Ti\u1EC1n \u0111\xE3 thu","floating-label":"",placeholder:"","clear-button":"",value:n.activity.money,"onUpdate:value":t[18]||(t[18]=v=>n.activity.money=v)},null,8,["value"])):E("",!0),n.activity.type=="ACTIVITY.QRTASK"?(p(),y(R,{key:1},{default:s(()=>[c("V\xE0o l\xFAc : "+d(r.formatDateTime(n.activity.created)),1)]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1}),i(g,null,{default:s(()=>[i(F,{ref:"activityImages",countImages:n.activityImages,maxImages:n.maxActivityImages,onToggleCamera:r.toggleCamera2,onUploaded:r.addImageActivity},null,8,["countImages","maxImages","onToggleCamera","onUploaded"]),i(K,{"no-gap":""},{default:s(()=>[(p(!0),w(S,null,B(n.activity.imageUrls,v=>(p(),y(z,{width:"50",key:v},{default:s(()=>[o("img",{width:"100",src:v},null,8,hr)]),_:2},1024))),128))]),_:1})]),_:1}),i(T,null,{default:s(()=>[i(k,{"bg-color":"green"},{default:s(()=>[c(d(n.ACT_POPUP.sender),1)]),_:1}),i(f,null,{default:s(()=>[i(h,{"no-hairlines-md":""},{default:s(()=>[i(V,{type:"text",outline:"",label:"T\xEAn g\u1ECDi","floating-label":"",placeholder:"ng\u1EAFn g\u1ECDn, v\xED d\u1EE5 a qu\xE2n/c ng\u1ECDc)",info:"\u0111\u1EC3 ti\u1EC7n x\u01B0ng h\xF4",maxlength:"20","error-message":"kh\xF4ng \u0111\u01B0\u1EE3c b\u1ECF tr\u1ED1ng!",required:"","clear-button":"",value:n.activity.customerName,"onUpdate:value":t[19]||(t[19]=v=>n.activity.customerName=v)},null,8,["value"]),n.activity.type=="ACTIVITY.QR_REQUEST"?(p(),y(V,{key:0,outline:"",label:"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i \u0111\u1EC3 li\xEAn h\u1EC7","floating-label":"",type:"text",placeholder:"nh\u1EADp \u0111\u1EC3 ti\u1EC7n li\xEAn h\u1EC7","error-message":"h\xE3y nh\u1EADp \u0111\u1EE7 10 s\u1ED1!",minlength:"10",maxlength:"11",validate:"",pattern:"[0-9]*","clear-button":"",value:n.activity.customerPhoneNumber,"onUpdate:value":t[20]||(t[20]=v=>n.activity.customerPhoneNumber=v)},null,8,["value"])):E("",!0),i(V,{outline:"",type:"textarea",label:"\u0110\u1ECBa ch\u1EC9","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","clear-button":"",value:n.activity.customerAddress,"onUpdate:value":t[21]||(t[21]=v=>n.activity.customerAddress=v)},null,8,["value"])]),_:1})]),_:1})]),_:1}),n.activity.type=="ACTIVITY.QR_REQUEST"?(p(),y(T,{key:0},{default:s(()=>[i(k,{"bg-color":"blue"},{default:s(()=>[c(d(n.ACT_POPUP.receiver),1)]),_:1}),i(f,null,{default:s(()=>[i(k,null,{default:s(()=>[c(d(n.supplier.name),1)]),_:1}),i(f,null,{default:s(()=>[c(d(n.supplier.address),1)]),_:1})]),_:1})]),_:1})):E("",!0),i(g,null,{default:s(()=>[i(K,null,{default:s(()=>[i(z,{width:"30"},{default:s(()=>[i(q,{raised:"",round:"",large:"",color:"gray",onClick:r.closeNewActivity},{default:s(()=>[gr,mr]),_:1},8,["onClick"])]),_:1}),i(z,{width:"60"},{default:s(()=>[i(q,{raised:"",round:"",fill:"",large:"",onClick:r.postActivity},{default:s(()=>[fr,c(d(n.ACT_POPUP.action),1)]),_:1},8,["onClick"])]),_:1})]),_:1}),i(re,null,{default:s(()=>[c(d(n.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"]),i(Z,{id:"view-activity",opened:n.enablePopup.view_activity,"onUpdate:opened":t[26]||(t[26]=v=>n.enablePopup.view_activity=v)},{default:s(()=>[i(U,null,{default:s(()=>[i(C,null,{default:s(()=>[i(m,{title:n.ACT_POPUP.nar_bar_title},null,8,["title"]),i(T,null,{default:s(()=>[i(k,{"bg-color":"green"},{default:s(()=>[c(d(n.ACT_POPUP.content),1)]),_:1}),i(f,null,{default:s(()=>[i(h,{"no-hairlines-md":""},{default:s(()=>[i(R,null,{default:s(()=>[c(d(n.view_activity.title),1)]),_:1}),i(R,null,{default:s(()=>[c(d(n.view_activity.description),1)]),_:1}),n.view_activity.type=="ACTIVITY.QRTASK"?(p(),y(R,{key:0},{default:s(()=>[c("\u0110\xE3 thu: "+d(r.formatMoney(n.view_activity.money)),1)]),_:1})):E("",!0),n.view_activity.type=="ACTIVITY.QRTASK"?(p(),y(R,{key:1},{default:s(()=>[c("Th\u1EF1c hi\u1EC7n l\xFAc: "+d(r.formatDateTime(n.view_activity.created)),1)]),_:1})):(p(),y(R,{key:2},{default:s(()=>[c("G\u1EEDi l\xFAc: "+d(r.formatDateTime(n.view_activity.created)),1)]),_:1})),i(g,null,{default:s(()=>[i(K,{"no-gap":""},{default:s(()=>[(p(!0),w(S,null,B(n.view_activity.imageUrls,v=>(p(),y(z,{width:"50",key:v},{default:s(()=>[o("img",{width:"100",src:v},null,8,vr)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),i(T,null,{default:s(()=>[i(k,{"bg-color":"green"},{default:s(()=>[c(d(n.ACT_POPUP.sender),1)]),_:1}),i(f,null,{default:s(()=>[i(h,{"no-hairlines-md":""},{default:s(()=>[i(R,null,{default:s(()=>[c(d(n.view_activity.customerName),1)]),_:1}),i(R,null,{default:s(()=>[c(d(n.view_activity.customerPhoneNumber),1)]),_:1}),i(R,null,{default:s(()=>[c(d(n.view_activity.customerAddress),1)]),_:1}),n.view_activity.type=="ACTIVITY.QRTASK"&&n.view_activity.status=="CONFIRMED"?(p(),y(R,{key:0},{default:s(()=>[c("X\xE1c nh\u1EADn l\xFAc "+d(r.formatDateTime(n.view_activity.modified)),1)]),_:1})):E("",!0),n.view_activity.type=="ACTIVITY.QRTASK"&&n.view_activity.status=="REJECTED"?(p(),y(R,{key:1},{default:s(()=>[c("T\u1EEB ch\u1ED1i l\xFAc "+d(r.formatDateTime(n.view_activity.modified)),1)]),_:1})):E("",!0)]),_:1})]),_:1})]),_:1}),n.view_activity.type=="ACTIVITY.QRTASK"&&(n.view_activity.status=="CONFIRMED"||n.view_activity.status=="REJECTED")?(p(),y(T,{key:0},{default:s(()=>[i(k,{"bg-color":"green"},{default:s(()=>[br]),_:1}),i(f,null,{default:s(()=>[n.view_activity.userComment?(p(),y(h,{key:0},{default:s(()=>[i(R,null,{default:s(()=>[c(d(n.view_activity.userComment),1)]),_:1})]),_:1})):(p(),y(h,{key:1},{default:s(()=>[i(R,null,{default:s(()=>[yr]),_:1})]),_:1}))]),_:1})]),_:1})):E("",!0),n.view_activity.type=="ACTIVITY.QR_REQUEST"||n.view_activity.type=="ACTIVITY.QRTASK"?(p(),y(T,{key:1},{default:s(()=>[i(k,{"bg-color":"blue"},{default:s(()=>[c(d(n.ACT_POPUP.receiver)+" ",1),i(j,{f7:n.supplier.status=="ACTIVE"?"star_circle":"star_slash"},null,8,["f7"])]),_:1}),i(f,null,{default:s(()=>[i(h,null,{default:s(()=>[i(R,null,{default:s(()=>[c(d(n.supplier.name),1)]),_:1}),i(R,null,{default:s(()=>[c(d(n.supplier.address),1)]),_:1})]),_:1})]),_:1})]),_:1})):E("",!0),n.view_activity.type=="ACTIVITY.QRTASK"&&n.view_activity.status=="CREATED"?(p(),y(T,{key:2},{default:s(()=>[i(k,{"bg-color":"green"},{default:s(()=>[kr]),_:1}),i(f,null,{default:s(()=>[i(h,null,{default:s(()=>[i(V,{type:"textarea",outline:"",label:"Nh\u1EADn x\xE9t","floating-label":"",resizable:"",placeholder:"nh\u1EADp t\u1ED1i \u0111a 100 k\xFD t\u1EF1",maxlength:"100","error-message":"b\u1EA1n \u0111\xE3 nh\u1EADp qu\xE1 d\xE0i!","clear-button":"",value:n.view_activity.userComment,"onUpdate:value":t[23]||(t[23]=v=>n.view_activity.userComment=v)},null,8,["value"])]),_:1})]),_:1})]),_:1})):E("",!0),i(g,null,{default:s(()=>[n.view_activity.type=="ACTIVITY.QRTASK"&&n.view_activity.status=="CREATED"?(p(),y(K,{key:0},{default:s(()=>[i(z,{width:"40"},{default:s(()=>[i(q,{raised:"",round:"",large:"",color:"gray",onClick:t[24]||(t[24]=v=>r.rejectQRTask())},{default:s(()=>[Ir]),_:1})]),_:1}),i(z,{width:"60"},{default:s(()=>[i(q,{fill:"",large:"",onClick:t[25]||(t[25]=v=>r.confirmQRTask())},{default:s(()=>[wr,Cr]),_:1})]),_:1})]),_:1})):(p(),y(K,{key:1},{default:s(()=>[i(z,{width:"100"},{default:s(()=>[i(q,{fill:"",round:"",large:"","popup-close":""},{default:s(()=>[Tr,Er]),_:1})]),_:1})]),_:1})),i(re,null,{default:s(()=>[c(d(n.ACT_POPUP.action_footer),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["opened"])]),_:1})}var Ar=x(Gl,[["render",Ur]]);const xr={props:{f7route:Object,f7router:Object}};function Dr(e,t,a,u,n,r){const m=l("f7-navbar"),b=l("f7-block"),h=l("f7-page");return p(),y(h,null,{default:s(()=>[i(m,{title:"V\xF2ng \u0111\u1EDDi thi\u1EBFt b\u1ECB","back-link":"Back"}),i(b,null,{default:s(()=>[o("h2",null,d(a.f7route.params.id),1)]),_:1})]),_:1})}var Rr=x(xr,[["render",Dr]]);const Pr={},Sr={color:"green"};function $r(e,t,a,u,n,r){const m=l("f7-navbar"),b=l("f7-block"),h=l("f7-page");return p(),y(h,null,{default:s(()=>[i(m,{title:"Th\xF4ng tin Ch\xEDnh h\xE3ng","back-link":"Back"}),i(b,null,{default:s(()=>[o("h2",Sr,d(e.f7route.params.id),1)]),_:1})]),_:1})}var Or=x(Pr,[["render",$r]]);const Lr={data(){return{user:{fullName:"H\u1ECD t\xEAn c\u1EE7a: B888.1a",roleId:2,roleCode:"BOSS",organizationId:888,teamId:0,personId:0,status:"ACTIVE",metadata:null,created:"2021-04-20T04:22:20.533Z",createdBy:1,modified:null,modifiedBy:null,realm:null,username:"B888.1",email:"B888.1@qrcare.net",emailVerified:!1,id:171},org:{name:"C\xF4ng ty TNHH ph\u1EA7n m\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam",type:"COMPANY",parties:["PARTY.SUPPLIER.SELLER","PARTY.SUPPLIER.SERVICE"],categories:null,fullname:"C\xF4ng ty TNHH ph\u1EA7n m\u1EC1m Ti\xEAn Ti\u1EBFn Vi\u1EC7t Nam",address:"305 H\u1ED3ng L\u1EA1c, Ph\u01B0\u1EDDng 10, Qu\u1EADn T\xE2n B\xECnh, TP H\u1ED3 Ch\xED Minh",logoUrl:"http://apps.vinaas.com/file/Isu2ck3Pe",website:"http://vinaas.com/",content:"CCCC",imageUrls:null,taxCode:"null",hotline:"0906826807",email:"contact@vinaas.com",facebook:"null",youtube:"null",gpsLocation:{lng:0,lat:0},directorId:0,QRCARE_Verified:0,QRCare_Rating:0,parentId:0,rootId:0,pdfUrl:"https://backend.qrcare.net/api/Containers/pdf/download/888-qraccount-2021-04-20-04-22-42-548Z.pdf",status:"ACTIVE",metadata:{},created:"2021-04-20T04:22:19.920Z",createdBy:null,modified:"2021-04-20T04:22:19.920Z",modifiedBy:null,id:888}}}},qr={class:"page-content no-padding-top",style:{"padding-bottom":"80px"}},Nr={class:"bg-color-blue"},Qr={class:"block no-margin no-padding"},Br={class:"list media-list no-hairlines no-margin"},Vr={style:{background:"transparent"}},zr=["href"],Mr={class:"item-media"},Yr={class:"style-role"},Fr={class:"item-inner align-self-center"},jr=o("div",{class:"item-title-row"},[o("div",{class:"item-title text-color-white text-uppercase fs-14"},"Ch\xE0o m\u1EEBng t\u1EDBi QRCare"),o("div",{class:"item-after"})],-1),Kr={class:"item-subtitle fs-16 text-color-white"},Hr={class:"item-text text-color-white"},Gr={class:"item-text fs-14 text-color-white"},Wr={class:"block-info-org"},Jr={class:"block no-margin"},Xr={class:"inner-info-org bg-color-white"},Zr={class:"logo"},ec=["src"],tc={class:"fs-20",style:{"font-weight":"700"}},ic={class:"fs-14",style:{color:"#999"}},oc={class:"fs-14",style:{color:"#999"}},nc={key:0,style:{"margin-top":"15px"}},sc=["href"],lc={key:0,class:"block no-margin-bottom",style:{"margin-top":"15px"}},ac={class:"row"},rc={class:"col-50"},cc=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12 display-flex justify-content-space-between",style:{"padding-bottom":"15px"}},[c(" C\xF4ng vi\u1EC7c "),o("span",{class:"badge color-orange fs-10"}," 20")]),o("div",{class:"row"},[o("div",{class:"col-50"}," Tu\u1EA7n "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")]),o("hr",{style:{"border-top":"1px dotted #ccc","border-bottom":"0"}}),o("div",{class:"row"},[o("div",{class:"col-50"}," Th\xE1ng "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")])],-1),dc={class:"col-50"},uc=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12 display-flex justify-content-space-between",style:{"padding-bottom":"15px"}},[c(" Y\xEAu c\u1EA7u ph\xE1t sinh "),o("span",{class:"badge color-orange fs-10"},"10")]),o("div",{class:"row"},[o("div",{class:"col-50"}," Tu\u1EA7n "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")]),o("hr",{style:{"border-top":"1px dotted #ccc","border-bottom":"0"}}),o("div",{class:"row"},[o("div",{class:"col-50"}," Th\xE1ng "),o("div",{class:"col-50 text-align-right fs-16",style:{"font-weight":"700"}}," 0 ")])],-1),pc={class:"col-50"},_c=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng th\u1EBB ph\xE1t h\xE0nh "),o("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," 0 ")],-1),hc={class:"col-50"},gc=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng s\u1ED1 s\u1EA3n ph\u1EA9m "),o("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," 0 ")],-1),mc={class:"col-100"},fc=o("div",{class:"statistic bg-color-white text-color-black w-100"},[o("div",{class:"fs-12",style:{"padding-bottom":"15px"}}," T\u1ED5ng s\u1ED1 nh\xE2n vi\xEAn "),o("div",{class:"fs-20 style-number",style:{"font-weight":"700"}}," users.length ")],-1);function vc(e,t,a,u,n,r){const m=l("f7-icon"),b=l("f7-fab"),h=l("f7-link"),g=l("f7-page");return p(),y(g,{"page-content":!1},{default:s(()=>[i(b,{position:"center-bottom",text:" Qu\xE9t",color:"green"},{default:s(()=>[i(m,{f7:"qrcode_viewfinder"})]),_:1}),o("div",qr,[o("div",Nr,[o("div",Qr,[o("div",Br,[o("ul",Vr,[o("li",null,[o("a",{href:"/my-account/"+n.user.id,class:"item-link item-content chevron-center",style:{"padding-top":"20px","padding-bottom":"50px"}},[o("div",Mr,[o("div",Yr,d(n.user.roleCode),1)]),o("div",Fr,[jr,o("div",Kr,d(n.user.fullName),1),o("div",Hr,"Username: "+d(n.user.username),1),o("div",Gr,"Email "+d(n.user.email),1)])],8,zr)])])])])]),o("div",Wr,[o("div",Jr,[o("div",Xr,[o("div",Zr,[o("img",{src:n.org.logoUrl,width:"100",alt:""},null,8,ec)]),o("div",tc,d(n.org.fullname),1),o("div",ic," \u0110\u1ECBa ch\u1EC9: "+d(n.org.address),1),o("div",oc," Hotline: "+d(n.org.hotline),1),n.user.roleCode=="BOSS"?(p(),w("div",nc,[o("a",{href:"/edit-supplier/"+n.org.id,class:"col button button-fill button-large fs-14"},"C\u1EADp nh\u1EADt th\xF4ng tin",8,sc)])):E("",!0)])])]),n.user.roleCode=="BOSS"?(p(),w("div",lc,[o("div",ac,[o("div",rc,[i(h,{href:"/list-work-history",class:"w-100"},{default:s(()=>[cc]),_:1})]),o("div",dc,[i(h,{href:"/list-request",class:"w-100"},{default:s(()=>[uc]),_:1})]),o("div",pc,[i(h,{href:"",class:"w-100"},{default:s(()=>[_c]),_:1})]),o("div",hc,[i(h,{class:"w-100"},{default:s(()=>[gc]),_:1})]),o("div",mc,[i(h,{href:"/list-staff",class:"w-100"},{default:s(()=>[fc]),_:1})])])])):E("",!0)])]),_:1})}var bc=x(Lr,[["render",vc]]);const yc=se({name:"QrLogin",emits:["detect","warning"],components:{QrStream:pe.exports.QrStream,QrCapture:pe.exports.QrCapture},data(){return{qrUrl:"",warning:!1}},methods:{async onDecode(e){console.log("onDecode",e),e.includes("backend.qrcare.net/api/ApplicationUsers/")||e.includes("m.qrcare.vn/u/")?(this.qrUrl=e,this.$emit("detect",e)):e&&this.$emit("warning",e)}}}),kc=e=>(de("data-v-4dd3d254"),e=e(),ue(),e),Ic={class:"reader"},wc={class:"center stream"},Cc=kc(()=>o("div",{style:{color:"red"},class:"frame"},null,-1)),Tc={key:0,"text-color":"red"};function Ec(e,t,a,u,n,r){const m=l("qr-stream");return p(),w("div",Ic,[o("div",null,[o("div",wc,[i(m,{onDecode:e.onDecode,class:"mb"},{default:s(()=>[Cc]),_:1},8,["onDecode"])])]),e.warning?(p(),w("h3",Tc,"M\xE3 QRCode kh\xF4ng \u0111\xFAng.")):E("",!0)])}var ve=x(yc,[["render",Ec],["__scopeId","data-v-4dd3d254"]]);const Uc=se({props:{f7route:Object,f7router:Object},components:{QrScanOne:ve},data(){const e=ne();e.desktop?console.log("It is desktop"):console.log("It is mobile");let t="",a="";return M("isDemoCard")&&(t="888.10",a="QRcare888.10"),{qrUrl:"",device:e,username:t,password:a}},methods:{detectURl(e){console.log(e),this.qrUrl=e,this.clickLogin()},showWarning(e){Q.dialog.alert("qrcode kh\xF4ng h\u1EE3p l\u1EC7!<br>",e)},async clickLogin(){if(this.qrUrl){let e=this.qrUrl;if(this.qrUrl.includes("backend.qrcare.net"))e=this.qrUrl.replace("backend.qrcare.net","api.qrcare.net");else if(this.qrUrl.includes("m.qrcare.vn/u")){let t=this.qrUrl.replace("/u/","/ApplicationUsers/");t=t.replace("/t/","?access_token="),e=t}await this.loginByUrl(e)}else await this.loginByAccount()},async loginByUrl(e){let t=await this.$axios.get(e);t&&t.data&&(console.log(t.data),N.dispatch("login",t.data),this.f7router.back())},async loginByAccount(){var e={username:this.username,password:this.password};let a=(await this.$axios.post(Y.BASE_URL+"ApplicationUsers/login",e)).data;if(a.id&&a.userId){console.log("loginAction",a);let u=Y.BASE_URL+"ApplicationUsers/"+a.userId+"?access_token="+a.id;await this.loginByUrl(u)}}}}),Ac=c("Qu\xE9t Th\u1EBB QRLogin \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng \u0111\u0103ng nh\u1EADp "),xc=c("Ho\u1EB7c cung c\u1EA5p th\xF4ng tin"),Dc=c("\u0110\u0103ng nh\u1EADp"),Rc=o("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),Pc=o("p",null,"Email: sales@qrcare.net ",-1),Sc=o("p",null,"Phone: +84 906 826 807",-1);function $c(e,t,a,u,n,r){const m=l("qr-scan-one"),b=l("f7-block-footer"),h=l("f7-block"),g=l("f7-block-title"),_=l("f7-list-input"),k=l("f7-list"),f=l("f7-button"),T=l("f7-page");return p(),y(T,{name:"Login Desktop"},{default:s(()=>[e.device.desktop?E("",!0):(p(),y(h,{key:0},{default:s(()=>[i(m,{onDetect:e.detectURl,onWarning:e.showWarning},null,8,["onDetect","onWarning"]),i(b,{style:{"margin-top":"20px"}},{default:s(()=>[Ac]),_:1})]),_:1})),i(h,null,{default:s(()=>[i(g,null,{default:s(()=>[xc]),_:1}),i(k,{form:""},{default:s(()=>[i(_,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:e.username,"onUpdate:value":t[0]||(t[0]=C=>e.username=C)},null,8,["value"]),i(_,{type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:e.password,"onUpdate:value":t[1]||(t[1]=C=>e.password=C)},null,8,["value"])]),_:1}),i(f,{fill:"",large:"",round:"",onClick:e.clickLogin},{default:s(()=>[Dc]),_:1},8,["onClick"]),i(k,null,{default:s(()=>[i(b,null,{default:s(()=>[Rc,Pc,Sc]),_:1})]),_:1})]),_:1})]),_:1})}var Oc=x(Uc,[["render",$c]]);const Lc=se({props:{f7route:Object,f7router:Object},components:{QrScanOne:ve},data(){const e=ne();e.desktop?console.log("It is desktop"):console.log("It is mobile");let t="",a="";return t="888.10",a="QRcare888.10",{qrUrl:"",device:e,username:t,password:a}},methods:{detectURl(e){console.log(e),this.qrUrl=e,this.clickLogin()},showWarning(e){Q.dialog.alert("qrcode kh\xF4ng h\u1EE3p l\u1EC7!")},async clickLogin(){if(console.log("clickLogin()",this.qrUrl),this.qrUrl){let e=this.qrUrl;this.qrUrl.includes("backend.qrcare.net")&&(e=this.qrUrl.replace("backend.qrcare.net","api.qrcare.net")),await this.loginByUrl(e)}else await this.loginByAccount()},async loginByUrl(e){let t=await this.$axios.get(e);t&&t.data&&(console.log(t.data),N.dispatch("login",t.data),this.f7router.back())},async loginByAccount(){var e={username:this.username,password:this.password};await this.$authen.loginByAccount(e)&&(console.log("to home()"),this.f7router.navigate("/"))}}}),qc=c("Qu\xE9t Th\u1EBB QRLogin \u0111\u1EC3 t\u1EF1 \u0111\u1ED9ng \u0111\u0103ng nh\u1EADp "),Nc=c("Ho\u1EB7c cung c\u1EA5p th\xF4ng tin"),Qc=c("\u0110\u0103ng nh\u1EADp"),Bc=o("p",null,"Li\xEAn h\u1EC7 v\u1EDBi ch\xFAng t\xF4i \u0111\u1EC3 \u0111\u01B0\u1EE3c c\u1EA5p t\xE0i kho\u1EA3n",-1),Vc=o("p",null,"Email: sales@qrcare.net ",-1),zc=o("p",null,"Phone: +84 906 826 807",-1);function Mc(e,t,a,u,n,r){const m=l("qr-scan-one"),b=l("f7-block-footer"),h=l("f7-block"),g=l("f7-block-title"),_=l("f7-list-input"),k=l("f7-list"),f=l("f7-button"),T=l("f7-page");return p(),y(T,{name:"Login Desktop"},{default:s(()=>[e.device.desktop?E("",!0):(p(),y(h,{key:0},{default:s(()=>[i(m,{onDetect:e.detectURl,onWarning:e.showWarning},null,8,["onDetect","onWarning"]),i(b,{style:{"margin-top":"20px"}},{default:s(()=>[qc]),_:1})]),_:1})),i(h,null,{default:s(()=>[i(g,null,{default:s(()=>[Nc]),_:1}),i(k,null,{default:s(()=>[i(_,{outline:"",type:"text",label:"username","floating-label":"",placeholder:"username",value:e.username,"onUpdate:value":t[0]||(t[0]=C=>e.username=C)},null,8,["value"]),i(_,{outline:"",label:"m\u1EADt kh\u1EA9u","floating-label":"",type:"password",name:"password",placeholder:"m\u1EADt kh\u1EA9u",value:e.password,"onUpdate:value":t[1]||(t[1]=C=>e.password=C)},null,8,["value"])]),_:1}),i(f,{fill:"",large:"",round:"",onClick:e.clickLogin},{default:s(()=>[Qc]),_:1},8,["onClick"]),i(k,null,{default:s(()=>[i(b,null,{default:s(()=>[Bc,Vc,zc]),_:1})]),_:1})]),_:1})]),_:1})}var Yc=x(Lc,[["render",Mc]]);const Fc={props:{f7route:Object,f7router:Object},setup(){return{isAuthen:N.state.isLogged,login:()=>{N.dispatch("login")},logout:()=>{N.dispatch("logout")}}},methods:{changeStatus(){this.isAuthen?this.logout():this.login()}},mounted(){const e=localStorage.getItem("fcm-token");console.log("home()",e)},async created(){}},jc=c("QRCare VN"),Kc=o("p",null,"\u0110\xE2y l\xE0 Trang ch\u01B0a \u0111\u0103ng nh\u1EADp c\u1EE7a \u1EE9ng d\u1EE5ng QRCare",-1),Hc=c("\u0110\u0103ng nh\u1EADp"),Gc=c("Demo Ch\u1EE5p h\xECnh "),Wc=c("Danh s\xE1ch Th\u1EBB Thi\u1EBFt b\u1ECB"),Jc=c("Danh s\xE1ch Th\u1EBB T\xE0i s\u1EA3n "),Xc=c("Danh s\xE1ch Th\u1EBB s\u1EA3n ph\u1EA9m"),Zc=c("Danh s\xE1ch Th\u1EBB tr\xEAn Th\xF9ng s\u1EA3n ph\u1EA9m");function ed(e,t,a,u,n,r){const m=l("f7-link"),b=l("f7-nav-left"),h=l("f7-nav-title"),g=l("f7-navbar"),_=l("f7-block"),k=l("f7-block-title"),f=l("f7-button"),T=l("f7-row"),C=l("f7-list-item"),U=l("f7-list"),I=l("f7-page");return p(),y(I,{name:"home"},{default:s(()=>[i(g,{sliding:!1},{default:s(()=>[i(b,null,{default:s(()=>[i(m,{"icon-ios":"f7:menu","icon-aurora":"f7:menu","icon-md":"material:menu","panel-open":"left"})]),_:1}),i(h,{sliding:""},{default:s(()=>[jc]),_:1})]),_:1}),i(_,{strong:""},{default:s(()=>[Kc]),_:1}),i(k,null,{default:s(()=>[Hc]),_:1}),i(_,{strong:""},{default:s(()=>[i(T,null,{default:s(()=>[i(f,{fill:"",raised:"",href:"/about/"},{default:s(()=>[Gc]),_:1})]),_:1})]),_:1}),i(k,null,{default:s(()=>[Wc]),_:1}),i(U,null,{default:s(()=>[i(C,{link:"/d/100010010200011/p/39036827",title:"GENERATED"}),i(C,{link:"/d/100010010200006/p/29237987",title:"GENERATED"}),i(C,{link:"/d/100010010200007/p/43199603",title:"GENERATED"}),i(C,{link:"/d/100010010200008/p/32790292",title:"GENERATED"}),i(C,{link:"/d/100010010200184/p/62537836",title:"ACTIVE"}),i(C,{link:"/d/100010010200001/p/27975695",title:"ACTIVE"}),i(C,{link:"/d/100010010200040/p/26483375",title:"ACTIVE"}),i(C,{link:"/d/100010010200054/p/26358531",title:"ACTIVE"})]),_:1}),i(k,null,{default:s(()=>[Jc]),_:1}),i(U,null,{default:s(()=>[i(C,{link:"/a/100010010200184/p/62537836",title:"ACTIVE"})]),_:1}),i(k,null,{default:s(()=>[Xc]),_:1}),i(U,null,{default:s(()=>[i(C,{link:"/p/100010010200184/p/62537836",title:"ACTIVE"}),i(C,{link:"/p/100010010200184/p/62537836",title:"ACTIVE"})]),_:1}),i(k,null,{default:s(()=>[Zc]),_:1}),i(U,null,{default:s(()=>[i(C,{link:"/pb/100010010200184/p/62537836",title:"ACTIVE"}),i(C,{link:"/pb/100010010200184/p/62537836",title:"ACTIVE"})]),_:1})]),_:1})}var td=x(Fc,[["render",ed]]);const id={};function od(e,t){return null}var nd=x(id,[["render",od]]),sd=[{path:"/",component:Is},{path:"/m/:id/p/:privateCode",component:me},{path:"/u/:id/t/:access_token",component:nd},{path:"/d/:id/p/:privateCode",component:Ar},{path:"/p/:id/p/:privateCode",component:Rr},{path:"/pb/:id/p/:privateCode",component:Or},{path:"/a/:id/p/:privateCode",component:bc},{path:"/about/",component:vl},{path:"/qr-login/",component:Oc},{path:"/login/",component:Yc},{path:"/test/",component:td},{path:"/form/",component:Ml,beforeEnter({app:e,resolve:t,reject:a,router:u}){localStorage.getItem("userId"),localStorage.get("access_token"),console.log("beforeEnter()"),a(),u.navigate("/login/")}},{path:"(.*)",component:Hl}],ld={apiKey:"AIzaSyCpP1I0ELs9-4hwYzbprww_AmWXWZXSxBA",authDomain:"qrcare-aab37.firebaseapp.com",projectId:"qrcare-aab37",storageBucket:"qrcare-aab37.appspot.com",messagingSenderId:"778751086282",appId:"1:778751086282:web:2ab7ddf07bf029a14a2e33",measurementId:"G-D1ZE9SQ2TH"};const ad=we(ld),ie=Ce(ad);Te(ie,{vapidKey:"BGxx-fjPINkBky_OPMHnaEt5I-Nw6T4b-tyQC9BBoXXGF3a0Romv0Y4PP2oB9heOK4pCh6EgNEXYj9yWWEAba6I"}).then(e=>{if(e){localStorage.setItem("fcm-token",e);const t=localStorage.getItem("userId");t>0?te.postUserDeviceToken(e,t).then(a=>{console.log("post getToken()",e)}):console.log("nothing getToken()",e)}else console.log("No registration token available. Request permission to generate one.")}).catch(e=>{console.log("An error occurred while retrieving token. ",e)});Ee(ie,e=>{console.log("baotnq Message received. ",e),window.alert(e.data)});const rd={setup(){return Ue("messaging",ie),{f7params:{name:"QRCare.vn",theme:"auto",version:"1.1.3",view:{browserHistory:!0},store:N,routes:sd,serviceWorker:{path:"/service-worker.js"}}}},data(){return{}},methods:{},mounted(){let e=M("isLogged");console.log("isLogged",e),e||console.log("go to mounted")}};function cd(e,t,a,u,n,r){const m=l("f7-view"),b=l("f7-app");return p(),y(b,Ae(xe(u.f7params)),{default:s(()=>[i(m,{main:"",class:"safe-areas",url:"/"})]),_:1},16)}var dd=x(rd,[["render",cd]]),D=W.create({baseURL:Y.BASE_URL,headers:{"content-type":"application/json"}});let oe={getFilename(e){if(e){var t=e.toString().match(/.*\/(.+?)\./);if(t&&t.length>1)return t[1]}return""},blobCreationFromURL(e){const t=e.split(","),a=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),u=t[0].split(":")[1].split(";")[0],n=new Uint8Array(a.length);for(let r=0;r<a.length;r++)n[r]=a.charCodeAt(r);return new Blob([n],{type:u})},getActivityName(e){let t="";return e.type==="ACTIVITY.QR_REQUEST"&&(t+="Y\xEAu c\u1EA7u",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRTASK"&&(t+="C\xF4ng vi\u1EC7c",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),e.type==="ACTIVITY.QRNOTE"&&(t+="Ghi ch\xFA",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi")),e.type==="ACTIVITY.QRDelivery"&&(t+="B\xE0n giao",e.status=="CREATED"&&(t+=" \u0111\xE3 g\u1EEDi"),e.status=="CONFIRMED"&&(t+="Kh\xE1ch h\xE0ng x\xE1c nh\u1EADn"),e.status=="REJECTED"&&(t+="Kh\xE1ch h\xE0ng t\u1EEB ch\u1ED1i")),t},getActivityColor(e){if(e.type==="ACTIVITY.QR_REQUEST")return"item-title text-color-orange";if(e.type==="ACTIVITY.QRTASK"){if(e.status==="CONFIRMED")return"item-title text-color-green";if(e.status==="CREATED")return"item-title text-color-blue"}return e.type==="ACTIVITY.QRNOTE"?"item-title text-color-blue":"item-title text-color-black"},getFilter(e=null){return e||{skip:0,limit:10}},formatDate(e){if(e)return _e(new Date(e),"dd-MM-yyyy")},formatDateTime(e){return e?_e(new Date(e),"dd-MM-yyyy hh:mm"):""},formatMoney(e){return new Intl.NumberFormat("de-DE",{style:"currency",currency:"VND"}).format(e)}},ud={async getQRID(e){if(e>0)return(await D.get(`Organizations/${e}/supportQRIDs`,{params:{filter:{limit:20,where:{status:"ACTIVE"}}}})).data||[]},async getSellProducts(e,t={}){if(e>0)return(await D.get(`Organizations/${e}/sellProducts`,{params:{filter:{limit:20}}})).data||[]},async getProduct(e){if(e>0)return(await D.get(`Products/${e}`)).data||{}},async updateProduct(e,t){return e>0?(t.modified=new Date,(await D.patch(`Products/${e}`,t)).data||{}):(t.created=new Date,t.createdBy=N.state.user.id,t.status="CREATED",(await D.post("Products",t)).data||{})},async getQRTask(e,t=0,a={}){if(e>0){let u={};u.type={inq:["ACTIVITY.QRTASK","ACTIVITY.QRDELIVERY"]},t>0&&(u.supplierStaffId=t);let n={order:"id desc",where:u};return n=he(n,a),await this.getQRActivities(e,n)}},async getRequest(e,t={}){if(e>0){let a={};a.type={inq:["ACTIVITY.QR_FEEDBACK","ACTIVITY.QR_REQUEST","ACTIVITY.SUPPLIER_REQUEST","QRCARE_REQUEST"]};let u={order:"id desc",where:a};return u=he(u,t),await this.getQRActivities(e,u)}},async getQRActivities(e,t){return(await D.get("/Organizations/"+e+"/supplierActivities",{params:{filter:t}})).data},async countQRTask(e,t=0,a={}){let u={};return u.type={inq:["ACTIVITY.QRTASK","ACTIVITY.QRDELIVERY"]},t>0&&(u.supplierStaffId=t),await this.countQRActivities(e,u)},async countRequest(e,t={}){let a={};return a.type={inq:["ACTIVITY.QR_FEEDBACK","ACTIVITY.QR_REQUEST","ACTIVITY.SUPPLIER_REQUEST","QRCARE_REQUEST"]},await this.countQRActivities(e,a)},async countQRActivities(e,t){return(await D.get("/Organizations/"+e+"/supplierActivities/count",{params:{where:t}})).data},async validateQRUrl(e){let t=["https://qrcare.net/#!/lifecycle/100010010000000/private/24135380","https://qrcare.net/#!/authentic/100010010000000/private/241353","https://qrcare.net/#!/lifecycle/100010010000002/private/20549215","https://qrcare.net/#!/authentic/100010010000002/private/205492","https://qrcare.net/#!/lifecycle/100010010000001/private/24197092","https://qrcare.net/#!/authentic/100010010000001/private/24197092","https://qrcare.net/#!/lifecycle/100010010020000/private/33249616","https://qrcare.net/#!/lifecycle/100010010020002/private/19647305","https://qrcare.net/#!/lifecycle/100010010020001/private/87957579","https://qrcare.net/#!/lifecycle/100010010020003/private/36250781"];try{let a=parseInt(e);a<t.length&&(e=t[a]);const u=await D.post("/QRPackages/validateQRUrl",{qrUrl:e});return console.log("validate",u),u.data}catch(a){return}},async getInfo(e,t={}){if(e>0){const a=await D.get("Organizations/"+e);return a.data&&a.data.id?a.data:{}}},async updateSupplier(e,t){let a={name:t.name,fullname:t.fullname,address:t.address,logoUrl:t.logoUrl,website:t.website,taxCode:t.taxCode,hotline:t.hotline,modified:new Date,content:t.content};return await D.patch("Organizations/"+e,a)},async changeInactive(e){if(e>0){const t=await D.patch("Organizations/"+e,{status:"INACTIVE",modified:new Date});return t.data&&t.data.id?t.data:{}}},async getSupplierEmployee(e,t){if(e&&t)return(await D.get(`/Organizations/${t}/users/${e}`)).data},async getUsers(e,t={}){if(e>0)return(await D.get("/Organizations/"+e+"/users",{params:{filter:oe.getFilter(t)}})).data},async getUser(e){if(orgId>0)return(await D.get("/Organizations/"+orgId+"/users",{params:{filter:oe.getFilter(filter)}})).data},async getPackage(e){if(e>0)return(await D.get("/QRPackages/"+e)).data},async getPackages(e,t={}){if(e>0)return(await D.get("/Organizations/"+e+"/generatedPackages",{params:{filter:oe.getFilter(t)}})).data},async updatePackage(e,t){if(e>0)return(await D.patch("/QRPackages/"+e,t)).data},async getPackageQRIDs(e,t={}){if(e>0)return await D.get(`/QRPackages/${e}/qridList`,t)},async getProductForSearch(e){let t="",a={fields:{id:!0,title:!0,imageUrls:!0,description:!0,experyDays:!0},limit:10};return e&&e.length>2&&(t="%"+e+"%",a={fields:{id:!0,title:!0,imageUrls:!0,description:!0},where:{title:{ilike:t}},limit:10}),await this.getSellProducts(a)},async getStaffForSearch(e,t){let a="",u={fields:{id:!0,fullName:!0},where:{}};return t&&(a="%"+t+"%",u.where.fullName={ilike:a}),await this.getUsers(e,u)},async getLifeCycle(e,t=null){return(await D.get("/QRIDs/"+e,{params:{filter:{include:["history"]}}})).data},async getQRID_CustomerInfo(e){return(await D.get("/QRIDs/"+e,{params:{filter:{fields:{id:!0,cardType:!0,status:!0,ownerName:!0,ownerPhoneNumber:!0,ownerAddress:!0}}}})).data},async updateDevice(e){return e.status=e.status?e.status:"QRID_STATUS.CREATED",e.modified=new Date().toISOString(),e.id>0?await D.patch("/QRIDs/"+e.id,e):!1},async updateOwner(e){return e.id>0?await D.patch("/QRIDs/"+e.id,e):!1},async activeUsing(e){return e.status="QRID_STATUS.ACTIVE",e.activatedDate=new Date().toISOString(),e.id>0?await D.patch("/QRIDs/"+e.id,e):null},async addActivateTask(e){return e.type="ACTIVITY.QRDELIVERY",await this.createQRActivity(e)},async addTask(e){return e.type="ACTIVITY.QRTASK",await this.createQRActivity(e)},async createQRActivity(e){return e.status="CREATED",e.created=new Date().toISOString(),e.supplierOrganizationId=N.state.org.id||0,e.supplierStaffId=N.state.user.id||0,e.createdBy=N.state.user.id,await D.post("/QRActivities",e)},async updateQRActivity(e){return await D.patch("/QRActivities/"+e.id,e)},async createQRDelivery(e){},async removeUserDeviceToken(e){let a=(await D.get("/UserDeviceTokens/",{params:{filter:{where:{userId:e}}}})).data;a&&a.length&&a.forEach(u=>{D.delete("/UserDeviceTokens/"+u.id)})},async getFireBaseToken(e){try{const t=localStorage.getItem("fcm-token");console.log("home()",t),this.postUserDeviceToken(token,e),await FCM.subscribeToTopic("latest_news")}catch(t){console.log(t)}},async sendPushNoti(e,t,a){await D.get("/UserDeviceTokens/sendPushNotificationToUserId",{params:{userid:e,title:t,body:a}})}};De.use(Re);const H=Pe(dd);H.config.globalProperties.$axios=D;H.config.globalProperties.$store=N;H.config.globalProperties.$utils=oe;H.config.globalProperties.$authen=te;H.config.globalProperties.$supplier=ud;H.config.globalProperties.$messaging=ie;Se(H);H.mount("#app");
